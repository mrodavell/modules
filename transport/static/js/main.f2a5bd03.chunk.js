(this.webpackJsonpustphims=this.webpackJsonpustphims||[]).push([[0],{217:function(e,a,t){e.exports=t.p+"static/media/logo.dc773f1f.jpg"},218:function(e,a,t){e.exports=t.p+"static/media/marina.3d4d22a6.png"},235:function(e,a,t){e.exports=t.p+"static/media/Template.93bdb522.xlsx"},370:function(e,a){},437:function(e,a,t){e.exports=t.p+"static/media/dto.1f15fbb3.png"},445:function(e,a,t){e.exports=t.p+"static/media/icon.c0920caa.png"},468:function(e,a,t){e.exports=t(749)},474:function(e,a,t){},479:function(e,a,t){},498:function(e,a,t){},500:function(e,a,t){},512:function(e,a){},513:function(e,a){},514:function(e,a,t){},746:function(e,a,t){},747:function(e,a,t){},748:function(e,a,t){},749:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),c=t.n(l),s=(t(473),t(474),t(6)),o=t(133),i=t(39),m=t(455),u=Object(n.createContext)();function d(){return Object(n.useContext)(u)}var p=function(e){var a=e.component,t=Object(m.a)(e,["component"]),n=d();return r.a.createElement(i.b,Object.assign({},t,{render:function(e){return function(e){return null!==e.authTokens&&!(e.authTokens.expires_in>Date.now())}(n)?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/login"})}}))},E=(t(479),t(216)),b=t.n(E),f=b.a.create({baseURL:"https://passengertracer.net/apis/api/v1/"}),g=t(75),h=t(228),v=t(759),O=t(176),j=t(102),y=t.n(j),N=t(103),S=t.n(N),x=t(439),C=t.n(x),w=t(440),_=t.n(w),k=t(441),T=t.n(k),P=t(442),D=t.n(P),M=t(438),A=t.n(M),W=t(126),q=t(775),z=t(777),I=t(778),F=t(779),L=t(780),U=t(782),R=t(8),B=t(9),H=(t(498),t(217)),G=t.n(H),Y=t(218),V=t.n(Y),J=t(437),K=t.n(J),Z=t(219),Q=t(220),X=t(244),$=t(243),ee=function(e){Object(X.a)(t,e);var a=Object($.a)(t);function t(){return Object(Z.a)(this,t),a.apply(this,arguments)}return Object(Q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("span",{className:"text-danger text-center p-1"},this.props.children))}}]),t}(n.Component),ae=t(806),te=Object(g.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(2.3),height:e.spacing(2.3),float:"left",marginLeft:"7px",marginTop:"3px"},large:{width:e.spacing(7),height:e.spacing(7)}}})),ne=function(e){var a=te(),t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)("Oops! sorry something went wrong..."),g=Object(s.a)(b,2),j=g[0],N=g[1],x=d(),w=x.authTokens,k=x.setAuthTokens,P=Object(n.useState)(!1),M=Object(s.a)(P,2),H=M[0],Y=M[1];if(null!==w&&w.expires_in<Date.now())return r.a.createElement(i.a,{to:"/"});return r.a.createElement(q.a,{style:{width:"959px",marginTop:"5%"}},r.a.createElement("a",{href:"https://passengertracer.net/",rel:"noopener noreferrer",className:"btn m-0 p-0 mb-1 text-white"},r.a.createElement(A.a,{style:{fontSize:"0.9em"}})," Go Back to Portal"),r.a.createElement(z.a,{className:"bg-primary p-0 m-0",style:{borderRadius:"0px",border:"none",opacity:"0.9"}},r.a.createElement(I.a,{className:"p-0 m-0"},r.a.createElement(F.a,{xs:6,className:"text-center text-white p-2"},r.a.createElement("img",{className:"mt-5",src:V.a,width:"90",height:"110",alt:"Marina Logo"}),r.a.createElement("a",{href:"https://marina.gov.ph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement("h3",{className:"mt-4"},"Maritime Industry Authority")),r.a.createElement("div",{className:"text-center pl-5 pr-5 ml-0"},"Follow us on: ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.facebook.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white mr-1",style:{textDecoration:"none"}},r.a.createElement(C.a,{className:a.large})),r.a.createElement("a",{href:"https://twitter.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(_.a,{className:a.large})),r.a.createElement("a",{href:"https://www.instagram.com/dotrmarinaph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(T.a,{className:a.large})),r.a.createElement("a",{href:"https://www.youtube.com/channel/UCK9SPcPFhiWLBUXAzlQqsxg",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(D.a,{className:a.large}))),r.a.createElement("div",{style:{fontSize:"0.9rem",marginTop:"25%",marginLeft:"10%"}},r.a.createElement("span",{className:"float-left"},"Powered By: "),r.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/ustpdigitaltransformation",rel:"noopener noreferrer",className:"text-white",style:{textDecoration:"none"}},r.a.createElement(ae.a,{src:K.a,className:a.small}),r.a.createElement("span",{className:"float-left ml-1"},"USTP - Digital Transformation Office")))),r.a.createElement(F.a,{xs:6,className:"p-0 m-0"},r.a.createElement(z.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(F.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-2",src:G.a,style:{width:"8rem",height:"10rem"},alt:"Passenger eTracer Logo"}),r.a.createElement("h5",null,"Transport Module")),r.a.createElement(F.a,{xs:12},r.a.createElement(L.a,{onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector("input[name=username]").value,t=document.querySelector("input[name=password]").value;""!==a&&""!==t?(o(!0),f.post("auth/carrier/login",{username:a,password:t}).then((function(e){o(!1),200===e.status?!1===e.data.status?(N(e.data.error),E(!0)):k(e.data):254===e.status?(N(e.data.message),E(!0)):E(!0)})).catch((function(e){o(!1),E(!0)}))):(N("Please enter a username and password"),E(!0))}(e)},autoComplete:"off"},r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},p&&r.a.createElement(ee,null,j)),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:H?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return Y(!H)}},H?r.a.createElement(y.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(U.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(W.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:c,fullWidth:!0},r.a.createElement("span",null,"LOGIN"),r.a.createElement(R.a,{className:"pl-1",icon:B.u})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"register",variant:"contained",color:"primary",className:"pt-1 btn",disabled:c},r.a.createElement(R.a,{className:"pr-1",icon:B.y}),r.a.createElement("span",null,"REGISTER HERE"))))))))))))},re=(t(500),t(19)),le=t.n(re),ce=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)("Oops! sorry something went wrong..."),f=Object(s.a)(E,2),g=f[0],j=f[1],N=d().authTokens,x=Object(n.useState)(!1),C=Object(s.a)(x,2),w=C[0],_=C[1],k=Object(n.useState)(!1),T=Object(s.a)(k,2),P=T[0],D=T[1];if(null!==N&&N.expires_in<Date.now())return r.a.createElement(i.a,{to:"/"});return r.a.createElement(q.a,{className:"rounded",style:{width:"762px",marginTop:"2%"}},r.a.createElement(z.a,{className:"bg-primary p-0 m-0 rounded",style:{border:"none",opacity:"0.88"}},r.a.createElement(I.a,{className:"p-0 m-0"},r.a.createElement(F.a,{xs:12,className:"p-0 m-0"},r.a.createElement(z.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(F.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-1",src:V.a,style:{width:"4rem",height:"4.5rem"},alt:"MARINA Logo"}),r.a.createElement("img",{className:"mt-1",src:G.a,style:{width:"5rem",height:"6rem"},alt:"Passenger eTracer Logo"})),r.a.createElement(F.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("h4",null,r.a.createElement(R.a,{className:"pr-1",icon:B.a})," Register New Company")),r.a.createElement(F.a,{xs:{size:10,offset:1}},r.a.createElement(L.a,{onSubmit:function(a){return function(a){a.preventDefault();var t=document.querySelector("input[name=company]").value,n=document.querySelector("input[name=mobile]").value,r=document.querySelector("input[name=address]").value,l=document.querySelector("input[name=username]").value,s=document.querySelector("input[name=password]").value,o=document.querySelector("input[name=repassword]").value;if(""!==l&&""!==s){if(s!==o)return j("Password doesn't match"),p(!0),null;c(!0);var i={carrier_name:t,carrier_contact:n,carrier_address:r,username:l,password:s};b.a.post("https://passengertracer.net/apis/api/account/register",i).then((function(a){(c(!1),200===a.status)?0===a.data.error?(j(a.data.message),p(!0)):le.a.fire("Transaction Completed!","Account Successfully Registered!","success").then((function(){e.history.push("/")})):254===a.status?(j(a.data.message),p(!0)):p(!0)})).catch((function(e){c(!1),p(!0)}))}else j("Please enter a username and password"),p(!0)}(a)},autoComplete:"off"},r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},u&&r.a.createElement(ee,null,g)),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"company",placeholder:"Company Name",label:"Company Name",fullWidth:!0,required:!0})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"mobile",placeholder:"Contact Number",label:"Contact Number",fullWidth:!0,required:!0})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"address",placeholder:"Address",label:"Address",fullWidth:!0,required:!0})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:w?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return _(!w)}},w?r.a.createElement(y.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:P?"text":"password",name:"repassword",placeholder:"Re-type Password",label:"Re-type Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return D(!P)}},P?r.a.createElement(y.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(F.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},l?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(U.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(W.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:l,fullWidth:!0},r.a.createElement("span",null,"Register"),r.a.createElement(R.a,{className:"pl-1",icon:B.f})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"login",variant:"contained",color:"primary",className:"pt-1 btn",disabled:l},r.a.createElement("span",null,"LOGIN HERE"),r.a.createElement(R.a,{className:"pl-1",icon:B.u}))))))))))))},se=t(177),oe=t(298),ie=Object(n.createContext)();function me(){return Object(n.useContext)(ie)}var ue=t(445),de=t.n(ue),pe=t(47),Ee=function(e){var a=(new pe.a).format(new Date,"Y");return r.a.createElement("div",null,r.a.createElement("footer",{className:"m-0 p-0 ml-1",style:{bottom:"0",left:"0",position:"fixed"}},r.a.createElement("small",null,"Copyright \xa9 ",a,". "),r.a.createElement("small",null,"All rights reserved")))},be=t(805),fe=t(784),ge=t(785),he=t(786),ve=t(787),Oe=t(788),je=t(146),ye=t(783),Ne=t(291),Se=t(76);function xe(e){return r.a.createElement(Ne.a,{display:"flex",alignItems:"center"},r.a.createElement(Ne.a,{width:"100%",mr:1},r.a.createElement(ye.a,Object.assign({variant:"determinate"},e))),r.a.createElement(Ne.a,{minWidth:35},r.a.createElement(Se.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Ce=Object(g.a)({root:{width:"100%"}}),we=function(e){var a=Ce(),t=Object(n.useState)(0),l=Object(s.a)(t,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){var e=setInterval((function(){o((function(e){return e<89&&e<100?e+Math.floor(10*Math.random())+1:99}))}),800);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(Se.a,null,e.title),r.a.createElement(xe,{value:c}))},_e=function(e){var a=d().authTokens,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],p=m[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),g=b[0],j=b[1],N=Object(n.useState)(!1),x=Object(s.a)(N,2),C=x[0],w=x[1],_=Object(n.useState)(!1),k=Object(s.a)(_,2),T=k[0],P=k[1],D=Object(n.useState)(!1),M=Object(s.a)(D,2),A=M[0],W=M[1],q=Object(n.useState)("Invalid Input"),L=Object(s.a)(q,2),U=L[0],H=L[1],G=Object(n.useState)(!1),Y=Object(s.a)(G,2),V=Y[0],J=Y[1],K=Object(n.useState)(""),Z=Object(s.a)(K,2),Q=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1];return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginLeft:"40%",marginTop:"7%",color:"#1a1751"}},r.a.createElement(fe.a,{toggle:e.toggle},r.a.createElement(R.a,{icon:B.n})," Change Password ",r.a.createElement("br",null)),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var n=a.access_token;if(V&&H("Minimum password length is 6"),T&&H("Password doesn't match"),T||V)W(!0);else{W(!1),o(!0);var r={password:ae,new_password:Q};f.post("auth/carrier/update-password",r,{headers:{Authorization:"bearer "+n}}).then((function(a){o(!1),a.data.status?(le.a.fire("Transaction Completed!","Password Successfully Updated!","success"),e.toggle()):(H(a.data.message),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){o(!1),le.a.fire("Transaction Failed!","Failed to Update Password!","error")}))}}(t)}},r.a.createElement(ge.a,null,A&&r.a.createElement("div",{className:"text-left card p-1 bg-danger"},r.a.createElement("span",{className:"text-white ml-2"},r.a.createElement(R.a,{icon:B.v})," ",U)),r.a.createElement(I.a,{className:"p-2 pt-0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(I.a,null,r.a.createElement("div",{className:"col-md-12 p-1"},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"p-1 m-1"},r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(h.a,{name:"old_password",label:"Old Password",type:C?"text":"password",onChange:function(e){return te(e.target.value)},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return w(!C)}},C?r.a.createElement(y.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement("div",null,r.a.createElement(h.a,{type:u?"text":"password",name:"new_password",label:"New Password",onChange:function(e){return a=e.target.value,X(a),W(!1),void(a.replace(/\s+/g,"").length>=6?(J(!1),P(a!==Q)):J(!0));var a},error:V,fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return p(!u)}},u?r.a.createElement(y.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(h.a,{error:T,type:g?"text":"password",name:"confirm_password",label:"Confirm Password",onChange:function(e){return a=e.target.value,W(!1),void P(a!==Q);var a},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return j(!g)}},g?r.a.createElement(y.a,null):r.a.createElement(S.a,null)))}}))))))),c&&r.a.createElement(F.a,{md:12},r.a.createElement(je.a,{className:"p-2 m-2 mt-3"},r.a.createElement(we,{title:"Updating Password"}))))),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"submit",color:"primary",disabled:c||A,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.s})," Save")," ",r.a.createElement(Oe.a,{color:"danger",onClick:e.toggle,disabled:c,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.A})," Close")))))},ke=t(88),Te=t(248),Pe=t.n(Te),De=t(235),Me=t.n(De),Ae=t(37),We=t(789),qe=t(430),ze=function(e){var a=d().authTokens,t=new pe.a,l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),h=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),y=j[0],N=j[1],S=Object(n.useState)(!1),x=Object(s.a)(S,2),C=x[0],w=x[1],_=Object(n.useState)(!1),k=Object(s.a)(_,2),T=k[0],P=k[1],D=Object(n.useState)(null),M=Object(s.a)(D,2),A=M[0],W=M[1],q=Object(n.useState)(null),z=Object(s.a)(q,2),L=z[0],U=z[1],H=Object(n.useState)(null),G=Object(s.a)(H,2),Y=G[0],V=G[1],J=Object(n.useState)(null),K=Object(s.a)(J,2),Z=K[0],Q=K[1],X=Object(n.useState)(!1),$=Object(s.a)(X,2),ae=$[0],te=$[1],ne=Object(n.useState)("Daily"),re=Object(s.a)(ne,2),le=re[0],ce=re[1],se=Object(n.useState)(!1),oe=Object(s.a)(se,2),ie=oe[0],me=oe[1],ue=function(e,a){var t=1,n=2;switch(E(!1),me(e),N(!1),w(!1),P(!1),a){case t:ce("Daily"),N(!y);break;case n:ce("Monthly"),w(!C);break;default:ce("Custom"),P(!T)}},de=function(e,t){return f.post("carrier/reports/travel",{dates:[e,t]},{headers:{Authorization:"bearer "+a.access_token}})},Ee=function(e){var a,t=e.data,n=[],r="",l="",c="";for(var s in t){var o=t[s].profile,i=t[s].companions;if(i.length>0)for(var m in r="",i)r=1===i.length?i[m].name:r+", "+i[m].name;if(o.relatives.length>0)for(var u in l="",c="",o.relatives)1===o.relatives.length?(l=o.relatives[u].name,c=o.relatives[u].contact):(l=l+" "+o.relatives[u].name,c=c+", "+o.relatives[u].contact);a=[o.first_name,o.last_name,r,t[s].accommodation_type,o.gender.toUpperCase(),o.age,o.address.specific_address,o.address.zipcodes,t[s].fromLocation,t[s].toLocation,null!=o.mobile?o.mobile:"",null!=o.email?o.email:"",l,c,"".concat(t[s].temperature)||"",t[s].seat_no,t[s].parking_space_no||"",t[s].previous_place_travel||""],n=[].concat(Object(ke.a)(n),[a])}return n},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&fetch(Me.a).then((function(e){return e.arrayBuffer()})).then((function(a){var n=Pe.a.read(a,{type:"array"}),r=n.Sheets[n.SheetNames[0]];Pe.a.utils.sheet_add_aoa(r,e,{origin:"A12"}),Pe.a.writeFile(n,"PEMS ".concat(le," Report Generated on ").concat(t.format(new Date,"MMM-dd-yyyy"),".xlsx"))})).catch((function(e){E(!0),v("Processing Failed"),console.log({e:e})}))};return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md mt-5 pt-5"},r.a.createElement(fe.a,{toggle:e.toggle},"Generate Passenger Manifest"),r.a.createElement("form",{onSubmit:function(e){return function(e){var a="",n="";e.preventDefault(),E(!1),i(!0);try{y&&(a=t.format(new Date(Y),"Y-M-dd 00:00:00"),n=t.format(new Date(Y),"Y-M-dd 23:59:59")),C&&(a=t.format(t.startOfMonth(new Date(Z)),"Y-M-dd 00:00:00"),n=t.format(t.endOfMonth(new Date(Z)),"Y-M-dd 23:59:59")),T&&(a=A,n=L),de(a,n).then((function(e){if(console.log(e),Object.keys(e.data).length>0){var a=Ee(e);he(a),i(!1)}else i(!1),v("No Records Found"),E(!0)})).catch((function(e){console.log(e),v("Unable to access records"),E(!0),i(!1)}))}catch(e){v("Code Error"),E(!0),i(!1)}}(e)}},r.a.createElement(ge.a,null,p&&r.a.createElement(F.a,{md:12,className:"text-center m-0 p-0"},r.a.createElement("h6",null,r.a.createElement(ee,{className:"p-0 m-0"},h))),r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:{size:8,offset:2}},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:{size:"auto"},className:"m-0 p-0"},r.a.createElement(qe.a,{className:"m-0 p-0 pl-3",checked:y,onChange:function(e){return ue(e.target.checked,1)},color:"primary",size:"small"})),r.a.createElement(F.a,{md:{size:"auto"},className:"m-0 p-0 text-left"},r.a.createElement("b",{className:"ml-1"},"Daily")),r.a.createElement(F.a,{md:{size:"auto"},className:"m-0 p-0 text-left"},r.a.createElement(qe.a,{className:"m-0 p-0 pl-3",checked:C,onChange:function(e){return ue(e.target.checked,2)},color:"primary",size:"small"})),r.a.createElement(F.a,{md:{size:"auto"},className:"m-0 p-0 text-left"},r.a.createElement("b",{className:"ml-1"},"Monthly")),r.a.createElement(F.a,{md:{size:"auto"},className:"m-0 p-0"},r.a.createElement(qe.a,{className:"m-0 p-0 pl-3",checked:T,onChange:function(e){return ue(e.target.checked,3)},color:"primary",size:"small"})),r.a.createElement(F.a,{md:{size:"auto"},className:"m-0 p-0 text-left"},r.a.createElement("b",{className:"ml-1"},"Custom"))))),r.a.createElement(I.a,{className:"mt-3"},r.a.createElement(F.a,{md:12,className:"text-center"},y&&r.a.createElement(F.a,{md:12,className:"p-2"},r.a.createElement(Ae.a,{utils:pe.a},r.a.createElement(We.a,{name:"daily",value:Y,onChange:function(e,a){return V(e)},label:"Select Date",format:"MMM/d/yyyy",required:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0}))),C&&r.a.createElement(F.a,{md:12,className:"p-2"},r.a.createElement(Ae.a,{className:"m-0 p-0",utils:pe.a},r.a.createElement(We.a,{name:"monthly",className:"m-0 p-0",variant:"dialog",value:Z,onChange:function(e,a){return Q(e)},label:"Select Month",format:"MMMM yyyy",views:["year","month"],openTo:"month",required:!0,clearable:!0,hideTabs:!0,fullWidth:!0}))),T&&r.a.createElement("div",null,r.a.createElement(F.a,{md:12,className:"p-2"},r.a.createElement(Ae.a,{className:"float-left",utils:pe.a},r.a.createElement(We.a,{name:"startDate",value:A,onChange:function(e,a){return function(e){W(t.format(new Date(e),"Y-M-dd")),te(""!==e)}(e)},label:"Start Date",format:"MMM/d/yyyy",required:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})),r.a.createElement(Ae.a,{className:"float-left mt-2",utils:pe.a},r.a.createElement(We.a,{name:"endDate",value:L,onChange:function(e,a){return function(e){U(t.format(new Date(e),"Y-M-dd"))}(e)},label:"End Date",minDate:t.addDays(new Date(A),1),format:"MMM/d/yyyy",disabled:!ae,required:!0,clearable:!0,hideTabs:!0,fullWidth:!0})))))))),r.a.createElement("div",null,o&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Generating Report"}))))),r.a.createElement(ve.a,null,ie&&r.a.createElement(Oe.a,{type:"submit",color:"success",disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.h})," Download"),r.a.createElement(Oe.a,{color:"danger",onClick:e.toggle,disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.A})," Cancel")))))},Ie=t(792),Fe=t(294),Le=t(83),Ue=t(757),Re=t(765),Be=t(794),He=t(416),Ge=t(791),Ye=t(448),Ve=t.n(Ye),Je=t(449),Ke=t.n(Je),Ze=t(450),Qe=t.n(Ze),Xe=t(454),$e=t.n(Xe),ea=t(453),aa=t.n(ea),ta=t(452),na=t.n(ta),ra=t(451),la=t.n(ra),ca=t(3),sa=(t(514),Object(n.createContext)());function oa(){return Object(n.useContext)(sa)}var ia=t(104),ma=t(410),ua=t(446),da=t.n(ua),pa=t(790),Ea=(t(746),function(e){return r.a.createElement("div",{className:"p-0 m-0 mt-2 mydatatable"},e.isLoading&&r.a.createElement(pa.a,{style:{marginLeft:"48%",marginTop:"18%",position:"absolute",zIndex:"1000"}}),r.a.createElement(da.a,{title:e.title,data:e.data,columns:e.columns,options:e.options}))}),ba=t(417),fa=function(e){var a=oa().transportOptions,t=Object(n.useState)(e.transportType||""),l=Object(s.a)(t,2),c=l[0],o=l[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Transport Type",name:"transportType",value:e.transportType||c,onChange:function(a){return t=a.target.value,o(t),void e.setTransportType(t);var t},fullWidth:!0,required:!0},a.map((function(e){return r.a.createElement(ba.a,{key:e.value,value:e.value},e.label)}))))},ga=function(e){var a=d().authTokens.access_token,t=oa(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(0),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(null),y=Object(s.a)(j,2),N=y[0],S=y[1],x=Object(n.useState)(null),C=Object(s.a)(x,2),w=C[0],_=C[1];return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(fe.a,{toggle:e.toggle},r.a.createElement(R.a,{icon:B.t})," New Ship"),r.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),i(!0);var r=a,l={name:p,capacity:v,routes:N,transportation_category_id:w};f.post("store/ships/store",l,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(i(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),t.loadShips(),e.toggle()):(i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","error")}))}(n)}},r.a.createElement(ge.a,null,r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{md:12},r.a.createElement(z.a,null,r.a.createElement(he.a,null,r.a.createElement(h.a,{className:"m-0",onChange:function(e){return E(e.target.value)},name:"shipName",label:"Ship Name",required:!0,fullWidth:!0}),r.a.createElement(h.a,{type:"number",InputProps:{inputProps:{min:0}},className:"m-0",onChange:function(e){return O(e.target.value)},name:"capacity",label:"Capacity",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",onChange:function(e){return S(e.target.value)},name:"voyageRoute",label:"Route",required:!0,fullWidth:!0}),r.a.createElement(fa,{setTransportType:_}))))),r.a.createElement("div",null,o&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Creating New Ship Record"}))))),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"submit",color:"primary",disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.s})," Save")," ",r.a.createElement(Oe.a,{color:"danger",onClick:e.toggle,disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.A})," Cancel")))))},ha=function(e){var a=d().authTokens.access_token,t=oa(),l=oa().selectedShip,c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(null),p=Object(s.a)(u,2),E=p[0],b=p[1],g=Object(n.useState)(null),v=Object(s.a)(g,2),O=v[0],j=v[1],y=Object(n.useState)(0),N=Object(s.a)(y,2),S=N[0],x=N[1],C=Object(n.useState)(null),w=Object(s.a)(C,2),_=w[0],k=w[1],T=Object(n.useState)(null),P=Object(s.a)(T,2),D=P[0],M=P[1];return Object(n.useEffect)((function(){return b(l[0].id),j(l[0].name),x(l[0].capacity),k(l[0].routes),M(l[0].transportation_category_id),function(){}}),[l]),r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(fe.a,{toggle:e.toggle},r.a.createElement(R.a,{icon:B.t})," Update Ship"),r.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),m(!0);var r=a,l={name:O,capacity:S,routes:_,transportation_category_id:D};f.put("carrier/transport/update/".concat(E),l,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(m(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),t.loadShips(),e.toggle()):(m(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){m(!1),le.a.fire("Transaction Failed!","error")}))}(n)}},r.a.createElement(ge.a,null,r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{md:12},r.a.createElement(z.a,null,r.a.createElement(he.a,null,r.a.createElement(h.a,{className:"m-0",value:O||"",onChange:function(e){return j(e.target.value)},name:"shipName",label:"Ship Name",required:!0,fullWidth:!0}),r.a.createElement(h.a,{type:"number",InputProps:{inputProps:{min:0}},value:S||"",className:"m-0",onChange:function(e){return x(e.target.value)},name:"capacity",label:"Capacity",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",value:_||"",onChange:function(e){return k(e.target.value)},name:"voyageRoute",label:"Route",required:!0,fullWidth:!0}),r.a.createElement(fa,{transportType:D,setTransportType:M}))))),r.a.createElement("div",null,i&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Updating Ship Record"}))))),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"submit",color:"primary",disabled:i,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.s})," Save")," ",r.a.createElement(Oe.a,{color:"danger",onClick:e.toggle,disabled:i,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.A})," Cancel")))))},va=(t(747),function(e){var a=d().authTokens,t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)({}),m=Object(s.a)(i,2),u=m[0],p=m[1],E=Object(n.useState)(),b=Object(s.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),j=O[0],y=O[1],N=Object(n.useState)([]),S=Object(s.a)(N,2),x=S[0],C=S[1],w=Object(n.useState)(!1),_=Object(s.a)(w,2),k=_[0],T=_[1],P=function(){return T(!k)},D=Object(n.useState)(!1),M=Object(s.a)(D,2),A=M[0],z=M[1],L=function(){return z(!A)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(ia.isArray)(e)?G(e):H(e)},H=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],l[1]);a[t]=[c.id,c.name,c.routes,c.capacity,[c]],t++}return a},G=function(e){if(e.length>0)return e.map((function(e,a){return[e.id,e.name,e.routes,e.capacity,[e]]}))},Y=Object(n.useCallback)((function(){y(!0),f.get("carrier/transport/ships",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){console.log(e);var a=e.data,t=e.data.current_page;if(console.log(typeof a),Object.keys(a).length>0){var n=U(a);h(t),o(n)}y(!1)})).catch((function(e){y(!1)}))}),[]),V=Object(n.useCallback)((function(){f.get("carrier/transport/category",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}C(a)}))}),[]),J=Object(ia.debounce)((function(e){return K(e)}),500),K=function(e){return f.post("carrier/transport/search",{name:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=U(a);o(t),y(!1)}))},Z=["ID","Name","Route","Capacity",{name:"Actions",options:{customBodyRender:function(e,t,n){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(ma.a,{title:"Update Ship Details",placement:"top"},r.a.createElement(Oe.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return function(e){p(e),L()}(e)}},r.a.createElement(R.a,{icon:B.i}))),r.a.createElement(ma.a,{title:"Archive Ship",placement:"top"},r.a.createElement(Oe.a,{color:"link",className:"p-1 m-0 btn text-danger",onClick:function(){return t=e,void le.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.isConfirmed&&f.delete("carrier/transport/delete/".concat(t[0].id),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){e.data.status?(le.a.fire("Transaction Completed",e.data.message,"success"),Y()):le.a.fire("Transaction Completed",e.data.message,"error")}))}));var t}},r.a.createElement(R.a,{icon:B.b}))))}}}],Q={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"420px",selectableRows:"none",print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=g&&(t=g+1,f.get("carrier/transport?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=U(a);e.data.current_page>g&&(h(e.data.current_page),t=void 0!==n?[].concat(Object(ke.a)(c),Object(ke.a)(n)):c),o(t)})))},onSearchClose:function(){y(!1),Y()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(y(!0),J(a))}},customSearch:function(e,a,t){return c.length>0}};return Object(n.useEffect)((function(){return Y(),V(),function(){}}),[Y,V]),r.a.createElement(sa.Provider,{value:{shipsData:c,selectedShip:u,transportOptions:x,loadShips:Y}},r.a.createElement(q.a,{fluid:"true",className:"mt-4 p-0 m-0"},r.a.createElement(I.a,{className:"m-0 p-0"},r.a.createElement(F.a,{md:12,className:"pl-0 ml-0"},r.a.createElement(W.a,{onClick:function(){return P()},className:"mt-4 buttonSameWidth",variant:"contained"},r.a.createElement(R.a,{icon:B.t,className:"mr-1"}),"New Ship")),r.a.createElement(F.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(Ea,{title:"Ships",data:c,isLoading:j,columns:Z,options:Q})))),k&&r.a.createElement(ga,{isOpen:k,toggle:P}),A&&r.a.createElement(ha,{isOpen:A,toggle:L}))}),Oa=t(799),ja=t(800),ya=t(801),Na=t(802),Sa=t(803),xa=Object(n.createContext)();function Ca(){return Object(n.useContext)(xa)}var wa=t(798),_a=t(807),ka=function(e){var a=oa().shipOptions,t=Object(n.useState)(""),l=Object(s.a)(t,2),c=l[0],o=l[1],i=function(a){e.setShipName(a),function(a){e.setShipName(a),o(a),e.getShipDetails&&e.getShipDetails(a)}(a)};return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select a Ship",name:"shipName",value:e.shipName||c,onChange:function(e){return i(e.target.value)},fullWidth:!0,required:!0,disabled:e.disabled||!1},a.map((function(e){return r.a.createElement(ba.a,{key:e.value,value:e.value},e.label)}))))},Ta=function(e){var a=d().authTokens.access_token,t=Ca(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(null),y=Object(s.a)(j,2),N=y[0],S=y[1],x=Object(n.useState)(""),C=Object(s.a)(x,2),w=C[0],_=C[1],k=Object(n.useState)(""),T=Object(s.a)(k,2),P=T[0],D=T[1],M=Object(n.useState)(0),A=Object(s.a)(M,2),W=A[0],q=A[1],L=Object(n.useState)(""),U=Object(s.a)(L,2),H=U[0],G=U[1],Y=new pe.a;return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-lg",style:{marginTop:"7%",marginLeft:"30%"}},r.a.createElement(fe.a,{style:{lineHeight:"2"},toggle:e.toggle},"Import Passenger Manifest ",r.a.createElement("br",null)),r.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),i(!0);var r=a,l=new FormData;l.append("profileFile",p),l.append("departure",Y.format(v,"Y-M-dd H:m:s")),l.append("arrival",Y.format(N,"Y-M-dd H:m:s")),l.append("transport_no",parseInt(w)),l.append("ship_name",P),l.append("transport_type",W),l.append("route",H),f.post("store/import/profiles",l,{headers:{Authorization:"bearer "+r,"Content-Type":"multipart/form-data"}}).then((function(a){a.data.status?(i(!1),E(null),O(null),S(null),_(""),q(""),G(""),le.a.fire("Transaction Completed!","Data Successfully Imported!","success"),t.loadPassengers(),e.toggle()):(i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","Failed to Import Data!","error")}))}(n)},encType:"multipart/form-data",id:"excelFile"},r.a.createElement(ge.a,null,r.a.createElement(I.a,{className:"p-2"},r.a.createElement("div",{className:"col-md-6 p-2"},r.a.createElement("h5",{className:"text-primary ml-2"},r.a.createElement(R.a,{icon:B.e})," Travel Dates"),r.a.createElement(z.a,{className:"border-0"},r.a.createElement(he.a,{className:"p-2"},r.a.createElement("div",null,r.a.createElement(Ae.a,{utils:pe.a},r.a.createElement(_a.a,{value:v,onChange:O,label:"ETD(Est. Time of Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0}))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(Ae.a,{utils:pe.a},r.a.createElement(_a.a,{value:N,onChange:S,label:"ETA(Est. Time of Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})))))),r.a.createElement("div",{className:"col-md-6 p-2"},r.a.createElement("h5",{className:"text-primary"},r.a.createElement(R.a,{icon:B.a})," Transport Details"),r.a.createElement(z.a,{className:"border-0"},r.a.createElement(he.a,{className:"p-1 m-1"},r.a.createElement("div",null,r.a.createElement(ka,{getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(G(a.routes),q(a.transportation_category_id))}))},setShipName:D})),r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{value:w,onChange:function(e){return _(e.target.value)},label:"Voyage Number",fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{label:"Voyage Route",value:H,onChange:function(e){return G(e.target.value)},fullWidth:!0,required:!0,disabled:!0}))))),r.a.createElement("div",{className:"col-md-12 pt-2"},r.a.createElement("h5",{className:"text-success"},r.a.createElement(R.a,{icon:B.k})," Import Excel File:"," ",r.a.createElement("a",{href:Me.a,title:"Download Passenger Manifest Template",download:"Passenger-Manifest-Template.xlsx"},r.a.createElement("span",{style:{fontSize:"0.9rem"}},r.a.createElement(R.a,{icon:B.j})," Download this template")),r.a.createElement("br",null)),r.a.createElement(z.a,null,r.a.createElement(he.a,{className:"p-1 m-0"},r.a.createElement("div",{className:"m-0"},r.a.createElement(wa.a,{accept:".xlsx,.xls",id:"raised-button-file",type:"file",onChange:function(e){return E(e.target.files[0])},disabled:o,required:!0})))))),r.a.createElement("div",null,o&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Importing Passenger Manifest"}))))),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"submit",color:"primary",disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.l})," Import")," ",r.a.createElement(Oe.a,{color:"danger",onClick:e.toggle,disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.A})," Cancel")))))},Pa=t(414),Da=t(795),Ma=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Gender",name:"gender",value:e.gender||l,onChange:function(a){return t=a.target.value,e.setGender(t.toUpperCase()),void c(t.toUpperCase());var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"M",label:"Male"},{value:"F",label:"Female"}].map((function(e){return r.a.createElement(ba.a,{key:e.value,value:e.value},e.label)}))))},Aa=function(e){var a=d().authTokens.access_token,t=Ca().selectedProfile,l=Ca(),c=(Ca().passengerData,Object(n.useState)(!1)),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],b=p[1],g=Object(n.useState)(!0),v=Object(s.a)(g,2),O=v[0],j=v[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),S=N[0],x=N[1],C=Object(n.useState)(""),w=Object(s.a)(C,2),_=w[0],k=w[1],T=Object(n.useState)(""),P=Object(s.a)(T,2),D=P[0],M=P[1],A=Object(n.useState)(""),W=Object(s.a)(A,2),L=W[0],U=W[1],H=Object(n.useState)(""),G=Object(s.a)(H,2),Y=G[0],V=G[1],J=Object(n.useState)(""),K=Object(s.a)(J,2),Z=K[0],Q=K[1],X=Object(n.useState)(""),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(s.a)(te,2),re=ne[0],ce=ne[1],se=Object(n.useState)(""),oe=Object(s.a)(se,2),ie=oe[0],me=oe[1],ue=Object(n.useState)(""),de=Object(s.a)(ue,2),pe=de[0],Ee=de[1],be=Object(n.useState)(""),fe=Object(s.a)(be,2),ge=fe[0],ve=fe[1],je=Object(n.useState)(""),ye=Object(s.a)(je,2),Ne=ye[0],Se=ye[1],xe=Object(n.useState)(""),Ce=Object(s.a)(xe,2),we=Ce[0],_e=Ce[1];Object(n.useEffect)((function(){var e=t[1].profile;return x(t),k(e.first_name.toUpperCase()),M(e.last_name.toUpperCase()),U(e.gender),V(e.age),Q(t[1].temperature),ae(e.email),ce(e.mobile),e.relatives.length>0&&(me(e.relatives[0].name),Ee(e.relatives[0].contact)),Se(e.address.specific_address),ve(e.address.zipcode),t[1].companions.length>0&&_e(t[1].companions[0].name),function(){}}),[t]);return r.a.createElement(q.a,{fluid:!0,className:"pt-2"},r.a.createElement(Pa.a,{className:"ml-2",control:r.a.createElement(Da.a,{checked:E,onChange:function(){b(!E),j(!O||null)},color:"primary"}),label:"Edit"}),r.a.createElement(F.a,{xs:12,className:"mt-3"},r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.w})," Personal Details"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1 mt-3"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"first_name",label:"First Name",value:_,onChange:function(e){return k(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{name:"last_name",label:"Last Name",value:D,onChange:function(e){return M(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"number",name:"age",label:"Age",value:Y,onChange:function(e){return V(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(Ma,{gender:L,disabled:O,setGender:U})),r.a.createElement("div",{className:"mb-4"},r.a.createElement(h.a,{type:"number",inputProps:{min:"20.0",max:"50.0",step:"0.1"},name:"bodyTemperature",label:"Body Temperature",value:Z||"",onChange:function(e){return Q(e.target.value)},fullWidth:!0,required:!0,disabled:O}))))))),r.a.createElement(F.a,{xs:4,className:"p-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.q})," Contact Details"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",value:re||"",onChange:function(e){return ce(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",value:ee||"",onChange:function(e){return ae(e.target.value)},fullWidth:!0,disabled:O})))))),r.a.createElement("h6",{className:"text-primary mt-2 ml-1"},r.a.createElement(R.a,{icon:B.o})," Address"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{name:"zipcode",label:"Zipcode",value:ge||"",onChange:function(e){return ve(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{label:"Complete Address",name:"complete_address",value:Ne,onChange:function(e){return Se(e.target.value)},fullWidth:!0,required:!0,disabled:O}))))))),r.a.createElement(F.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.z})," Companion Details"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",value:we,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return _e(e.target.value)},fullWidth:!0,disabled:O})))))),r.a.createElement("h6",{className:"text-primary mt-3"},r.a.createElement(R.a,{icon:B.p})," Nearest Relative"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{label:"Name",name:"relativeName",value:ie,onChange:function(e){return me(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",value:pe,onChange:function(e){return Ee(e.target.value)},fullWidth:!0,required:!0,disabled:O})))))))),!i&&r.a.createElement("div",null,E&&r.a.createElement(I.a,{className:"mt-3 ml-1"},r.a.createElement(Oe.a,{type:"button",onClick:function(){return function(){e.setIsProcessing(!0),m(!0);var n,r=a,c=S[1];n="object"===typeof t[1].vehicle_details?t[1].vehicle_details:JSON.parse(t[1].vehicle_details);var s={first_name:_,last_name:D,gender:L,age:Y,email:ee,mobile:re,zipcode:parseInt(ge),specific_address:Ne,temp:Z,temperature:Z,barangay:c.profile.address.barangay,person_type:c.profile.person_type,origin:c.fromLocation,destination:c.toLocation,arrival:c.fromDate,departure:c.toDate,transport_type:c.mode_of_travel_id,transport_no:parseInt(n.transport_no),ship_name:n.transport_vehicle,travel_id:c.id,accomodation_type:c.accommodation_type,previous_travel:c.previous_place_travel,parking_space_no:c.parking_space_no,seat_no:c.seat_no,route:c.route,companion_name:we,relative_name:ie,relative_contact:pe};f.put("carrier/update/".concat(c.profile_id),s,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success"),l.loadPassengers(),e.toggle()):(e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Failed!","error")}))}()},color:"primary",disabled:O,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.s})," Save")))))},Wa=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:e.modalMargin}},r.a.createElement(fe.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(R.a,{icon:B.x})," Passenger Profile"),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(ge.a,{className:"pt-0"},r.a.createElement(I.a,null,r.a.createElement(Aa,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Updating Passenger Profile"}))))))))},qa=function(e){return r.a.createElement("div",null,r.a.createElement(Ae.a,{utils:pe.a},r.a.createElement(_a.a,{value:e.departureDate||null,onChange:e.setDepartureDateChange,name:"departureDate",label:"ETD (Est. Time Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1,disabled:e.disabled})))},za=function(e){return r.a.createElement("div",null,r.a.createElement(Ae.a,{utils:pe.a},r.a.createElement(_a.a,{value:e.arrivalDate,onChange:e.setArrivalDateChange||null,label:"ETA (Est. Time Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1,disabled:e.disabled})))},Ia=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Accommodation type",name:"accommodationType",value:e.accommodationType||l,onChange:function(a){return t=a.target.value,c(t),void(e.setAccommodationType&&e.setAccommodationType(t));var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"1st",label:"1st Class"},{value:"2nd",label:"2nd Class"},{value:"3rd",label:"3rd Class"}].map((function(e){return r.a.createElement(ba.a,{key:e.value,value:e.value},e.label)}))))},Fa=function(e){var a=d().authTokens.access_token,t=Ca().selectedProfile,l=Ca(),c=(Ca().passengerData,new pe.a),o=Object(n.useState)(!1),i=Object(s.a)(o,2),m=i[0],u=i[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],g=E[1],v=Object(n.useState)(!0),O=Object(s.a)(v,2),j=O[0],y=O[1],N=Object(n.useState)(""),S=Object(s.a)(N,2),x=S[0],C=S[1],w=Object(n.useState)(""),_=Object(s.a)(w,2),k=_[0],T=_[1],P=Object(n.useState)(""),D=Object(s.a)(P,2),M=D[0],A=D[1],W=Object(n.useState)(""),L=Object(s.a)(W,2),U=L[0],H=L[1],G=Object(n.useState)(""),Y=Object(s.a)(G,2),V=Y[0],J=Y[1],K=Object(n.useState)(0),Z=Object(s.a)(K,2),Q=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),re=Object(s.a)(ne,2),ce=re[0],se=re[1],oe=Object(n.useState)(null),ie=Object(s.a)(oe,2),me=ie[0],ue=ie[1],de=Object(n.useState)(""),Ee=Object(s.a)(de,2),be=Ee[0],fe=Ee[1],ge=Object(n.useState)(""),ve=Object(s.a)(ge,2),je=ve[0],ye=ve[1],Ne=Object(n.useState)(""),Se=Object(s.a)(Ne,2),xe=Se[0],Ce=Se[1],we=Object(n.useState)(""),_e=Object(s.a)(we,2),ke=_e[0],Te=_e[1];Object(n.useEffect)((function(){var e;return e="object"===typeof t[1].vehicle_details?t[1].vehicle_details:JSON.parse(t[1].vehicle_details),C(t),T(t[1].fromLocation),A(t[1].toLocation),se(c.format(new Date(t[1].fromDate),"MMM/d/yyyy h:mm:ss a")),ue(c.format(new Date(t[1].toDate),"MMM/d/yyyy h:mm:ss a")),H(t[1].previous_place_travel),J(e.transport_vehicle),X(t[1].mode_of_travel_id),Ce(parseInt(e.transport_no)),fe(t[1].seat_no),ye(t[1].parking_space_no),Te(t[1].accommodation_type),te(t[1].route.toUpperCase()),function(){}}),[]);return r.a.createElement(q.a,{fluid:!0,className:"pt-2"},r.a.createElement(Pa.a,{className:"ml-2",control:r.a.createElement(Da.a,{checked:b,onChange:function(){g(!b),y(!j||null)},color:"primary"}),label:"Edit"}),r.a.createElement(F.a,{md:12,className:"mt-3"},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:12,className:"text-left mt-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.a})," Transport Details"),r.a.createElement(z.a,{className:"p-0",style:{border:"none"}},r.a.createElement(he.a,{className:"m-0 p-0"},r.a.createElement(F.a,{md:12,className:"m-0 p-0"},r.a.createElement(z.a,{className:"m-0 p-0"},r.a.createElement(he.a,{className:"m-0 p-0 pl-2 pr-2 pb-2 pt-2"},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:4},r.a.createElement(ka,{shipName:V,setShipName:J,disabled:j,getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(te(a.routes),X(a.transportation_category_id))}))}}),r.a.createElement(h.a,{className:"m-0 p-0 mt-1",onChange:function(e){return Ce(e.target.value)},value:xe,name:"transportNumber",label:"Voyage Number",fullWidth:!0,required:!0,disabled:j})),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{className:"mb-1",name:"voyageRoute",label:"Voyage Route",value:ae,onChange:function(e){return te(e.target.value.toUpperCase())},fullWidth:!0,required:!0,disabled:j}),r.a.createElement(Ia,{setAccommodationType:Te,accommodationType:ke,disabled:j})),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{className:"m-0 p-0 mb-1",value:be||"",onChange:function(e){return fe(e.target.value)},name:"seat_number",label:"Seat/Bunk Number",fullWidth:!0,required:!0,disabled:j}),r.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",value:je||"",helperText:"( if with service vehicle )",onChange:function(e){return ye(e.target.value)},fullWidth:!0,disabled:j}))))))))),r.a.createElement(F.a,{md:12,className:"text-left mt-2"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.t})," Travel Details"),r.a.createElement(z.a,{className:"p-0",style:{border:"none"}},r.a.createElement(he.a,{className:"m-0 p-0"},r.a.createElement(F.a,{md:12,className:"m-0 p-0"},r.a.createElement(z.a,{className:"m-0 p-0 pb-2"},r.a.createElement(he.a,{className:"m-0 p-0 pl-2 pr-2 pb-2 pt-2"},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",value:k||"",onChange:function(e){return T(e.target.value)},fullWidth:!0,required:!0,disabled:j}),r.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",value:M||"",onChange:function(e){return A(e.target.value)},fullWidth:!0,required:!0,disabled:j})),r.a.createElement(F.a,{md:4},r.a.createElement("div",null,r.a.createElement(qa,{departureDate:ce,setDepartureDateChange:se,disabled:j})),r.a.createElement("div",null,r.a.createElement(za,{arrivalDate:me,setArrivalDateChange:ue,disabled:j}))),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",value:U||"",onChange:function(e){return H(e.target.value)},fullWidth:!0,required:!0,disabled:j})))))))))),!m&&r.a.createElement("div",null,b&&r.a.createElement(I.a,{className:"mt-3 ml-1"},r.a.createElement(Oe.a,{type:"button",onClick:function(){return function(){e.setIsProcessing(!0),u(!0);var t=a,n=x[1],r={first_name:n.profile.first_name,last_name:n.profile.last_name,gender:n.profile.gender,age:n.profile.age,email:n.profile.email,mobile:n.profile.mobile,zipcode:n.profile.address.zipcode,specific_address:n.profile.address.specific_address,temp:n.bodyTemperature,barangay:n.profile.address.barangay,person_type:n.profile.person_type,origin:k,destination:M,arrival:c.format(new Date(me),"Y-M-dd H:m:s"),departure:c.format(new Date(ce),"Y-M-dd H:m:s"),transport_type:Q,transport_no:parseInt(xe),ship_name:V,travel_id:n.id,accommodation_type:ke,previous_travel:U,parking_space_no:je,seat_no:be,route:ae,companion_name:n.companions,relative_name:n.profile.relatives[0].name,relative_contact:n.profile.relatives[0].contact};f.put("carrier/update/".concat(n.profile.id),r,{headers:{Authorization:"bearer "+t}}).then((function(a){a.data.status?(e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success"),l.loadPassengers(),e.toggle()):(e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Failed!","error")}))}()},color:"primary",disabled:j,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.s})," Save")))))},La=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],o=Ca().selectedProfile,i=Object(n.useState)(""),m=Object(s.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),E=Object(s.a)(p,2),b=E[0],f=E[1];return Object(n.useEffect)((function(){d(o[2].first_name),f(o[2].last_name)}),[o]),r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"5%",marginLeft:e.modalMargin}},r.a.createElement(fe.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(R.a,{icon:B.x})," Transport Details: ",r.a.createElement("span",{className:"text-success"},"".concat(u.toUpperCase()," ").concat(b.toUpperCase()))),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(ge.a,{className:"pt-0"},r.a.createElement(I.a,null,r.a.createElement(Fa,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Updating Transport Details"}))))))))},Ua=function(e){var a=d().authTokens,t=Ca(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(!0),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(!1),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(""),y=Object(s.a)(j,2),N=y[0],S=y[1],x=Object(n.useState)(""),C=Object(s.a)(x,2),w=C[0],_=C[1],k=Object(n.useState)(""),T=Object(s.a)(k,2),P=T[0],D=T[1],M=Object(n.useState)(""),A=Object(s.a)(M,2),W=A[0],U=A[1],H=Object(n.useState)(""),G=Object(s.a)(H,2),Y=G[0],V=G[1],J=Object(n.useState)(""),K=Object(s.a)(J,2),Z=K[0],Q=K[1],X=Object(n.useState)(""),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(s.a)(te,2),re=ne[0],ce=ne[1],se=Object(n.useState)(""),oe=Object(s.a)(se,2),ie=oe[0],me=oe[1],ue=Object(n.useState)(""),de=Object(s.a)(ue,2),pe=de[0],Ee=de[1],be=Object(n.useState)(""),fe=Object(s.a)(be,2),ge=fe[0],ve=fe[1],je=Object(n.useState)(""),ye=Object(s.a)(je,2),Ne=ye[0],Se=ye[1],xe=Object(n.useState)(""),Ce=Object(s.a)(xe,2),we=Ce[0],_e=Ce[1],ke=Object(n.useState)(""),Te=Object(s.a)(ke,2),Pe=Te[0],De=Te[1],Me=Object(n.useState)(""),Ae=Object(s.a)(Me,2),We=Ae[0],qe=Ae[1],ze=Object(n.useState)(""),Ie=Object(s.a)(ze,2),Fe=Ie[0],Le=Ie[1],Ue=Object(n.useState)(""),Re=Object(s.a)(Ue,2),Be=Re[0],He=Re[1],Ge=Object(n.useState)(""),Ye=Object(s.a)(Ge,2),Ve=Ye[0],Je=Ye[1],Ke=Object(n.useState)(null),Ze=Object(s.a)(Ke,2),Qe=Ze[0],Xe=Ze[1],$e=Object(n.useState)(null),ea=Object(s.a)($e,2),aa=ea[0],ta=ea[1],na=Object(n.useState)(""),ra=Object(s.a)(na,2),la=ra[0],ca=ra[1],sa=Object(n.useState)(""),oa=Object(s.a)(sa,2),ia=oa[0],ma=oa[1],ua=Object(n.useState)(""),da=Object(s.a)(ua,2),pa=da[0],Ea=da[1],ba=Object(n.useState)(""),fa=Object(s.a)(ba,2),ga=fa[0],ha=fa[1],va=function(n){if(n.preventDefault(),p)return E(!1),O(!0),null;e.setIsProcessing(!0),i(!0);var r={first_name:N,last_name:w,gender:P,age:W,email:Z,mobile:ee,zipcode:parseInt(pe),specific_address:ge,temp:Y,barangay:"",origin:we,destination:Pe,arrival:aa,departure:Qe,transport_type:Be,transport_no:parseInt(pa),ship_name:Fe,accomodation_type:ga,previous_travel:We,parking_space_no:ia,seat_no:la,route:Ve,companion_name:Ne,relative_name:re,relative_contact:ie};f.post("carrier/add-profile",r,{headers:{Authorization:"bearer "+a.access_token}}).then((function(a){a.data.status?(e.setIsProcessing(!1),i(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success").then((function(){t.loadPassengers(),e.toggle()}))):(e.setIsProcessing(!1),i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),i(!1),le.a.fire("Transaction Failed!","error")}))};return r.a.createElement(q.a,{fluid:!0,className:"pt-2"},r.a.createElement(F.a,{xs:12,className:"mt-3"},r.a.createElement(L.a,{onSubmit:function(e){return va(e)}},r.a.createElement(I.a,null,p&&r.a.createElement(q.a,{fluid:!0},r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.w})," Personal Details"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1 mt-3"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"first_name",label:"First Name",value:N,onChange:function(e){return S(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{name:"last_name",label:"Last Name",value:w,onChange:function(e){return _(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"number",name:"age",label:"Age",value:W,onChange:function(e){return U(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(Ma,{gender:P,setGender:D})),r.a.createElement("div",{className:"mb-4"},r.a.createElement(h.a,{type:"number",inputProps:{min:"20.0",max:"50.0",step:"0.1"},name:"bodyTemperature",label:"Body Temperature",value:Y||"",onChange:function(e){return V(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(F.a,{xs:4,className:"p-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.q})," Contact Details"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",value:ee||"",onChange:function(e){return ae(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",value:Z,onChange:function(e){return Q(e.target.value)},fullWidth:!0})))))),r.a.createElement("h6",{className:"text-primary mt-2 ml-1"},r.a.createElement(R.a,{icon:B.o})," Address"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{type:"number",name:"zipcode",label:"Zipcode",value:pe,onChange:function(e){return Ee(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{label:"Complete Address",name:"complete_address",value:ge,onChange:function(e){return ve(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(F.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.z})," Companion Details"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",value:Ne,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return Se(e.target.value)},fullWidth:!0})))))),r.a.createElement("h6",{className:"text-primary mt-3"},r.a.createElement(R.a,{icon:B.p})," Nearest Relative"),r.a.createElement(I.a,null,r.a.createElement(F.a,{xs:12},r.a.createElement(z.a,{className:"p-1"},r.a.createElement(he.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{label:"Name",name:"relativeName",value:re,onChange:function(e){return ce(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",value:ie,onChange:function(e){return me(e.target.value)},fullWidth:!0,required:!0}))))))))),v&&r.a.createElement(q.a,{fluid:!0},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:12},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.a})," Transport Details")),r.a.createElement(F.a,{md:4},r.a.createElement(ka,{shipName:Fe,setShipName:Le,getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(Je(a.routes),He(a.transportation_category_id))}))}}),r.a.createElement(h.a,{className:"m-0 p-0 mt-1",onChange:function(e){return Ea(e.target.value)},value:pa,name:"transportNumber",label:"Voyage Number",fullWidth:!0,required:!0})),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{className:"mb-1",name:"voyageRoute",label:"Voyage Route",value:Ve,onChange:function(e){return Je(e.target.value.toUpperCase())},fullWidth:!0,disabled:!0}),r.a.createElement(Ia,{setAccommodationType:ha,accommodationType:ga})),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{className:"m-0 p-0 mb-1",value:la,onChange:function(e){return ca(e.target.value)},name:"seat_number",label:"Seat/Bunk Number",fullWidth:!0,required:!0}),r.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",value:ia,helperText:"( if with service vehicle )",onChange:function(e){return ma(e.target.value)},fullWidth:!0})),r.a.createElement(F.a,{md:12},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.t})," Travel Details")),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",value:we||"",onChange:function(e){return _e(e.target.value)},fullWidth:!0,required:!0}),r.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",value:Pe||"",onChange:function(e){return De(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement(F.a,{md:4},r.a.createElement("div",null,r.a.createElement(qa,{departureDate:Qe,setDepartureDateChange:Xe})),r.a.createElement("div",null,r.a.createElement(za,{arrivalDate:aa,setArrivalDateChange:ta}))),r.a.createElement(F.a,{md:4},r.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",value:We||"",onChange:function(e){return qe(e.target.value)},fullWidth:!0,required:!0}))))),p&&r.a.createElement(I.a,{className:"mt-3 mr-1 text-right d-flex"},r.a.createElement(Oe.a,{className:"ml-auto",type:"submit",color:"primary",style:{minWidth:"120px"}},"Next"," ",r.a.createElement(R.a,{icon:B.d,className:"mt-1 ml-1"}))),v&&r.a.createElement("div",null,!o&&r.a.createElement(I.a,{className:"mt-3 mr-1 text-right d-flex"},r.a.createElement(Oe.a,{className:"ml-auto mr-1",type:"button",onClick:function(){return E(!0),void O(!1)},color:"primary",style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.c,className:"mt-1 ml-1"})," ","Back"),r.a.createElement(Oe.a,{type:"submit",color:"primary",style:{minWidth:"120px"}},"Save ",r.a.createElement(R.a,{icon:B.s,className:"mt-1 ml-1"})))))))},Ra=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:e.modalMargin}},r.a.createElement(fe.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(R.a,{icon:B.x})," Passenger Profile"),r.a.createElement(ge.a,{className:"pt-0"},r.a.createElement(I.a,null,r.a.createElement(Ua,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Create New Passenger Profile"})))))))},Ba=t(5),Ha=t(444),Ga=Object(Ba.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(Ha.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Ya=Object(Ba.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(ba.a);function Va(e){var a=Object(n.useState)(null),t=Object(s.a)(a,2),l=t[0],c=t[1],o=function(){c(null)},i=function(a){var t=1,n=2,r=3;switch(o(),a){case t:e.toggleNewManifestModal&&e.toggleNewManifestModal();break;case n:e.toggleNewPassengerModal&&e.toggleNewPassengerModal();break;case r:e.toggleNewShip&&e.toggleNewShip()}};return r.a.createElement("div",{className:"mt-1 pt-1 ml-1 float-right"},r.a.createElement(W.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){c(e.currentTarget)},className:"p-1 pr-2 pl-2 menuButton"},r.a.createElement(R.a,{icon:B.g,className:"mr-1"})," Options"),r.a.createElement(Ga,{id:"customized-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:o},r.a.createElement(Ya,{onClick:function(){return i(1)}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.l})),r.a.createElement(He.a,{primary:"Import Manifest"})),r.a.createElement(Ya,{onClick:function(){return i(2)}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.y})),r.a.createElement(He.a,{primary:"New Passenger"})),r.a.createElement(Ya,{onClick:function(){return i(3)}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.t})),r.a.createElement(He.a,{primary:"New Ship"}))))}var Ja=Object(Ba.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(Ha.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Ka=Object(Ba.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(ba.a);function Za(e){var a=Object(n.useState)(null),t=Object(s.a)(a,2),l=t[0],c=t[1],o=function(){c(null)};return r.a.createElement("div",{className:"mt-1 pt-1 ml-1 float-right"},r.a.createElement(W.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){c(e.currentTarget)},className:"p-1 pr-2 pl-2 menuButton"},r.a.createElement(R.a,{icon:B.m,className:"mr-1"})," Filter"),r.a.createElement(Ja,{id:"customized-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:o},r.a.createElement(Ka,{onClick:function(){return console.log("test")}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.e})),r.a.createElement(He.a,{primary:"Date"})),r.a.createElement(Ka,{onClick:function(){return console.log("test")}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.t})),r.a.createElement(He.a,{primary:"Voyage"}))))}var Qa=function(e){var a=d().authTokens,t=me().modalMargin,l=Object(n.useState)([]),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)({}),g=Object(s.a)(b,2),h=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),y=j[0],N=j[1],S=Object(n.useState)([]),x=Object(s.a)(S,2),C=x[0],w=x[1],_=Object(n.useState)([]),k=Object(s.a)(_,2),T=k[0],P=k[1],D=Object(n.useState)(!1),M=Object(s.a)(D,2),A=M[0],W=M[1],z=function(){return W(!A)},L=Object(n.useState)(!1),U=Object(s.a)(L,2),H=U[0],G=U[1],Y=function(){return G(!H)},V=Object(n.useState)(!1),J=Object(s.a)(V,2),K=J[0],Z=J[1],Q=function(){return Z(!K)},X=Object(n.useState)(!1),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=function(){return ae(!ee)},ne=Object(n.useState)(!1),re=Object(s.a)(ne,2),le=re[0],ce=re[1],se=function(){return ce(!le)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(ia.isArray)(e)?ue(e):ie(e)},ie=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],void 0),o=l[1];c=o.profile,a[t]=[c.id,"".concat(c.first_name.toUpperCase()," ").concat(c.last_name.toUpperCase()),c.age,"F"===c.gender.toUpperCase()?"FEMALE":"MALE",c.email,null===c.mobile?"N/A":c.mobile,[t,o,c]],t++}return a},ue=function(e){if(e.length>0){return e.map((function(e,a){var t,n=e;return t=n.profile,[t.id,"".concat(t.first_name.toUpperCase()," ").concat(t.last_name.toUpperCase()),t.age,"F"===t.gender.toUpperCase()?"FEMALE":"MALE",t.email,null===t.mobile?"N/A":t.mobile,[a,n,t]]}))}},de=Object(n.useCallback)((function(){N(!0),f.get("carrier/trace-profiles",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=e.data.current_page;if(Object.keys(a).length>0){var n=oe(a);E(t),i(n)}N(!1)})).catch((function(e){N(!1)}))}),[]),pe=Object(n.useCallback)((function(){f.get("carrier/transport/ships",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}w(a)}))}),[]),Ee=Object(n.useCallback)((function(){f.get("carrier/transport/category",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}P(a)}))}),[]),be=Object(ia.debounce)((function(e){return fe(e)}),500),fe=function(e){return f.post("carrier/search",{_text:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=oe(a);i(t),N(!1)}))},ge=["Ref #","Name","Age","Gender","Email","Contact",{name:"Actions",options:{customBodyRender:function(e,a,t){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(ma.a,{title:"Profile Details",placement:"top"},r.a.createElement(Oe.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return v(e),void Q()}},r.a.createElement(R.a,{icon:B.w}))),r.a.createElement(ma.a,{title:"Transport Details",placement:"top"},r.a.createElement(Oe.a,{color:"link",className:"p-1 m-0 btn text-primary",onClick:function(){return v(e),void te()}},r.a.createElement(R.a,{icon:B.t}))))}}}],he={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"350px",selectableRows:"none",filter:!1,viewColumns:!1,elevation:0,print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=p&&(t=p+1,f.get("carrier/trace-profiles?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=oe(a);e.data.current_page>p&&(E(e.data.current_page),t=void 0!==n?[].concat(Object(ke.a)(o),Object(ke.a)(n)):o),i(t)})))},onSearchClose:function(){N(!1),de()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(N(!0),be(a))}},customSearch:function(e,a,t){return o.length>0}};return Object(n.useEffect)((function(){return de(),pe(),Ee(),function(){}}),[de,pe,Ee]),r.a.createElement(xa.Provider,{value:{passengerData:o,loadPassengers:de,selectedProfile:h}},r.a.createElement(sa.Provider,{value:{shipOptions:C,loadShips:pe,transportOptions:T}},r.a.createElement(q.a,{fluid:"true",className:"mt-0 p-0 m-0 "},r.a.createElement(I.a,{className:"m-0 p-0 text-right"},r.a.createElement(F.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:12,className:"m-0 p-0"},r.a.createElement(Va,{toggleNewManifestModal:z,toggleNewPassengerModal:Y,toggleNewShip:se}),r.a.createElement(Za,null)))),r.a.createElement(F.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0 text-left"},r.a.createElement(Ea,{title:"Passengers",loadPassengers:de,data:o,isLoading:y,columns:ge,options:he})))),r.a.createElement(Ta,{isOpen:A,loadPassengers:de,toggle:z}),K&&r.a.createElement(Wa,{isOpen:K,toggle:Q,modalMargin:t}),ee&&r.a.createElement(La,{isOpen:ee,toggle:te,modalMargin:t}),H&&r.a.createElement(Ra,{isOpen:H,toggle:Y,modalMargin:t,loadPassengers:de}),le&&r.a.createElement(ga,{isOpen:le,toggle:se})))},Xa=Object(n.createContext)();var $a=Object(Ba.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(Ha.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),et=Object(Ba.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(ba.a);function at(e){var a=Object(n.useState)(null),t=Object(s.a)(a,2),l=t[0],c=t[1],o=function(){c(null)};return r.a.createElement("div",{className:"mt-1 pt-1 ml-1 float-right"},r.a.createElement(W.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){c(e.currentTarget)},className:"p-1 pr-2 pl-2 menuButton"},r.a.createElement(R.a,{icon:B.g,className:"mr-1"})," Options"),r.a.createElement($a,{id:"customized-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:o},r.a.createElement(et,{onClick:function(){return function(a){switch(o(),a){case 1:e.toggleScheduleModal&&(e.toggleNewScheduleModal(),console.log("test"))}}(1)}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.e})),r.a.createElement(He.a,{primary:"New Schedule"}))))}var tt=function(e){var a=d().authTokens.access_token,t=Object(n.useContext)(Xa),l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(0),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(null),y=Object(s.a)(j,2),N=y[0],S=(y[1],Object(n.useState)(null)),x=Object(s.a)(S,2),C=x[0],w=(x[1],Object(n.useState)("")),_=Object(s.a)(w,2),k=_[0],T=_[1],P=Object(n.useState)(""),D=Object(s.a)(P,2),M=D[0],A=D[1];return r.a.createElement("div",null,r.a.createElement(be.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(fe.a,{toggle:e.toggle},r.a.createElement(R.a,{icon:B.t})," New Ship"),r.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),i(!0);var r=a,l={transportation_id:p,voyage:v,departure:N,arrival:C,fromLocation:k,toLocation:M};f.post("store/ships/store",l,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(i(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),t.loadSchedules(),e.toggle()):(i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","error")}))}(n)}},r.a.createElement(ge.a,null,r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{md:12},r.a.createElement(z.a,null,r.a.createElement(he.a,null,r.a.createElement(ka,{setShipName:E}),r.a.createElement(h.a,{className:"m-0",onChange:function(e){return T(e.target.value)},name:"fromLocation",label:"Origin",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0",onChange:function(e){return A(e.target.value)},name:"toLocation",label:"Destination",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",onChange:function(e){return O(e.target.value)},name:"voyage",label:"Voyage Number",required:!0,fullWidth:!0}),r.a.createElement(za,null),r.a.createElement(qa,null))))),r.a.createElement("div",null,o&&r.a.createElement(I.a,{className:"p-2"},r.a.createElement(F.a,{className:"text-center"},r.a.createElement(we,{title:"Creating New Ship Record"}))))),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"submit",color:"primary",disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.s})," Save")," ",r.a.createElement(Oe.a,{color:"danger",onClick:e.toggle,disabled:o,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.A})," Cancel")))))},nt=function(e){var a=d().authTokens,t=(me().modalMargin,Object(n.useState)([])),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(),m=Object(s.a)(i,2),u=m[0],p=m[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)([]),O=Object(s.a)(v,2),j=O[0],y=O[1],N=Object(n.useState)(!1),S=Object(s.a)(N,2),x=S[0],C=S[1],w=function(){return C(!x)},_=Object(n.useState)(!1),k=Object(s.a)(_,2),T=(k[0],k[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(ia.isArray)(e)?D(e):P(e)}),P=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],void 0),o=l[1];c=o.profile,a[t]=[c.id,"".concat(c.first_name.toUpperCase()," ").concat(c.last_name.toUpperCase()),c.age,"F"===c.gender.toUpperCase()?"FEMALE":"MALE",c.email,null===c.mobile?"N/A":c.mobile,[t,o,c]],t++}return a},D=function(e){if(e.length>0){return e.map((function(e,a){var t,n=e;return t=n.profile,[t.id,"".concat(t.first_name.toUpperCase()," ").concat(t.last_name.toUpperCase()),t.age,"F"===t.gender.toUpperCase()?"FEMALE":"MALE",t.email,null===t.mobile?"N/A":t.mobile,[a,n,t]]}))}},M=Object(n.useCallback)((function(){h(!0),f.get("carrier/transport/schedules",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){h(!1)})).catch((function(e){h(!1)}))}),[]),A=Object(n.useCallback)((function(){f.get("carrier/transport/ships",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}y(a)}))}),[]),W=Object(ia.debounce)((function(e){return z(e)}),500),z=function(e){return f.post("carrier/search",{_text:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=T(a);o(t),h(!1)}))},L=["ID","Transport Name","Origin","Destination","ETA","ETD",{name:"Actions",options:{customBodyRender:function(e,a,t){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(ma.a,{title:"Profile Details",placement:"top"},r.a.createElement(Oe.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return console.log(e)}},r.a.createElement(R.a,{icon:B.w}))),r.a.createElement(ma.a,{title:"Transport Details",placement:"top"},r.a.createElement(Oe.a,{color:"link",className:"p-1 m-0 btn text-primary",onClick:function(){return console.log(e)}},r.a.createElement(R.a,{icon:B.t}))))}}}],U={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"350px",selectableRows:"none",filter:!1,viewColumns:!1,elevation:0,print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=u&&(t=u+1,f.get("carrier/trace-profiles?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=T(a);e.data.current_page>u&&(p(e.data.current_page),t=void 0!==n?[].concat(Object(ke.a)(c),Object(ke.a)(n)):c),o(t)})))},onSearchClose:function(){h(!1),M()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(h(!0),W(a))}},customSearch:function(e,a,t){return c.length>0}};return Object(n.useEffect)((function(){return M(),A(),function(){}}),[M,A]),r.a.createElement(Xa.Provider,{value:{loadSchedules:M,shipOptions:j}},r.a.createElement(q.a,{fluid:"true",className:"mt-0 p-0 m-0 "},r.a.createElement(I.a,{className:"m-0 p-0 text-right"},r.a.createElement(F.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(F.a,{md:12,className:"m-0 p-0"},r.a.createElement(at,{toggleNewScheduleModal:w}),r.a.createElement(Za,null)))),r.a.createElement(F.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0 text-left"},r.a.createElement(Ea,{title:"Schedules",loadSchedules:M,data:c,isLoading:g,columns:L,options:U})))),x&&r.a.createElement(tt,{isOpen:x,toggle:w}))};t(748);function rt(e){var a=Object(n.useState)("1"),t=Object(s.a)(a,2),l=t[0],c=t[1],o=function(e){c(e)};return r.a.createElement("div",{className:"mt-5 pt-0 mt-0 dashboardTab"},r.a.createElement(Oa.a,{tabs:!0},r.a.createElement(ja.a,null,r.a.createElement(ya.a,{className:"1"===l?"active activeTabHeader":"inactiveTab",onClick:function(){return o("1")}},r.a.createElement(R.a,{icon:B.z})," Passengers")),r.a.createElement(ja.a,null,r.a.createElement(ya.a,{className:"2"===l?"active activeTabHeader":"inactiveTab",onClick:function(){return o("2")}},r.a.createElement(R.a,{icon:B.e})," Schedules"))),r.a.createElement(Na.a,{activeTab:l,className:"bg-white pl-2 pr-2 pb-2"},r.a.createElement(Sa.a,{tabId:"1"},r.a.createElement(Qa,null)),r.a.createElement(Sa.a,{tabId:"2"},"2"==l&&r.a.createElement(nt,null))))}var lt=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#1a1751"},appBarShift:{width:"calc(100% - ".concat(220,"px)"),marginLeft:220,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:220,flexShrink:0},drawerPaper:{width:220,boxShadow:"1px 0px 10px #000"},drawerHeader:Object(oe.a)(Object(oe.a)({display:"flex",alignItems:"center"},e.mixins.toolbar),{},{backgroundColor:"#FFFFFF",color:"#FFFFFF",margin:"0px",padding:"0px"}),content:{flexGrow:1,padding:e.spacing(4),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},large:{width:e.spacing(10),height:e.spacing(10)},nested:{paddingLeft:e.spacing(4)}}}));function ct(e){var a=d().authTokens,t=lt(),l=Object(n.useState)(!0),c=Object(s.a)(l,2),o=c[0],m=c[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],b=p[1],f=Object(n.useState)("20%"),g=Object(s.a)(f,2),h=g[0],v=g[1],j=Object(n.useState)(!1),y=Object(s.a)(j,2),N=y[0],S=y[1],x=function(){return S(!N)},C=Object(n.useState)(!1),w=Object(s.a)(C,2),_=w[0],k=w[1],T=function(){return k(!_)},P=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";switch(a){case"/":e.history.push("/");break;case"ships":e.history.push("/ships")}};return r.a.createElement(ie.Provider,{value:{modalMargin:h}},r.a.createElement("div",{className:t.root},r.a.createElement(Ie.a,{position:"fixed",className:Object(ca.default)(t.appBar,Object(se.a)({},t.appBarShift,o))},r.a.createElement(Fe.a,null,r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!o),v(o?"13%":"20%")},edge:"start",className:Object(ca.default)(t.menuButton),style:{outline:"none"}},r.a.createElement(Ve.a,null)),r.a.createElement(Se.a,{variant:"h6",noWrap:!0},r.a.createElement("div",{className:"float-left"},r.a.createElement("img",{src:de.a,width:"33",height:"35",alt:"EMS Logo"})),r.a.createElement("div",{className:"float-left"},r.a.createElement("ul",{className:"p-0 m-0 mt-2 ml-1",style:{listStyle:"none",lineHeight:"0.9rem"}},r.a.createElement("li",{style:{fontSize:"1.5rem"}},"PEMS"),r.a.createElement("li",null,r.a.createElement("small",{style:{fontSize:"0.8rem"}},"Passenger e-Manifest System"))))))),r.a.createElement(Le.a,{className:t.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("div",{className:"container-fluid text-left mb-2",style:{color:"#1a1751",minHeight:"125px",height:"125px"}},r.a.createElement("div",{className:"text-center mt-4 pb-2 border-bottom"},r.a.createElement(Ke.a,{style:{width:"45px",height:"50px"}}),r.a.createElement("ul",{className:"m-0 p-0 mt-2",style:{listStyle:"none",lineHeight:"1em"}},r.a.createElement("li",{className:"border p-1 bg-primary text-white"},r.a.createElement("strong",null,a.user.toUpperCase())),r.a.createElement("li",{className:"mt-2"},"Operator"))))),r.a.createElement(Ue.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Re.a,{className:"mt-4",button:!0,onClick:function(){return P("/")}},r.a.createElement(Be.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(He.a,{primary:"Dashboard"})),r.a.createElement(Re.a,{button:!0,onClick:function(e){return function(e){e.preventDefault(),x()}(e)}},r.a.createElement(Be.a,null,r.a.createElement(la.a,null)),r.a.createElement(He.a,{primary:"My Account"})),r.a.createElement(Re.a,{button:!0,onClick:function(e){T()}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.r})),r.a.createElement(He.a,{primary:"Report"})),r.a.createElement(Re.a,{button:!0,onClick:function(){b(!E)}},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.g,size:"lg"})),r.a.createElement(He.a,{primary:"Manage"}),E?r.a.createElement(na.a,null):r.a.createElement(aa.a,null)),r.a.createElement(Ge.a,{in:E,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ue.a,{component:"div",disablePadding:!0},r.a.createElement(Re.a,{button:!0,onClick:function(){return P("ships")},className:t.nested},r.a.createElement(Be.a,null,r.a.createElement(R.a,{icon:B.t})),r.a.createElement(He.a,{primary:"Ships"})))),r.a.createElement(Re.a,{button:!0,onClick:function(){return sessionStorage.removeItem("transporttokens"),void window.location.reload()}},r.a.createElement(Be.a,null,r.a.createElement($e.a,null)),r.a.createElement(He.a,{primary:"Logout"})),r.a.createElement(Ee,null))),r.a.createElement("main",{className:Object(ca.default)(t.content,Object(se.a)({},t.contentShift,o))},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(rt,null)),r.a.createElement(i.b,{exact:!0,path:"/ships"},r.a.createElement(va,null))),N&&r.a.createElement(_e,{isOpen:N,toggle:x}),_&&r.a.createElement(ze,{isOpen:_,toggle:T}))))}var st=function(e){Object(X.a)(t,e);var a=Object($.a)(t);function t(){return Object(Z.a)(this,t),a.apply(this,arguments)}return Object(Q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container card",style:{marginTop:"10%"}},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement("h3",{className:"text-danger  p-1 m-4"},r.a.createElement("b",null,"Error 404: ")," Page Not Found"))))}}]),t}(n.Component),ot=function(e){var a=JSON.parse(sessionStorage.getItem("transporttokens")),t=Object(n.useState)(a),l=Object(s.a)(t,2),c=l[0],m=l[1];return r.a.createElement(u.Provider,{value:{authTokens:c,setAuthTokens:function(e){sessionStorage.setItem("transporttokens",JSON.stringify(e)),m(e)}}},r.a.createElement(o.a,{basename:"/marina/module/transport"},r.a.createElement(i.d,null,r.a.createElement(p,{exact:!0,path:"/",component:ct}),r.a.createElement(p,{exact:!0,path:"/ships",component:ct}),r.a.createElement(i.b,{exact:!0,path:"/login",component:ne}),r.a.createElement(i.b,{exact:!0,path:"/register",component:ce}),r.a.createElement(i.b,{component:st}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[468,1,2]]]);
//# sourceMappingURL=main.f2a5bd03.chunk.js.map