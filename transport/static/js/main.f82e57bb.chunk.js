(this.webpackJsonpustphims=this.webpackJsonpustphims||[]).push([[0],{203:function(e,a,t){e.exports=t.p+"static/media/logo.dc773f1f.jpg"},204:function(e,a,t){e.exports=t.p+"static/media/marina.3d4d22a6.png"},422:function(e,a,t){e.exports=t.p+"static/media/dto.1f15fbb3.png"},430:function(e,a,t){e.exports=t.p+"static/media/icon.c0920caa.png"},433:function(e,a,t){e.exports=t.p+"static/media/Template.93bdb522.xlsx"},455:function(e,a,t){e.exports=t(727)},461:function(e,a,t){},466:function(e,a,t){},485:function(e,a,t){},487:function(e,a,t){},726:function(e,a,t){},727:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t.n(l),s=(t(460),t(461),t(6)),i=t(123),o=t(35),m=t(441),u=Object(n.createContext)();function d(){return Object(n.useContext)(u)}var p=function(e){var a=e.component,t=Object(m.a)(e,["component"]),n=d();return r.a.createElement(o.b,Object.assign({},t,{render:function(e){return function(e){return null!==e.authTokens&&!(e.authTokens.expires_in>Date.now())}(n)?r.a.createElement(a,e):r.a.createElement(o.a,{to:"/login"})}}))},E=(t(466),t(202)),b=t.n(E),f=b.a.create({baseURL:"https://passengertracer.net/apis/api/v1/"}),g=t(347),h=t(348),v=t(756),O=t(273),N=t(96),j=t.n(N),y=t(97),S=t.n(y),x=t(424),C=t.n(x),_=t(425),w=t.n(_),T=t(426),k=t.n(T),P=t(427),D=t.n(P),W=t(423),A=t.n(W),q=t(349),M=t(749),I=t(751),F=t(752),z=t(753),U=t(754),L=t(757),R=t(12),B=t(13),H=(t(485),t(203)),G=t.n(H),J=t(204),Y=t.n(J),V=t(422),K=t.n(V),Z=t(205),Q=t(206),X=t(226),$=t(225),ee=function(e){Object(X.a)(t,e);var a=Object($.a)(t);function t(){return Object(Z.a)(this,t),a.apply(this,arguments)}return Object(Q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("span",{className:"text-danger text-center p-1"},this.props.children))}}]),t}(n.Component),ae=t(779),te=Object(g.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(2.3),height:e.spacing(2.3),float:"left",marginLeft:"7px",marginTop:"3px"},large:{width:e.spacing(7),height:e.spacing(7)}}})),ne=function(e){var a=te(),t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)("Oops! sorry something went wrong..."),g=Object(s.a)(b,2),N=g[0],y=g[1],x=d(),_=x.authTokens,T=x.setAuthTokens,P=Object(n.useState)(!1),W=Object(s.a)(P,2),H=W[0],J=W[1];if(null!==_&&_.expires_in<Date.now())return r.a.createElement(o.a,{to:"/"});return r.a.createElement(M.a,{style:{width:"959px",marginTop:"5%"}},r.a.createElement("a",{href:"https://passengertracer.net/",rel:"noopener noreferrer",className:"btn m-0 p-0 mb-1 text-white"},r.a.createElement(A.a,{style:{fontSize:"0.9em"}})," Go Back to Portal"),r.a.createElement(I.a,{className:"bg-primary p-0 m-0",style:{borderRadius:"0px",border:"none",opacity:"0.9"}},r.a.createElement(F.a,{className:"p-0 m-0"},r.a.createElement(z.a,{xs:6,className:"text-center text-white p-2"},r.a.createElement("img",{className:"mt-5",src:Y.a,width:"90",height:"110",alt:"Marina Logo"}),r.a.createElement("a",{href:"https://marina.gov.ph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement("h3",{className:"mt-4"},"Maritime Industry Authority")),r.a.createElement("div",{className:"text-center pl-5 pr-5 ml-0"},"Follow us on: ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.facebook.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white mr-1",style:{textDecoration:"none"}},r.a.createElement(C.a,{className:a.large})),r.a.createElement("a",{href:"https://twitter.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(w.a,{className:a.large})),r.a.createElement("a",{href:"https://www.instagram.com/dotrmarinaph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(k.a,{className:a.large})),r.a.createElement("a",{href:"https://www.youtube.com/channel/UCK9SPcPFhiWLBUXAzlQqsxg",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(D.a,{className:a.large}))),r.a.createElement("div",{style:{fontSize:"0.9rem",marginTop:"25%",marginLeft:"10%"}},r.a.createElement("span",{className:"float-left"},"Powered By: "),r.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/ustpdigitaltransformation",rel:"noopener noreferrer",className:"text-white",style:{textDecoration:"none"}},r.a.createElement(ae.a,{src:K.a,className:a.small}),r.a.createElement("span",{className:"float-left ml-1"},"USTP - Digital Transformation Office")))),r.a.createElement(z.a,{xs:6,className:"p-0 m-0"},r.a.createElement(I.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(z.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-2",src:G.a,style:{width:"8rem",height:"10rem"},alt:"Passenger eTracer Logo"}),r.a.createElement("h5",null,"Transport Module")),r.a.createElement(z.a,{xs:12},r.a.createElement(U.a,{onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector("input[name=username]").value,t=document.querySelector("input[name=password]").value;""!==a&&""!==t?(i(!0),f.post("auth/carrier/login",{username:a,password:t}).then((function(e){i(!1),200===e.status?!1===e.data.status?(y(e.data.error),E(!0)):T(e.data):254===e.status?(y(e.data.message),E(!0)):E(!0)})).catch((function(e){i(!1),E(!0)}))):(y("Please enter a username and password"),E(!0))}(e)},autoComplete:"off"},r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},p&&r.a.createElement(ee,null,N)),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:H?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return J(!H)}},H?r.a.createElement(j.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(L.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:c,fullWidth:!0},r.a.createElement("span",null,"LOGIN"),r.a.createElement(R.a,{className:"pl-1",icon:B.t})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"register",variant:"contained",color:"primary",className:"pt-1 btn",disabled:c,fullWidth:!0},r.a.createElement(R.a,{className:"pr-1",icon:B.x}),r.a.createElement("span",null,"REGISTER HERE"))))))))))))},re=(t(487),t(20)),le=t.n(re),ce=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],p=m[1],E=Object(n.useState)("Oops! sorry something went wrong..."),f=Object(s.a)(E,2),g=f[0],N=f[1],y=d(),x=y.authTokens,C=(y.setAuthTokens,Object(n.useState)(!1)),_=Object(s.a)(C,2),w=_[0],T=_[1],k=Object(n.useState)(!1),P=Object(s.a)(k,2),D=P[0],W=P[1];if(null!==x&&x.expires_in<Date.now())return r.a.createElement(o.a,{to:"/"});return r.a.createElement(M.a,{className:"rounded",style:{width:"762px",marginTop:"2%"}},r.a.createElement(I.a,{className:"bg-primary p-0 m-0 rounded",style:{border:"none",opacity:"0.88"}},r.a.createElement(F.a,{className:"p-0 m-0"},r.a.createElement(z.a,{xs:12,className:"p-0 m-0"},r.a.createElement(I.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(z.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-1",src:Y.a,style:{width:"4rem",height:"4.5rem"},alt:"MARINA Logo"}),r.a.createElement("img",{className:"mt-1",src:G.a,style:{width:"5rem",height:"6rem"},alt:"Passenger eTracer Logo"})),r.a.createElement(z.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("h4",null,r.a.createElement(R.a,{className:"pr-1",icon:B.a})," Register New Company")),r.a.createElement(z.a,{xs:{size:10,offset:1}},r.a.createElement(U.a,{onSubmit:function(a){return function(a){a.preventDefault();var t=document.querySelector("input[name=company]").value,n=document.querySelector("input[name=mobile]").value,r=document.querySelector("input[name=address]").value,l=document.querySelector("input[name=username]").value,s=document.querySelector("input[name=password]").value;if(""!==l&&""!==s){c(!0);var i={carrier_name:t,carrier_contact:n,carrier_address:r,username:l,password:s};b.a.post("https://passengertracer.net/apis/api/account/register",i).then((function(a){(c(!1),200===a.status)?0===a.data.error?(N(a.data.message),p(!0)):le.a.fire("Transaction Completed!","Account Successfully Registered!","success").then((function(){e.history.push("/")})):254===a.status?(N(a.data.message),p(!0)):p(!0)})).catch((function(e){c(!1),p(!0)}))}else N("Please enter a username and password"),p(!0)}(a)},autoComplete:"off"},r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},u&&r.a.createElement(ee,null,g)),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"company",placeholder:"Company Name",label:"Company Name",fullWidth:!0,required:!0})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"mobile",placeholder:"Contact Number",label:"Contact Number",fullWidth:!0,required:!0})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"address",placeholder:"Address",label:"Address",fullWidth:!0,required:!0})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:w?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return T(!w)}},w?r.a.createElement(j.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:D?"text":"password",name:"repassword",placeholder:"Re-type Password",label:"Re-type Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return W(!D)}},D?r.a.createElement(j.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(z.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},l?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(L.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:l,fullWidth:!0},r.a.createElement("span",null,"Register"),r.a.createElement(R.a,{className:"pl-1",icon:B.f})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"login",variant:"contained",color:"primary",className:"pt-1 btn",disabled:l},r.a.createElement("span",null,"LOGIN HERE"),r.a.createElement(R.a,{className:"pl-1",icon:B.t}))))))))))))},se=t(159),ie=t(277),oe=t(430),me=t.n(oe),ue=t(137),de=Object(n.createContext)();function pe(){return Object(n.useContext)(de)}var Ee=Object(n.createContext)();function be(){return Object(n.useContext)(Ee)}var fe=t(136),ge=t(389),he=t(775),ve=t(431),Oe=t.n(ve),Ne=t(760),je=function(e){return r.a.createElement("div",{className:"col-md-12 mt-2 pb-0 pr-0 m-0"},e.isLoading&&r.a.createElement(Ne.a,{style:{marginLeft:"48%",marginTop:"18%",position:"absolute",zIndex:"1000"}}),r.a.createElement(F.a,null,r.a.createElement(z.a,{md:12,className:"mr-0 pr-0"},r.a.createElement(Oe.a,{title:e.title,data:e.data,columns:e.columns,options:e.options}))))},ye=t(75),Se=t(778),xe=t(770),Ce=t(771),_e=t(772),we=t(773),Te=t(774),ke=t(40),Pe=t(776),De=t(433),We=t.n(De),Ae=t(396),qe=function(e){var a=be().shipOptions,t=Object(n.useState)(""),l=Object(s.a)(t,2),c=l[0],i=l[1],o=function(a){e.setShipName(a),function(a){e.setShipName(a),i(a),e.getShipDetails&&e.getShipDetails(a)}(a)};return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select a Ship",name:"shipName",value:e.shipName||c,onChange:function(e){return o(e.target.value)},fullWidth:!0,required:!0,disabled:e.disabled||!1},a.map((function(e){return r.a.createElement(Ae.a,{key:e.value,value:e.value},e.label)}))))},Me=t(765),Ie=t(269),Fe=t(103);function ze(e){return r.a.createElement(Ie.a,{display:"flex",alignItems:"center"},r.a.createElement(Ie.a,{width:"100%",mr:1},r.a.createElement(Me.a,Object.assign({variant:"determinate"},e))),r.a.createElement(Ie.a,{minWidth:35},r.a.createElement(Fe.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Ue=Object(g.a)({root:{width:"100%"}}),Le=function(e){var a=Ue(),t=Object(n.useState)(0),l=Object(s.a)(t,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){return e<89&&e<100?e+Math.floor(10*Math.random())+1:99}))}),800);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(Fe.a,null,e.title),r.a.createElement(ze,{value:c}))},Re=function(e){var a=d().authTokens.access_token,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(null),m=Object(s.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)(null),b=Object(s.a)(E,2),g=b[0],v=b[1],O=Object(n.useState)(null),N=Object(s.a)(O,2),j=N[0],y=N[1],S=Object(n.useState)(""),x=Object(s.a)(S,2),C=x[0],_=x[1],w=Object(n.useState)(""),T=Object(s.a)(w,2),k=T[0],P=T[1],D=Object(n.useState)(0),W=Object(s.a)(D,2),A=W[0],q=W[1],M=Object(n.useState)(""),U=Object(s.a)(M,2),L=U[0],H=U[1],G=new ye.a;return r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-lg",style:{marginTop:"7%",marginLeft:"30%"}},r.a.createElement(xe.a,{style:{lineHeight:"2"}},"Import Passenger Manifest ",r.a.createElement("br",null)),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),i(!0);var n=a,r=new FormData;r.append("profileFile",u),r.append("departure",G.format(g,"Y-M-dd H:m:s")),r.append("arrival",G.format(j,"Y-M-dd H:m:s")),r.append("transport_no",C),r.append("ship_name",k),r.append("transport_type",A),r.append("route",L),f.post("store/import/profiles",r,{headers:{Authorization:"bearer "+n,"Content-Type":"multipart/form-data"}}).then((function(a){a.data.status?(i(!1),p(null),v(null),y(null),_(""),q(""),H(""),le.a.fire("Transaction Completed!","Data Successfully Imported!","success"),e.loadPassenger&&e.loadPassenger(),e.toggle()):(i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","Failed to Import Data!","error")}))}(t)},encType:"multipart/form-data",id:"excelFile"},r.a.createElement(Ce.a,null,r.a.createElement(F.a,{className:"p-2"},r.a.createElement("div",{className:"col-md-6 p-2"},r.a.createElement("h5",{className:"text-primary ml-2"},r.a.createElement(R.a,{icon:B.e})," Travel Dates"),r.a.createElement(I.a,{className:"border-0"},r.a.createElement(_e.a,{className:"p-2"},r.a.createElement("div",null,r.a.createElement(ke.a,{utils:ye.a},r.a.createElement(Pe.a,{value:g,onChange:v,label:"ETD(Est. Time of Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0}))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(ke.a,{utils:ye.a},r.a.createElement(Pe.a,{value:j,onChange:y,label:"ETA(Est. Time of Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})))))),r.a.createElement("div",{className:"col-md-6 p-2"},r.a.createElement("h5",{className:"text-primary"},r.a.createElement(R.a,{icon:B.a})," Transport Details"),r.a.createElement(I.a,{className:"border-0"},r.a.createElement(_e.a,{className:"p-1 m-1"},r.a.createElement("div",null,r.a.createElement(qe,{getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(H(a.routes),q(a.transportation_category_id))}))},setShipName:P})),r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{value:C,onChange:function(e){return _(e.target.value)},label:"Voyage Number",fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{label:"Voyage Route",value:L,onChange:function(e){return H(e.target.value)},fullWidth:!0,required:!0,disabled:!0}))))),r.a.createElement("div",{className:"col-md-12 pt-2"},r.a.createElement("h5",{className:"text-success"},r.a.createElement(R.a,{icon:B.k})," Import Excel File:"," ",r.a.createElement("a",{href:We.a,title:"Download Passenger Manifest Template",download:"Passenger-Manifest-Template.xlsx"},r.a.createElement("span",{style:{fontSize:"0.9rem"}},r.a.createElement(R.a,{icon:B.j})," Download this template")),r.a.createElement("br",null)),r.a.createElement(I.a,null,r.a.createElement(_e.a,{className:"p-1 m-0"},r.a.createElement("div",{className:"m-0"},r.a.createElement(we.a,{accept:".xlsx,.xls",id:"raised-button-file",type:"file",onChange:function(e){return p(e.target.files[0])},disabled:c,required:!0})))))),r.a.createElement("div",null,c&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{className:"text-center"},r.a.createElement(Le,{title:"Importing Passenger Manifest"}))))),r.a.createElement(Te.a,null,r.a.createElement(he.a,{type:"submit",color:"primary",disabled:c,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.l})," Import")," ",r.a.createElement(he.a,{color:"danger",onClick:e.toggle,disabled:c,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.z})," Cancel")))))},Be=function(e){var a=be().transportOptions,t=Object(n.useState)(e.transportType||""),l=Object(s.a)(t,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Transport Type",name:"transportType",value:e.transportType||c,onChange:function(a){return t=a.target.value,i(t),void e.setTransportType(t);var t},fullWidth:!0,required:!0},a.map((function(e){return r.a.createElement(Ae.a,{key:e.value,value:e.value},e.label)}))))},He=function(e){var a=d().authTokens.access_token,t=be(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],o=c[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),v=g[0],O=g[1],N=Object(n.useState)(null),j=Object(s.a)(N,2),y=j[0],S=j[1];return r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(xe.a,null,r.a.createElement(R.a,{icon:B.s})," New Ship"),r.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),o(!0);var r=a,l={name:p,routes:v,transportation_category_id:y};f.post("store/ships/store",l,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(o(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),t.loadShips(),e.loadShips&&e.loadShips(),e.toggle()):(o(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){o(!1),le.a.fire("Transaction Failed!","error")}))}(n)}},r.a.createElement(Ce.a,null,r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(_e.a,null,r.a.createElement(h.a,{className:"m-0",onChange:function(e){return E(e.target.value)},name:"shipName",label:"Ship Name",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",onChange:function(e){return O(e.target.value)},name:"voyageRoute",label:"Route",required:!0,fullWidth:!0}),r.a.createElement(Be,{setTransportType:S}))))),r.a.createElement("div",null,i&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{className:"text-center"},r.a.createElement(Le,{title:"Creating New Ship Record"}))))),r.a.createElement(Te.a,null,r.a.createElement(he.a,{type:"submit",color:"primary",disabled:i,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.r})," Save")," ",r.a.createElement(he.a,{color:"danger",onClick:e.toggle,disabled:i,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.z})," Cancel")))))},Ge=t(393),Je=t(767),Ye=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Gender",name:"gender",value:e.gender||l,onChange:function(a){return t=a.target.value,e.setGender(t.toUpperCase()),void c(t.toUpperCase());var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"M",label:"Male"},{value:"F",label:"Female"}].map((function(e){return r.a.createElement(Ae.a,{key:e.value,value:e.value},e.label)}))))},Ve=function(e){var a=d().authTokens.access_token,t=pe().selectedProfile,l=pe().passengerData,c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],b=p[1],g=Object(n.useState)(!0),v=Object(s.a)(g,2),O=v[0],N=v[1],j=Object(n.useState)(""),y=Object(s.a)(j,2),S=y[0],x=y[1],C=Object(n.useState)(""),_=Object(s.a)(C,2),w=_[0],T=_[1],k=Object(n.useState)(""),P=Object(s.a)(k,2),D=P[0],W=P[1],A=Object(n.useState)(""),q=Object(s.a)(A,2),U=q[0],L=q[1],H=Object(n.useState)(""),G=Object(s.a)(H,2),J=G[0],Y=G[1],V=Object(n.useState)(""),K=Object(s.a)(V,2),Z=K[0],Q=K[1],X=Object(n.useState)(""),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(s.a)(te,2),re=ne[0],ce=ne[1],se=Object(n.useState)(""),ie=Object(s.a)(se,2),oe=ie[0],me=ie[1],ue=Object(n.useState)(""),de=Object(s.a)(ue,2),Ee=de[0],be=de[1],fe=Object(n.useState)(""),ge=Object(s.a)(fe,2),ve=ge[0],Oe=ge[1],Ne=Object(n.useState)(""),je=Object(s.a)(Ne,2),ye=je[0],Se=je[1],xe=Object(n.useState)(""),Ce=Object(s.a)(xe,2),we=Ce[0],Te=Ce[1];Object(n.useEffect)((function(){var e=t[1].profile;return x(t),T(e.first_name.toUpperCase()),W(e.last_name.toUpperCase()),L(e.gender),Y(e.age),Q(t[1].temperature),ae(e.email),ce(e.mobile),e.relatives.length>0&&(me(e.relatives[0].name),be(e.relatives[0].contact)),Se(e.address.specific_address),Oe(e.address.zipcode),t[1].companions.length>0&&Te(t[1].companions[0].name),function(){}}),[t]);return r.a.createElement(M.a,{fluid:!0,className:"pt-2"},r.a.createElement(Ge.a,{className:"ml-2",control:r.a.createElement(Je.a,{checked:E,onChange:function(){b(!E),N(!O||null)},color:"primary"}),label:"Edit"}),r.a.createElement(z.a,{xs:12,className:"mt-3"},r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.v})," Personal Details"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1 mt-3"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"first_name",label:"First Name",value:w,onChange:function(e){return T(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{name:"last_name",label:"Last Name",value:D,onChange:function(e){return W(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"number",name:"age",label:"Age",value:J,onChange:function(e){return Y(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(Ye,{gender:U,disabled:O,setGender:L})),r.a.createElement("div",{className:"mb-4"},r.a.createElement(h.a,{type:"number",inputProps:{min:"20.0",max:"50.0",step:"0.1"},name:"bodyTemperature",label:"Body Temperature",value:Z||"",onChange:function(e){return Q(e.target.value)},fullWidth:!0,required:!0,disabled:O}))))))),r.a.createElement(z.a,{xs:4,className:"p-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.q})," Contact Details"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",value:re||"",onChange:function(e){return ce(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",value:ee||"",onChange:function(e){return ae(e.target.value)},fullWidth:!0,disabled:O})))))),r.a.createElement("h6",{className:"text-primary mt-2 ml-1"},r.a.createElement(R.a,{icon:B.o})," Address"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{name:"zipcode",label:"Zipcode",value:ve||"",onChange:function(e){return Oe(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{label:"Complete Address",name:"complete_address",value:ye,onChange:function(e){return Se(e.target.value)},fullWidth:!0,required:!0,disabled:O}))))))),r.a.createElement(z.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.y})," Companion Details"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",value:we,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return Te(e.target.value)},fullWidth:!0,disabled:O})))))),r.a.createElement("h6",{className:"text-primary mt-3"},r.a.createElement(R.a,{icon:B.p})," Nearest Relative"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{label:"Name",name:"relativeName",value:oe,onChange:function(e){return me(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",value:Ee,onChange:function(e){return be(e.target.value)},fullWidth:!0,required:!0,disabled:O})))))))),!o&&r.a.createElement("div",null,E&&r.a.createElement(F.a,{className:"mt-3 ml-1"},r.a.createElement(he.a,{type:"button",onClick:function(){return function(){e.setIsProcessing(!0),m(!0);var n=a,r=S[1],c=JSON.parse(r.vehicle_details),s={first_name:w,last_name:D,gender:U,age:J,email:ee,mobile:re,zipcode:parseInt(ve),specific_address:ye,temp:Z,barangay:r.profile.address.barangay,person_type:r.profile.person_type,origin:r.fromLocation,destination:r.toLocation,arrival:r.fromDate,departure:r.toDate,transport_type:r.mode_of_travel_id,transport_no:c.transport_no,ship_name:c.transport_vehicle,travel_id:r.id,accomodation_type:r.accommodation_type,previous_travel:r.previous_place_travel,parking_space_no:r.parking_space_no,seat_no:r.seat_no,route:r.route,companion_name:we,relative_name:oe,relative_contact:Ee};f.put("carrier/update/".concat(r.profile.id),s,{headers:{Authorization:"bearer "+n}}).then((function(a){a.data.status?(e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success"),l[t[0]][1]="".concat(w," ").concat(D),l[t[0]][2]=J,l[t[0]][3]="M"===U?"MALE":"FEMALE",l[t[0]][4]=ee,l[t[0]][5]=re,l[t[0]][6][1].profile={first_name:w,last_name:D,age:J,gender:U,email:ee,mobile:re,relatives:[{name:oe,contact:Ee}],trace_logs:l[t[0]][6][1].profile.trace_logs},l[t[0]][6][1].profile.address={zipcode:ve,specific_address:ye},l[t[0]][6][1].temperature=Z,l[t[0]][6][1].companions=[{name:we}],e.toggle()):(e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Failed!","error")}))}()},color:"primary",disabled:O,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.r})," Save")))))},Ke=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:e.modalMargin}},r.a.createElement(xe.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(R.a,{icon:B.w})," Passenger Profile"),r.a.createElement("form",{onSubmit:function(e){return console.log(e)}},r.a.createElement(Ce.a,{className:"pt-0"},r.a.createElement(F.a,null,r.a.createElement(Ve,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{className:"text-center"},r.a.createElement(Le,{title:"Updating Passenger Profile"}))))))))},Ze=function(e){return r.a.createElement("div",null,r.a.createElement(ke.a,{utils:ye.a},r.a.createElement(Pe.a,{value:e.departureDate||null,onChange:e.setDepartureDateChange,name:"departureDate",label:"ETD (Est. Time Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1,disabled:e.disabled})))},Qe=function(e){return r.a.createElement("div",null,r.a.createElement(ke.a,{utils:ye.a},r.a.createElement(Pe.a,{value:e.arrivalDate,onChange:e.setArrivalDateChange||null,label:"ETA (Est. Time Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1,disabled:e.disabled})))},Xe=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Accommodation type",name:"accommodationType",value:e.accommodationType||l,onChange:function(a){return t=a.target.value,c(t),void(e.setAccommodationType&&e.setAccommodationType(t));var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"1st",label:"1st Class"},{value:"2nd",label:"2nd Class"},{value:"3rd",label:"3rd Class"}].map((function(e){return r.a.createElement(Ae.a,{key:e.value,value:e.value},e.label)}))))},$e=function(e){var a=d().authTokens.access_token,t=pe().selectedProfile,l=pe().passengerData,c=new ye.a,i=Object(n.useState)(!1),o=Object(s.a)(i,2),m=o[0],u=o[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],g=E[1],v=Object(n.useState)(!0),O=Object(s.a)(v,2),N=O[0],j=O[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),x=S[0],C=S[1],_=Object(n.useState)(""),w=Object(s.a)(_,2),T=w[0],k=w[1],P=Object(n.useState)(""),D=Object(s.a)(P,2),W=D[0],A=D[1],q=Object(n.useState)(""),U=Object(s.a)(q,2),L=U[0],H=U[1],G=Object(n.useState)(""),J=Object(s.a)(G,2),Y=J[0],V=J[1],K=Object(n.useState)(0),Z=Object(s.a)(K,2),Q=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),re=Object(s.a)(ne,2),ce=re[0],se=re[1],ie=Object(n.useState)(null),oe=Object(s.a)(ie,2),me=oe[0],ue=oe[1],de=Object(n.useState)(""),Ee=Object(s.a)(de,2),be=Ee[0],fe=Ee[1],ge=Object(n.useState)(""),ve=Object(s.a)(ge,2),Oe=ve[0],Ne=ve[1],je=Object(n.useState)(""),Se=Object(s.a)(je,2),xe=Se[0],Ce=Se[1],we=Object(n.useState)(""),Te=Object(s.a)(we,2),ke=Te[0],Pe=Te[1];Object(n.useEffect)((function(){var e;return e="object"===typeof t[1].vehicle_details?t[1].vehicle_details:JSON.parse(t[1].vehicle_details),C(t),k(t[1].fromLocation),A(t[1].toLocation),se(c.format(new Date(t[1].fromDate),"MMM/d/yyyy h:mm:ss a")),ue(c.format(new Date(t[1].toDate),"MMM/d/yyyy h:mm:ss a")),H(t[1].previous_place_travel),V(e.transport_vehicle),X(t[1].mode_of_travel_id),Ce(e.transport_no),fe(t[1].seat_no),Ne(t[1].parking_space_no),Pe(t[1].accommodation_type),te(t[1].route.toUpperCase()),function(){}}),[]);return r.a.createElement(M.a,{fluid:!0,className:"pt-2"},r.a.createElement(Ge.a,{className:"ml-2",control:r.a.createElement(Je.a,{checked:b,onChange:function(){g(!b),j(!N||null)},color:"primary"}),label:"Edit"}),r.a.createElement(z.a,{md:12,className:"mt-3"},r.a.createElement(F.a,null,r.a.createElement(z.a,{md:12,className:"text-left mt-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.a})," Transport Details"),r.a.createElement(I.a,{className:"p-0",style:{border:"none"}},r.a.createElement(_e.a,{className:"m-0 p-0"},r.a.createElement(z.a,{md:12,className:"m-0 p-0"},r.a.createElement(I.a,{className:"m-0 p-0"},r.a.createElement(_e.a,{className:"m-0 p-0 pl-2 pr-2 pb-2 pt-2"},r.a.createElement(F.a,null,r.a.createElement(z.a,{md:4},r.a.createElement(qe,{shipName:Y,setShipName:V,disabled:N,getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(te(a.routes),X(a.transportation_category_id))}))}}),r.a.createElement(h.a,{className:"m-0 p-0 mt-1",onChange:function(e){return Ce(e.target.value)},value:xe,name:"transportNumber",label:"Voyage Number",fullWidth:!0,required:!0,disabled:N})),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{className:"mb-1",name:"voyageRoute",label:"Voyage Route",value:ae,onChange:function(e){return te(e.target.value.toUpperCase())},fullWidth:!0,required:!0,disabled:N}),r.a.createElement(Xe,{setAccommodationType:Pe,accommodationType:ke,disabled:N})),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{className:"m-0 p-0 mb-1",value:be||"",onChange:function(e){return fe(e.target.value)},name:"seat_number",label:"Seat/Bunk Number",fullWidth:!0,required:!0,disabled:N}),r.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",value:Oe||"",helperText:"( if with service vehicle )",onChange:function(e){return Ne(e.target.value)},fullWidth:!0,disabled:N}))))))))),r.a.createElement(z.a,{md:12,className:"text-left mt-2"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.s})," Travel Details"),r.a.createElement(I.a,{className:"p-0",style:{border:"none"}},r.a.createElement(_e.a,{className:"m-0 p-0"},r.a.createElement(z.a,{md:12,className:"m-0 p-0"},r.a.createElement(I.a,{className:"m-0 p-0 pb-2"},r.a.createElement(_e.a,{className:"m-0 p-0 pl-2 pr-2 pb-2 pt-2"},r.a.createElement(F.a,null,r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",value:T||"",onChange:function(e){return k(e.target.value)},fullWidth:!0,required:!0,disabled:N}),r.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",value:W||"",onChange:function(e){return A(e.target.value)},fullWidth:!0,required:!0,disabled:N})),r.a.createElement(z.a,{md:4},r.a.createElement("div",null,r.a.createElement(Ze,{departureDate:ce,setDepartureDateChange:se,disabled:N})),r.a.createElement("div",null,r.a.createElement(Qe,{arrivalDate:me,setArrivalDateChange:ue,disabled:N}))),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",value:L||"",onChange:function(e){return H(e.target.value)},fullWidth:!0,required:!0,disabled:N})))))))))),!m&&r.a.createElement("div",null,b&&r.a.createElement(F.a,{className:"mt-3 ml-1"},r.a.createElement(he.a,{type:"button",onClick:function(){return function(){e.setIsProcessing(!0),u(!0);var n=a,r=x[1],s={first_name:r.profile.first_name,last_name:r.profile.last_name,gender:r.profile.gender,age:r.profile.age,email:r.profile.email,mobile:r.profile.mobile,zipcode:r.profile.address.zipcode,specific_address:r.profile.address.specific_address,temp:r.bodyTemperature,barangay:r.profile.address.barangay,person_type:r.profile.person_type,origin:T,destination:W,arrival:c.format(new Date(me),"Y-M-dd H:m:s"),departure:c.format(new Date(ce),"Y-M-dd H:m:s"),transport_type:Q,transport_no:xe,ship_name:Y,travel_id:r.id,accommodation_type:ke,previous_travel:L,parking_space_no:Oe,seat_no:be,route:ae,companion_name:r.companions,relative_name:r.profile.relatives[0].name,relative_contact:r.profile.relatives[0].contact};f.put("carrier/update/".concat(r.profile.id),s,{headers:{Authorization:"bearer "+n}}).then((function(a){if(a.data.status){e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success");var n=JSON.stringify({transport_no:xe,transport_vehicle:Y});l[t[0]][6][1].fromLocation=T,l[t[0]][6][1].toLocation=W,l[t[0]][6][1].fromDate=ce,l[t[0]][6][1].toDate=me,l[t[0]][6][1].route=ae,l[t[0]][6][1].accommodation_type=ke,l[t[0]][6][1].parking_space_no=Oe,l[t[0]][6][1].previous_place_travel=L,l[t[0]][6][1].vehicle_details=n,e.toggle()}else e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Failed!",a.data.message,"error")})).catch((function(a){e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Failed!","error")}))}()},color:"primary",disabled:N,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.r})," Save")))))},ea=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],i=pe().selectedProfile,o=Object(n.useState)(""),m=Object(s.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)(""),E=Object(s.a)(p,2),b=E[0],f=E[1];return Object(n.useEffect)((function(){d(i[2].first_name),f(i[2].last_name)}),[i]),r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"5%",marginLeft:e.modalMargin}},r.a.createElement(xe.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(R.a,{icon:B.w})," Transport Details: ",r.a.createElement("span",{className:"text-success"},"".concat(u.toUpperCase()," ").concat(b.toUpperCase()))),r.a.createElement("form",{onSubmit:function(e){return console.log(e)}},r.a.createElement(Ce.a,{className:"pt-0"},r.a.createElement(F.a,null,r.a.createElement($e,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{className:"text-center"},r.a.createElement(Le,{title:"Updating Transport Details"}))))))))},aa=function(e){var a=d().authTokens,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(!0),m=Object(s.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),g=b[0],v=b[1],O=Object(n.useState)(""),N=Object(s.a)(O,2),j=N[0],y=N[1],S=Object(n.useState)(""),x=Object(s.a)(S,2),C=x[0],_=x[1],w=Object(n.useState)(""),T=Object(s.a)(w,2),k=T[0],P=T[1],D=Object(n.useState)(""),W=Object(s.a)(D,2),A=W[0],q=W[1],L=Object(n.useState)(""),H=Object(s.a)(L,2),G=H[0],J=H[1],Y=Object(n.useState)(""),V=Object(s.a)(Y,2),K=V[0],Z=V[1],Q=Object(n.useState)(""),X=Object(s.a)(Q,2),$=X[0],ee=X[1],ae=Object(n.useState)(""),te=Object(s.a)(ae,2),ne=te[0],re=te[1],ce=Object(n.useState)(""),se=Object(s.a)(ce,2),ie=se[0],oe=se[1],me=Object(n.useState)(""),ue=Object(s.a)(me,2),de=ue[0],pe=ue[1],Ee=Object(n.useState)(""),be=Object(s.a)(Ee,2),fe=be[0],ge=be[1],ve=Object(n.useState)(""),Oe=Object(s.a)(ve,2),Ne=Oe[0],je=Oe[1],ye=Object(n.useState)(""),Se=Object(s.a)(ye,2),xe=Se[0],Ce=Se[1],we=Object(n.useState)(""),Te=Object(s.a)(we,2),ke=Te[0],Pe=Te[1],De=Object(n.useState)(""),We=Object(s.a)(De,2),Ae=We[0],Me=We[1],Ie=Object(n.useState)(""),Fe=Object(s.a)(Ie,2),ze=Fe[0],Ue=Fe[1],Le=Object(n.useState)(""),Re=Object(s.a)(Le,2),Be=Re[0],He=Re[1],Ge=Object(n.useState)(""),Je=Object(s.a)(Ge,2),Ve=Je[0],Ke=Je[1],$e=Object(n.useState)(null),ea=Object(s.a)($e,2),aa=ea[0],ta=ea[1],na=Object(n.useState)(null),ra=Object(s.a)(na,2),la=ra[0],ca=ra[1],sa=Object(n.useState)(""),ia=Object(s.a)(sa,2),oa=ia[0],ma=ia[1],ua=Object(n.useState)(""),da=Object(s.a)(ua,2),pa=da[0],Ea=da[1],ba=Object(n.useState)(""),fa=Object(s.a)(ba,2),ga=fa[0],ha=fa[1],va=Object(n.useState)(""),Oa=Object(s.a)(va,2),Na=Oa[0],ja=Oa[1],ya=function(t){if(t.preventDefault(),u)return p(!1),v(!0),null;e.setIsProcessing(!0),i(!0);var n={first_name:j,last_name:C,gender:k,age:A,email:K,mobile:$,zipcode:parseInt(de),specific_address:fe,temp:G,barangay:"",origin:xe,destination:ke,arrival:la,departure:aa,transport_type:Be,transport_no:ga,ship_name:ze,accomodation_type:Na,previous_travel:Ae,parking_space_no:pa,seat_no:oa,route:Ve,companion_name:Ne,relative_name:ne,relative_contact:ie};f.post("carrier/add-profile",n,{headers:{Authorization:"bearer "+a.access_token}}).then((function(a){a.data.status?(e.setIsProcessing(!1),i(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success").then((function(){e.loadPassengers&&e.loadPassengers(),e.toggle()}))):(e.setIsProcessing(!1),i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){console.log(a),e.setIsProcessing(!1),i(!1),le.a.fire("Transaction Failed!","error")}))};return r.a.createElement(M.a,{fluid:!0,className:"pt-2"},r.a.createElement(z.a,{xs:12,className:"mt-3"},r.a.createElement(U.a,{onSubmit:function(e){return ya(e)}},r.a.createElement(F.a,null,u&&r.a.createElement(M.a,{fluid:!0},r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.v})," Personal Details"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1 mt-3"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"first_name",label:"First Name",value:j,onChange:function(e){return y(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{name:"last_name",label:"Last Name",value:C,onChange:function(e){return _(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"number",name:"age",label:"Age",value:A,onChange:function(e){return q(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(Ye,{gender:k,setGender:P})),r.a.createElement("div",{className:"mb-4"},r.a.createElement(h.a,{type:"number",inputProps:{min:"20.0",max:"50.0",step:"0.1"},name:"bodyTemperature",label:"Body Temperature",value:G||"",onChange:function(e){return J(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(z.a,{xs:4,className:"p-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.q})," Contact Details"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",value:$||"",onChange:function(e){return ee(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",value:K,onChange:function(e){return Z(e.target.value)},fullWidth:!0})))))),r.a.createElement("h6",{className:"text-primary mt-2 ml-1"},r.a.createElement(R.a,{icon:B.o})," Address"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{type:"number",name:"zipcode",label:"Zipcode",value:de,onChange:function(e){return pe(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{label:"Complete Address",name:"complete_address",value:fe,onChange:function(e){return ge(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(z.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.y})," Companion Details"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",value:Ne,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return je(e.target.value)},fullWidth:!0})))))),r.a.createElement("h6",{className:"text-primary mt-3"},r.a.createElement(R.a,{icon:B.p})," Nearest Relative"),r.a.createElement(F.a,null,r.a.createElement(z.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{label:"Name",name:"relativeName",value:ne,onChange:function(e){return re(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",value:ie,onChange:function(e){return oe(e.target.value)},fullWidth:!0,required:!0}))))))))),g&&r.a.createElement(M.a,{fluid:!0},r.a.createElement(F.a,null,r.a.createElement(z.a,{md:12},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.a})," Transport Details")),r.a.createElement(z.a,{md:4},r.a.createElement(qe,{shipName:ze,setShipName:Ue,getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(Ke(a.routes),He(a.transportation_category_id))}))}}),r.a.createElement(h.a,{className:"m-0 p-0 mt-1",onChange:function(e){return ha(e.target.value)},value:ga,name:"transportNumber",label:"Voyage Number",fullWidth:!0,required:!0})),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{className:"mb-1",name:"voyageRoute",label:"Voyage Route",value:Ve,onChange:function(e){return Ke(e.target.value.toUpperCase())},fullWidth:!0,disabled:!0}),r.a.createElement(Xe,{setAccommodationType:ja,accommodationType:Na})),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{className:"m-0 p-0 mb-1",value:oa,onChange:function(e){return ma(e.target.value)},name:"seat_number",label:"Seat/Bunk Number",fullWidth:!0,required:!0}),r.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",value:pa,helperText:"( if with service vehicle )",onChange:function(e){return Ea(e.target.value)},fullWidth:!0})),r.a.createElement(z.a,{md:12},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(R.a,{icon:B.s})," Travel Details")),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",value:xe||"",onChange:function(e){return Ce(e.target.value)},fullWidth:!0,required:!0}),r.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",value:ke||"",onChange:function(e){return Pe(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement(z.a,{md:4},r.a.createElement("div",null,r.a.createElement(Ze,{departureDate:aa,setDepartureDateChange:ta})),r.a.createElement("div",null,r.a.createElement(Qe,{arrivalDate:la,setArrivalDateChange:ca}))),r.a.createElement(z.a,{md:4},r.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",value:Ae||"",onChange:function(e){return Me(e.target.value)},fullWidth:!0,required:!0}))))),u&&r.a.createElement(F.a,{className:"mt-3 mr-1 text-right d-flex"},r.a.createElement(he.a,{className:"ml-auto",type:"submit",color:"primary",style:{minWidth:"120px"}},"Next"," ",r.a.createElement(R.a,{icon:B.d,className:"mt-1 ml-1"}))),g&&r.a.createElement("div",null,!c&&r.a.createElement(F.a,{className:"mt-3 mr-1 text-right d-flex"},r.a.createElement(he.a,{className:"ml-auto mr-1",type:"button",onClick:function(){return p(!0),void v(!1)},color:"primary",style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.c,className:"mt-1 ml-1"})," ","Back"),r.a.createElement(he.a,{type:"submit",color:"primary",style:{minWidth:"120px"}},"Save ",r.a.createElement(R.a,{icon:B.r,className:"mt-1 ml-1"})))))))},ta=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:e.modalMargin}},r.a.createElement(xe.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(R.a,{icon:B.w})," Passenger Profile"),r.a.createElement(Ce.a,{className:"pt-0"},r.a.createElement(F.a,null,r.a.createElement(aa,{loadPassengers:e.loadPassengers,setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{className:"text-center"},r.a.createElement(Le,{title:"Create New Passenger Profile"})))))))},na=function(e){var a=d().authTokens,t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(),m=Object(s.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)({}),b=Object(s.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),N=O[0],j=O[1],y=Object(n.useState)([]),S=Object(s.a)(y,2),x=S[0],C=S[1],_=Object(n.useState)(!1),w=Object(s.a)(_,2),T=w[0],k=w[1],P=function(){return k(!T)},D=Object(n.useState)(!1),W=Object(s.a)(D,2),A=W[0],I=W[1],z=function(){return I(!A)},U=Object(n.useState)(!1),L=Object(s.a)(U,2),H=L[0],G=L[1],J=function(){return G(!H)},Y=Object(n.useState)(!1),V=Object(s.a)(Y,2),K=V[0],Z=V[1],Q=function(){return Z(!K)},X=Object(n.useState)(!1),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=function(){return ae(!ee)},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(fe.isArray)(e)?le(e):re(e)},re=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],void 0),i=l[1];c=i.profile,a[t]=[c.id,"".concat(c.first_name.toUpperCase()," ").concat(c.last_name.toUpperCase()),c.age,"F"===c.gender.toUpperCase()?"FEMALE":"MALE",c.email,null===c.mobile?"N/A":c.mobile,[t,i,c]],t++}return a},le=function(e){if(e.length>0){return e.map((function(e,a){var t,n=e;return t=n.profile,[t.id,"".concat(t.first_name.toUpperCase()," ").concat(t.last_name.toUpperCase()),t.age,"F"===t.gender.toUpperCase()?"FEMALE":"MALE",t.email,null===t.mobile?"N/A":t.mobile,[a,n,t]]}))}},ce=Object(n.useCallback)((function(){j(!0),f.get("carrier/trace-profiles",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=e.data.current_page;if(Object.keys(a).length>0){var n=ne(a);p(t),i(n)}j(!1)})).catch((function(e){j(!1)}))}),[]),se=Object(n.useCallback)((function(){f.get("carrier/transport/ships",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}C(a)}))}),[]),ie=Object(fe.debounce)((function(e){return oe(e)}),500),oe=function(e){return f.post("carrier/search",{_text:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=ne(a);console.log(t),i(t),j(!1)}))},me=["Ref #","Name","Age","Gender","Email","Contact",{name:"Actions",options:{customBodyRender:function(e,a,t){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(ge.a,{title:"Profile Details",placement:"top"},r.a.createElement(he.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return h(e),void J()}},r.a.createElement(R.a,{icon:B.v}))),r.a.createElement(ge.a,{title:"Transport Details",placement:"top"},r.a.createElement(he.a,{color:"link",className:"p-1 m-0 btn text-primary",onClick:function(){return h(e),void Q()}},r.a.createElement(R.a,{icon:B.s}))))}}}],pe={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"420px",selectableRows:"none",print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=u&&(t=u+1,f.get("carrier/trace-profiles?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=ne(a);e.data.current_page>u&&(p(e.data.current_page),t=void 0!==n?[].concat(Object(ue.a)(c),Object(ue.a)(n)):c),i(t)})))},onSearchClose:function(){j(!1),ce()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(j(!0),ie(a))}},customSearch:function(e,a,t){return c.length>0}};return Object(n.useEffect)((function(){return ce(),se(),function(){}}),[ce,se]),r.a.createElement(de.Provider,{value:{passengerData:c,selectedProfile:g}},r.a.createElement(Ee.Provider,{value:{shipOptions:x,loadShips:se}},r.a.createElement(M.a,{fluid:"true",className:"mt-4 p-0 m-0"},r.a.createElement(F.a,{className:"m-0 p-0"},r.a.createElement(q.a,{onClick:function(){return P()},className:"mt-4 buttonSameWidth bg-success",variant:"contained",color:"primary"},r.a.createElement(R.a,{icon:B.i,className:"mr-1"}),"New Manifest"),r.a.createElement(q.a,{onClick:function(){return z()},className:"mt-4 ml-1 buttonSameWidth",variant:"contained",color:"primary"},r.a.createElement(R.a,{icon:B.x,className:"mr-1"}),"New Passenger"),r.a.createElement(q.a,{onClick:function(){return te()},className:"mt-4 ml-1 buttonSameWidth bg-warning text-primary",variant:"contained"},r.a.createElement(R.a,{icon:B.s,className:"mr-1"}),"New Ship")),r.a.createElement(F.a,null,r.a.createElement(je,{title:"Passengers",loadPassengers:ce,data:c,isLoading:N,columns:me,options:pe}))),r.a.createElement(Re,{isOpen:T,loadPassengers:ce,toggle:P}),H&&r.a.createElement(Ke,{isOpen:H,toggle:J,modalMargin:e.modalMargin}),K&&r.a.createElement(ea,{isOpen:K,toggle:Q,modalMargin:e.modalMargin}),A&&r.a.createElement(ta,{isOpen:A,toggle:z,modalMargin:e.modalMargin,loadPassengers:ce}),ee&&r.a.createElement(He,{isOpen:ee,toggle:te})))},ra=function(e){var a=(new ye.a).format(new Date,"Y");return r.a.createElement("div",null,r.a.createElement("footer",{className:"m-0 p-0 ml-1",style:{bottom:"0",left:"0",position:"fixed"}},r.a.createElement("small",null,"Copyright \xa9 ",a,". "),r.a.createElement("small",null,"All rights reserved")))},la=t(135),ca=function(e){var a=d().authTokens,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),g=b[0],N=b[1],y=Object(n.useState)(!1),x=Object(s.a)(y,2),C=x[0],_=x[1],w=Object(n.useState)(!1),T=Object(s.a)(w,2),k=T[0],P=T[1],D=Object(n.useState)(!1),W=Object(s.a)(D,2),A=W[0],q=W[1],M=Object(n.useState)("Invalid Input"),U=Object(s.a)(M,2),L=U[0],H=U[1],G=Object(n.useState)(!1),J=Object(s.a)(G,2),Y=J[0],V=J[1],K=Object(n.useState)(""),Z=Object(s.a)(K,2),Q=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1];return r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"5%",color:"#1a1751"}},r.a.createElement(xe.a,null,r.a.createElement(R.a,{icon:B.n})," Change Password ",r.a.createElement("br",null),r.a.createElement("small",{className:"text-danger"},r.a.createElement(R.a,{icon:B.m,className:"mr-1"}),"Note: Fields with * is a required field")),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var n=a.access_token;if(Y&&H("Minimum password length is 6"),k&&H("Password doesn't match"),k||Y)q(!0);else{q(!1),i(!0);var r={password:ae,new_password:Q};f.post("auth/carrier/update-password",r,{headers:{Authorization:"bearer "+n}}).then((function(a){i(!1),a.data.status?(le.a.fire("Transaction Completed!","Password Successfully Updated!","success"),e.toggle()):(H(a.data.message),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","Failed to Update Password!","error")}))}}(t)}},r.a.createElement(Ce.a,null,A&&r.a.createElement("div",{className:"text-left card p-1 bg-danger"},r.a.createElement("span",{className:"text-white ml-2"},r.a.createElement(R.a,{icon:B.u})," ",L)),r.a.createElement(F.a,{className:"p-2 pt-0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(F.a,null,r.a.createElement("div",{className:"col-md-12 p-1"},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"p-1 m-1"},r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(h.a,{name:"old_password",label:"Old Password",type:C?"text":"password",onChange:function(e){return te(e.target.value)},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return _(!C)}},C?r.a.createElement(j.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement("div",null,r.a.createElement(h.a,{type:u?"text":"password",name:"new_password",label:"New Password",onChange:function(e){return a=e.target.value,X(a),q(!1),void(a.replace(/\s+/g,"").length>=6?(V(!1),P(a!==Q)):V(!0));var a},error:Y,fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return p(!u)}},u?r.a.createElement(j.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(h.a,{error:k,type:g?"text":"password",name:"confirm_password",label:"Confirm Password",onChange:function(e){return a=e.target.value,q(!1),void P(a!==Q);var a},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return N(!g)}},g?r.a.createElement(j.a,null):r.a.createElement(S.a,null)))}}))))))),c&&r.a.createElement(z.a,{md:12},r.a.createElement(la.a,{className:"p-2 m-2 mt-3"},r.a.createElement(Le,{title:"Updating Password"}))))),r.a.createElement(Te.a,null,r.a.createElement(he.a,{type:"submit",color:"primary",disabled:c||A,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.r})," Save")," ",r.a.createElement(he.a,{color:"danger",onClick:e.toggle,disabled:c,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.z})," Close")))))},sa=t(759),ia=t(398),oa=t(76),ma=t(735),ua=t(739),da=t(766),pa=t(395),Ea=t(758),ba=t(434),fa=t.n(ba),ga=t(435),ha=t.n(ga),va=t(436),Oa=t.n(va),Na=t(440),ja=t.n(Na),ya=t(439),Sa=t.n(ya),xa=t(438),Ca=t.n(xa),_a=t(437),wa=t.n(_a),Ta=t(3),ka=(t(726),function(e){var a=d().authTokens.access_token,t=be().selectedShip,l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],o=c[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),v=g[0],O=g[1],N=Object(n.useState)(null),j=Object(s.a)(N,2),y=j[0],S=j[1],x=Object(n.useState)(null),C=Object(s.a)(x,2),_=C[0],w=C[1];return Object(n.useEffect)((function(){return E(t[0].id),O(t[0].name),S(t[0].routes),w(t[0].transportation_category_id),function(){}}),[t]),r.a.createElement("div",null,r.a.createElement(Se.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(xe.a,null,r.a.createElement(R.a,{icon:B.s})," Update Ship"),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),o(!0);var n=a,r={name:v,routes:y,transportation_category_id:_};f.put("carrier/transport/update/".concat(p),r,{headers:{Authorization:"bearer "+n}}).then((function(a){a.data.status?(o(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),e.loadShips&&e.loadShips(),e.toggle()):(o(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){o(!1),le.a.fire("Transaction Failed!","error")}))}(t)}},r.a.createElement(Ce.a,null,r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(_e.a,null,r.a.createElement(h.a,{className:"m-0",value:v||"",onChange:function(e){return O(e.target.value)},name:"shipName",label:"Ship Name",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",value:y||"",onChange:function(e){return S(e.target.value)},name:"voyageRoute",label:"Route",required:!0,fullWidth:!0}),r.a.createElement(Be,{transportType:_,setTransportType:w}))))),r.a.createElement("div",null,i&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(z.a,{className:"text-center"},r.a.createElement(Le,{title:"Updating Ship Record"}))))),r.a.createElement(Te.a,null,r.a.createElement(he.a,{type:"submit",color:"primary",disabled:i,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.r})," Save")," ",r.a.createElement(he.a,{color:"danger",onClick:e.toggle,disabled:i,style:{minWidth:"120px"}},r.a.createElement(R.a,{icon:B.z})," Cancel")))))}),Pa=function(e){var a=d().authTokens,t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)({}),m=Object(s.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)(),b=Object(s.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),N=O[0],j=O[1],y=Object(n.useState)([]),S=Object(s.a)(y,2),x=S[0],C=S[1],_=Object(n.useState)(!1),w=Object(s.a)(_,2),T=w[0],k=w[1],P=function(){return k(!T)},D=Object(n.useState)(!1),W=Object(s.a)(D,2),A=W[0],I=W[1],z=function(){return I(!A)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(fe.isArray)(e)?H(e):L(e)},L=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],l[1]);a[t]=[c.id,c.name,c.routes,[c]],t++}return a},H=function(e){if(e.length>0)return e.map((function(e,a){return[e.id,e.name,e.routes,[e]]}))},G=Object(n.useCallback)((function(){j(!0),f.get("carrier/transport",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=e.data.current_page;if(Object.keys(a).length>0){var n=U(a);h(t),i(n)}j(!1)})).catch((function(e){j(!1)}))}),[]),J=Object(n.useCallback)((function(){f.get("carrier/transport/category",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}C(a)}))}),[]),Y=Object(fe.debounce)((function(e){return V(e)}),500),V=function(e){return f.post("carrier/transport/search",{name:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=U(a);console.log(t),i(t),j(!1)}))},K=["ID","Name","Route",{name:"Actions",options:{customBodyRender:function(e,t,n){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(ge.a,{title:"Update Ship Details",placement:"top"},r.a.createElement(he.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return function(e){p(e),z()}(e)}},r.a.createElement(R.a,{icon:B.h}))),r.a.createElement(ge.a,{title:"Archive Ship",placement:"top"},r.a.createElement(he.a,{color:"link",className:"p-1 m-0 btn text-danger",onClick:function(){return t=e,void le.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.isConfirmed&&f.delete("carrier/transport/delete/".concat(t[0].id),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){e.data.status?(le.a.fire("Transaction Completed",e.data.message,"success"),G()):le.a.fire("Transaction Completed",e.data.message,"error")}))}));var t}},r.a.createElement(R.a,{icon:B.b}))))}}}],Z={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"420px",selectableRows:"none",print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=g&&(t=g+1,f.get("carrier/transport?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=U(a);e.data.current_page>g&&(h(e.data.current_page),t=void 0!==n?[].concat(Object(ue.a)(c),Object(ue.a)(n)):c),i(t)})))},onSearchClose:function(){j(!1),G()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(j(!0),Y(a))}},customSearch:function(e,a,t){return c.length>0}};return Object(n.useEffect)((function(){return G(),J(),function(){}}),[G,J]),r.a.createElement(Ee.Provider,{value:{shipsData:c,selectedShip:u,transportOptions:x}},r.a.createElement(M.a,{fluid:"true",className:"mt-4 p-0 m-0"},r.a.createElement(F.a,{className:"m-0 p-0"},r.a.createElement(q.a,{onClick:function(){return P()},className:"mt-4 ml-1 buttonSameWidth bg-warning text-primary",variant:"contained"},r.a.createElement(R.a,{icon:B.s,className:"mr-1"}),"New Ship")),r.a.createElement(F.a,null,r.a.createElement(je,{title:"Ships",loadShips:G,data:c,isLoading:N,columns:K,options:Z}))),T&&r.a.createElement(He,{isOpen:T,toggle:P,loadShips:G}),A&&r.a.createElement(ka,{isOpen:A,toggle:z,loadShips:G}))},Da=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#1a1751"},appBarShift:{width:"calc(100% - ".concat(220,"px)"),marginLeft:220,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:220,flexShrink:0},drawerPaper:{width:220,boxShadow:"1px 0px 10px #000"},drawerHeader:Object(ie.a)(Object(ie.a)({display:"flex",alignItems:"center"},e.mixins.toolbar),{},{backgroundColor:"#FFFFFF",color:"#FFFFFF",margin:"0px",padding:"0px"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},large:{width:e.spacing(10),height:e.spacing(10)},nested:{paddingLeft:e.spacing(4)}}}));function Wa(e){var a=d().authTokens,t=Da(),l=Object(n.useState)(!0),c=Object(s.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],b=p[1],f=Object(n.useState)("20%"),g=Object(s.a)(f,2),h=g[0],v=g[1],N=Object(n.useState)(!1),j=Object(s.a)(N,2),y=j[0],S=j[1],x=function(){return S(!y)},C=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";switch(a){case"/":e.history.push("/");break;case"ships":e.history.push("/ships")}};return r.a.createElement("div",{className:t.root},r.a.createElement(sa.a,{position:"fixed",className:Object(Ta.default)(t.appBar,Object(se.a)({},t.appBarShift,i))},r.a.createElement(ia.a,null,r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!i),v(i?"13%":"20%")},edge:"start",className:Object(Ta.default)(t.menuButton),style:{outline:"none"}},r.a.createElement(fa.a,null)),r.a.createElement(Fe.a,{variant:"h6",noWrap:!0},r.a.createElement("div",{className:"float-left"},r.a.createElement("img",{src:me.a,width:"33",height:"35",alt:"EMS Logo"})),r.a.createElement("div",{className:"float-left"},r.a.createElement("ul",{className:"p-0 m-0 mt-2 ml-1",style:{listStyle:"none",lineHeight:"0.9rem"}},r.a.createElement("li",{style:{fontSize:"1.5rem"}},"PEMS"),r.a.createElement("li",null,r.a.createElement("small",{style:{fontSize:"0.8rem"}},"Passenger e-Manifest System"))))))),r.a.createElement(oa.a,{className:t.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("div",{className:"container-fluid text-left mb-2",style:{color:"#1a1751",minHeight:"125px",height:"125px"}},r.a.createElement("div",{className:"text-center mt-4 pb-2 border-bottom"},r.a.createElement(ha.a,{style:{width:"45px",height:"50px"}}),r.a.createElement("ul",{className:"m-0 p-0 mt-2",style:{listStyle:"none",lineHeight:"1em"}},r.a.createElement("li",{className:"border p-1 bg-primary text-white"},r.a.createElement("strong",null,a.user.toUpperCase())),r.a.createElement("li",{className:"mt-2"},"Operator"))))),r.a.createElement(ma.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(ua.a,{className:"mt-4",button:!0,onClick:function(){return C("/")}},r.a.createElement(da.a,null,r.a.createElement(Oa.a,null)),r.a.createElement(pa.a,{primary:"Dashboard"})),r.a.createElement(ua.a,{button:!0,onClick:function(e){return function(e){e.preventDefault(),x()}(e)}},r.a.createElement(da.a,null,r.a.createElement(wa.a,null)),r.a.createElement(pa.a,{primary:"My Account"})),r.a.createElement(ua.a,{button:!0,onClick:function(){b(!E)}},r.a.createElement(da.a,null,r.a.createElement(R.a,{icon:B.g,size:"lg"})),r.a.createElement(pa.a,{primary:"Manage"}),E?r.a.createElement(Ca.a,null):r.a.createElement(Sa.a,null)),r.a.createElement(Ea.a,{in:E,timeout:"auto",unmountOnExit:!0},r.a.createElement(ma.a,{component:"div",disablePadding:!0},r.a.createElement(ua.a,{button:!0,onClick:function(){return C("ships")},className:t.nested},r.a.createElement(da.a,null,r.a.createElement(R.a,{icon:B.s})),r.a.createElement(pa.a,{primary:"Ships"})))),r.a.createElement(ua.a,{button:!0,onClick:function(){return sessionStorage.removeItem("pemtokens"),void window.location.reload()}},r.a.createElement(da.a,null,r.a.createElement(ja.a,null)),r.a.createElement(pa.a,{primary:"Logout"})),r.a.createElement(ra,null))),r.a.createElement("main",{className:Object(Ta.default)(t.content,Object(se.a)({},t.contentShift,i))},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(na,{modalMargin:h})),r.a.createElement(o.b,{exact:!0,path:"/ships"},r.a.createElement(Pa,{modalMargin:h}))),r.a.createElement(ca,{isOpen:y,toggle:x})))}var Aa=function(e){Object(X.a)(t,e);var a=Object($.a)(t);function t(){return Object(Z.a)(this,t),a.apply(this,arguments)}return Object(Q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container card",style:{marginTop:"10%"}},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement("h3",{className:"text-danger  p-1 m-4"},r.a.createElement("b",null,"Error 404: ")," Page Not Found"))))}}]),t}(n.Component),qa=function(e){var a=JSON.parse(sessionStorage.getItem("pemtokens")),t=Object(n.useState)(a),l=Object(s.a)(t,2),c=l[0],m=l[1];return r.a.createElement(u.Provider,{value:{authTokens:c,setAuthTokens:function(e){sessionStorage.setItem("pemtokens",JSON.stringify(e)),m(e)}}},r.a.createElement(i.a,{basename:"/marina/module/transport"},r.a.createElement(o.d,null,r.a.createElement(p,{exact:!0,path:"/",component:Wa}),r.a.createElement(p,{exact:!0,path:"/ships",component:Wa}),r.a.createElement(o.b,{exact:!0,path:"/login",component:ne}),r.a.createElement(o.b,{exact:!0,path:"/register",component:ce}),r.a.createElement(o.b,{component:Aa}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(qa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[455,1,2]]]);
//# sourceMappingURL=main.f82e57bb.chunk.js.map