(this.webpackJsonpustphims=this.webpackJsonpustphims||[]).push([[0],{151:function(e,a,t){e.exports=t.p+"static/media/logo.3d4d22a6.png"},333:function(e,a,t){e.exports=t.p+"static/media/dto.1f15fbb3.png"},344:function(e,a,t){e.exports=t.p+"static/media/manifest-template.93bdb522.xlsx"},363:function(e,a,t){e.exports=t(432)},369:function(e,a,t){},374:function(e,a,t){},393:function(e,a,t){},432:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(19),c=t.n(r),m=(t(368),t(369),t(8)),s=t(149),o=t(31),i=t(349),u=Object(n.createContext)();function d(){return Object(n.useContext)(u)}var p=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=d();return l.a.createElement(o.b,Object.assign({},t,{render:function(e){return function(e){return null!==e.authTokens&&!(e.authTokens.expires_in>Date.now())}(n)?l.a.createElement(a,e):l.a.createElement(o.a,{to:"/login"})}}))},E=(t(374),t(60)),f=t.n(E),b=t(287),h=t(288),v=t(338),g=t.n(v),y=t(334),N=t.n(y),O=t(335),j=t.n(O),x=t(336),S=t.n(x),C=t(337),w=t.n(C),T=t(289),_=t(455),q=t(456),k=t(457),D=t(458),P=t(460),W=t(462),A=t(17),M=t(18),I=t(151),z=t.n(I),F=t(333),R=t.n(F),V=t(152),L=t(153),U=t(176),B=t(175),H=function(e){Object(U.a)(t,e);var a=Object(B.a)(t);function t(){return Object(V.a)(this,t),a.apply(this,arguments)}return Object(L.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("span",{className:"text-danger text-center p-1"},this.props.children))}}]),t}(n.Component),Y=t(487),J=Object(b.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(2.3),height:e.spacing(2.3),float:"left",marginLeft:"7px",marginTop:"3px"},large:{width:e.spacing(7),height:e.spacing(7)}}})),G=function(e){var a=J(),t=Object(n.useState)(!1),r=Object(m.a)(t,2),c=r[0],s=r[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),p=u[0],E=u[1],b=Object(n.useState)("Oops! sorry something went wrong..."),v=Object(m.a)(b,2),y=v[0],O=v[1],x=d(),C=x.authTokens,I=x.setAuthTokens;if(null!==C&&C.expires_in<Date.now())return l.a.createElement(o.a,{to:"/"});return l.a.createElement(_.a,{style:{width:"900px",marginTop:"5%"}},l.a.createElement(q.a,{className:"bg-primary p-0 m-0",style:{borderRadius:"0px",border:"none"}},l.a.createElement(k.a,{className:"p-0 m-0"},l.a.createElement(D.a,{xs:6,className:"text-center text-white p-2"},l.a.createElement("img",{className:"mt-2",src:z.a,width:"90",height:"110",alt:"Marina Logo"}),l.a.createElement("a",{href:"https://marina.gov.ph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},l.a.createElement("h3",{className:"mt-4"},"Maritime Industry Authority")),l.a.createElement("div",{className:"text-center pl-5 pr-5 ml-0"},"Follow us on: ",l.a.createElement("br",null),l.a.createElement("a",{href:"https://www.facebook.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white mr-1",style:{textDecoration:"none"}},l.a.createElement(N.a,{className:a.large})),l.a.createElement("a",{href:"https://twitter.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},l.a.createElement(j.a,{className:a.large})),l.a.createElement("a",{href:"https://www.instagram.com/dotrmarinaph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},l.a.createElement(S.a,{className:a.large})),l.a.createElement("a",{href:"https://www.youtube.com/channel/UCK9SPcPFhiWLBUXAzlQqsxg",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},l.a.createElement(w.a,{className:a.large}))),l.a.createElement("div",{style:{fontSize:"0.9rem",marginTop:"20%",marginLeft:"10%"}},l.a.createElement("span",{className:"float-left"},"Powered By: "),l.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/ustpdigitaltransformation",rel:"noopener noreferrer",className:"text-white",style:{textDecoration:"none"}},l.a.createElement(Y.a,{src:R.a,className:a.small}),l.a.createElement("span",{className:"float-left ml-1"},"USTP - Digital Transformation Office")))),l.a.createElement(D.a,{xs:6,className:"p-0 m-0"},l.a.createElement(q.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},l.a.createElement(D.a,{xs:12,className:"mt-4 text-center"},l.a.createElement(g.a,{color:p?"secondary":"primary",style:{fontSize:"150px"}}),l.a.createElement("h4",{className:"mt-3 ml-4 mr-4 text-primary",style:{fontWeight:"bold"}},"Passenger eTracer System"),l.a.createElement("h5",null,"Transport Module")),l.a.createElement(D.a,{xs:12},l.a.createElement(P.a,{onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector("input[name=username]").value,t=document.querySelector("input[name=password]").value;""!==a&&""!==t?(s(!0),f.a.post("https://passengertracer.net/apis/api/v1/auth/carrier/login",{username:a,password:t}).then((function(e){s(!1),200===e.status?!1===e.data.status?(O(e.data.error),E(!0)):I(e.data):254===e.status?(O(e.data.message),E(!0)):E(!0)})).catch((function(e){s(!1),E(!0)}))):(O("Please enter a username and password"),E(!0))}(e)}},l.a.createElement(D.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},p&&l.a.createElement(H,null,y)),l.a.createElement(D.a,{xs:12,className:"pl-4 pr-4 mb-2"},l.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),l.a.createElement(D.a,{xs:12,className:"pl-4 pr-4 mb-2"},l.a.createElement(h.a,{type:"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0})),l.a.createElement(D.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},l.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:c,fullWidth:!0},c?l.a.createElement("div",{className:"text-center mt-1"},l.a.createElement(W.a,{style:{width:"1.5rem",height:"1.5rem"},color:"light"})):l.a.createElement("div",{className:"pt-1"},l.a.createElement("span",null,"LOGIN"),l.a.createElement(A.a,{className:"pl-1",icon:M.k})))))))))))},Z=t(469),K=t(470),Q=t(471),X=t(484),$=t(485),ee=t(486),ae=t(472),te=t(38),ne=t.n(te),le=(t(393),t(483)),re=t(463),ce=t(464),me=t(466),se=t(468),oe=t(341),ie=t(465),ue=t(181),de=t.n(ue),pe=t(182),Ee=t.n(pe),fe=Object(n.createContext)();function be(){return Object(n.useContext)(fe)}var he=t(467),ve=t(209),ge=function(e){var a=d().authTokens,t=be().getUrl("auth/carrier/update-password"),r=Object(n.useState)(!1),c=Object(m.a)(r,2),s=c[0],o=c[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),p=u[0],E=u[1],b=Object(n.useState)(!1),v=Object(m.a)(b,2),g=v[0],y=v[1],N=Object(n.useState)(!1),O=Object(m.a)(N,2),j=O[0],x=O[1],S=Object(n.useState)(!1),C=Object(m.a)(S,2),w=C[0],T=C[1],_=Object(n.useState)(!1),D=Object(m.a)(_,2),P=D[0],W=D[1],I=Object(n.useState)(""),z=Object(m.a)(I,2),F=z[0],R=z[1],V=Object(n.useState)(""),L=Object(m.a)(V,2),U=L[0],B=L[1];return l.a.createElement("div",null,l.a.createElement(le.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md"},l.a.createElement(re.a,null,l.a.createElement(A.a,{icon:M.o})," Change Password"),l.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault();var l=a.access_token;if(!w&&!P){o(!0);var r={password:U,new_password:F};f.a.post(t,r,{headers:{Authorization:"bearer "+l}}).then((function(a){o(!1),a.data.status?(ne.a.fire("Transaction Completed!","Password Successfully Updated!","success"),e.toggle()):ne.a.fire("Transaction Failed!",a.data.message,"error")})).catch((function(e){o(!1),ne.a.fire("Transaction Failed!","Failed to Update Password!","error")}))}}(n)}},l.a.createElement(ce.a,null,s?l.a.createElement("div",{className:"text-center text-primary",style:{width:"97%",height:"100%",zIndex:"1000",position:"absolute"}},l.a.createElement(ie.a,{style:{marginTop:"-1%"}}),l.a.createElement("p",null,"Saving New Record...")):null,l.a.createElement(k.a,{className:"p-2 pt-0"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"col-md-12 p-1"},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"p-1 m-1"},l.a.createElement("div",null,l.a.createElement(h.a,{type:p?"text":"password",name:"new_password",label:"New Password",onChange:function(e){R(e.target.value),e.target.value.length<6?W(!0):W(!1)},error:P,helperText:"New PASSWORD should be atleast 6 characters",fullWidth:!0,required:!0,InputProps:{endAdornment:l.a.createElement(he.a,{position:"end"},l.a.createElement(ve.a,{onClick:function(){return E(!p)}},p?l.a.createElement(de.a,null):l.a.createElement(Ee.a,null)))}})),l.a.createElement("div",{className:"mt-1 mb-1"},l.a.createElement(h.a,{error:w,type:g?"text":"password",name:"confirm_password",label:"Confirm Password",onChange:function(e){return a=e.target.value,void T(a!==F);var a},helperText:"Input should match your new PASSWORD",fullWidth:!0,required:!0,InputProps:{endAdornment:l.a.createElement(he.a,{position:"end"},l.a.createElement(ve.a,{onClick:function(){return y(!g)}},g?l.a.createElement(de.a,null):l.a.createElement(Ee.a,null)))}})),l.a.createElement("div",{className:"mt-1 mb-1"},l.a.createElement(h.a,{name:"old_password",label:"Old Password",type:j?"text":"password",onChange:function(e){return B(e.target.value)},helperText:"Your current PASSWORD",fullWidth:!0,required:!0,InputProps:{endAdornment:l.a.createElement(he.a,{position:"end"},l.a.createElement(ve.a,{onClick:function(){return x(!j)}},j?l.a.createElement(de.a,null):l.a.createElement(Ee.a,null)))}}))))))))),l.a.createElement(se.a,null,l.a.createElement(oe.a,{type:"submit",color:"primary",disabled:s,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.i})," Save")," ",l.a.createElement(oe.a,{color:"danger",onClick:e.toggle,disabled:s,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.s})," Close")))))},ye=function(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),r=t[0],c=t[1],s=function(){return c(!r)};return l.a.createElement("div",null,l.a.createElement(Z.a,{className:"p-1 m-0 bg-primary text-white",dark:!0,expand:"md"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(K.a,{className:"ml-5"},l.a.createElement("div",null,l.a.createElement("img",{className:"float-left mr-1 mt-1",src:z.a,width:"22",height:"25",alt:"Logo"}),l.a.createElement("div",{className:"float-left mt-0"},l.a.createElement("b",{className:"mt-1"},"Passenger eTracer System",l.a.createElement("span",{style:{fontWeight:"normal",marginLeft:"5px",fontSize:"18px"}},"|")),l.a.createElement("span",{className:"ml-1 mt-1",style:{color:"#f9bd05",fontWeight:"bold",fontSize:"18px"}},e.pageTitle)))),l.a.createElement(Q.a,{navbar:!0},l.a.createElement(X.a,{nav:!0,inNavbar:!0},l.a.createElement($.a,{nav:!0},l.a.createElement("span",{className:"text-white mr-1"},e.user.carrier_name||e.user),l.a.createElement(A.a,{icon:M.m})),l.a.createElement(ee.a,{right:!0,className:"m-0 p-0 mt-1"},l.a.createElement(ae.a,{className:"p-0 m-0"},l.a.createElement("a",{href:"/",onClick:function(e){return function(e){e.preventDefault(),s()}(e)},className:"text-primary nav-link"},l.a.createElement(A.a,{className:"mr-1",icon:M.p}),l.a.createElement("span",null,"Change"))),l.a.createElement(ae.a,{className:"p-0 m-0",divider:!0}),l.a.createElement(ae.a,{className:"p-0 m-0"},l.a.createElement("a",{href:"/",onClick:function(e){return function(e){e.preventDefault(),ne.a.fire({title:"Are you sure?",text:"You want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.value&&(localStorage.removeItem("tokens"),window.location.reload())}))}(e)},className:"text-primary nav-link"},l.a.createElement(A.a,{className:"mr-1",icon:M.l}),l.a.createElement("span",null,"Logout")))))))),l.a.createElement("div",null,l.a.createElement(ge,{isOpen:r,toggle:s})))},Ne=t(51),Oe=t(480),je=t(304),xe=t(473),Se=t(36),Ce=t(481),we=function(e){var a=d().authTokens.access_token,t=be().getUrl("store/import/profiles"),r=Object(n.useState)(!1),c=Object(m.a)(r,2),s=c[0],o=c[1],i=Object(n.useState)(null),u=Object(m.a)(i,2),p=u[0],E=u[1],b=Object(n.useState)(null),v=Object(m.a)(b,2),g=v[0],y=v[1],N=Object(n.useState)(null),O=Object(m.a)(N,2),j=O[0],x=O[1],S=Object(n.useState)(""),C=Object(m.a)(S,2),w=C[0],T=C[1],_=Object(n.useState)(""),D=Object(m.a)(_,2),P=D[0],W=D[1],I=Object(n.useState)(""),z=Object(m.a)(I,2),F=z[0],R=z[1],V=Object(n.useState)(""),L=Object(m.a)(V,2),U=L[0],B=L[1],H=new Ne.a;return l.a.createElement("div",null,l.a.createElement(le.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-lg"},l.a.createElement(re.a,null,"Multiple Profiles Import"),l.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),o(!0);var l=a,r=new FormData;r.append("profileFile",p),r.append("departure",H.format(g,"Y-M-dd H:m:s")),r.append("arrival",H.format(j,"Y-M-dd H:m:s")),r.append("transport_no",w),r.append("ship_name",P),r.append("transport_type",F),r.append("route",U),f.a.post(t,r,{headers:{Authorization:"bearer "+l,"Content-Type":"multipart/form-data"}}).then((function(a){a.data.status?(o(!1),E(null),y(null),x(null),T(""),R(""),B(""),ne.a.fire("Transaction Completed!","Data Successfully Imported!","success"),e.toggle(),e.loadProfiles()):(o(!1),ne.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){o(!1),ne.a.fire("Transaction Failed!","Failed to Import Data!","error")}))}(n)},encType:"multipart/form-data",id:"excelFile"},l.a.createElement(ce.a,null,s?l.a.createElement("div",{className:"text-center text-primary",style:{width:"100%",height:"100%",zIndex:"1001",position:"fixed",top:"0",left:"0"}},l.a.createElement("div",{style:{backgroundColor:"#fff",opacity:"0.2",width:"100%",height:"100%",zIndex:"1000",position:"fixed",top:"0",left:"0"}}),l.a.createElement(xe.a,{style:{marginTop:"20%",zIndex:"1500"}}),l.a.createElement("h4",null,"Submitting multiple records...")):null,l.a.createElement(k.a,{className:"p-2"},l.a.createElement("div",{className:"col-md-6 p-2"},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.b})," Travel Dates"),l.a.createElement(q.a,{className:"p-2"},l.a.createElement(me.a,{className:"p-2 mt-5"},l.a.createElement("div",{className:"m-0"},l.a.createElement(Se.a,{utils:Ne.a},l.a.createElement(Ce.a,{value:g,onChange:y,label:"ETD(Est. Time of Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0}))),l.a.createElement("div",{className:"mt-2 mb-5"},l.a.createElement(Se.a,{utils:Ne.a},l.a.createElement(Ce.a,{value:j,onChange:x,label:"ETA(Est. Time of Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})))))),l.a.createElement("div",{className:"col-md-6 p-2"},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.a})," Transport Details"),l.a.createElement(q.a,{className:"p-2"},l.a.createElement(me.a,{className:"p-1 m-1"},l.a.createElement("div",null,l.a.createElement(h.a,{value:w,onChange:function(e){return T(e.target.value)},label:"Voyage Number",fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{value:P,onChange:function(e){return W(e.target.value)},label:"Ship Name",fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{label:"Voyage Route",value:U,onChange:function(e){return B(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",{className:"mb-2"},l.a.createElement(h.a,{select:!0,label:"Select Transport Type",value:F,onChange:function(e){return R(e.target.value)},fullWidth:!0,required:!0},[{value:"2",label:"Ship"}].map((function(e){return l.a.createElement(je.a,{key:e.value,value:e.value},e.label)}))))))),l.a.createElement("div",{className:"col-md-12 pt-2"},l.a.createElement("h5",{className:"text-success"},l.a.createElement(A.a,{icon:M.d})," Excel File",l.a.createElement("span",{className:"text-danger ml-1",style:{fontSize:"15px"}},"Note: Use the provided template")),l.a.createElement(q.a,null,l.a.createElement(me.a,{className:"p-1 m-0"},l.a.createElement("div",{className:"m-0"},l.a.createElement(Oe.a,{accept:".xlsx,.xls",id:"raised-button-file",type:"file",onChange:function(e){return E(e.target.files[0])},disabled:s,required:!0}))))))),l.a.createElement(se.a,null,l.a.createElement(oe.a,{type:"submit",color:"primary",disabled:s,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.e})," Import")," ",l.a.createElement(oe.a,{color:"danger",onClick:e.toggle,disabled:s,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.s})," Cancel")))))},Te=function(e){var a=Object(n.useState)(e.personType||""),t=Object(m.a)(a,2),r=t[0],c=t[1];return l.a.createElement("div",null,l.a.createElement(h.a,{select:!0,label:"Select Person Type",name:"personType",value:r,onChange:function(e){return c(e.target.value)},fullWidth:!0,required:!0},[{value:"LSI",label:"Locally Stranded Individual (LSI)"},{value:"ROF",label:"Returning Overseas Filipinos (ROF)"}].map((function(e){return l.a.createElement(je.a,{key:e.value,value:e.value},e.label)}))))},_e=function(e){var a=Object(n.useState)(e.gender||""),t=Object(m.a)(a,2),r=t[0],c=t[1];return l.a.createElement("div",null,l.a.createElement(h.a,{select:!0,label:"Select Gender",name:"gender",value:r,onChange:function(e){return c(e.target.value)},fullWidth:!0,required:!0},[{value:"M",label:"Male"},{value:"F",label:"Female"}].map((function(e){return l.a.createElement(je.a,{key:e.value,value:e.value},e.label)}))))},qe=function(e){return l.a.createElement("div",null,l.a.createElement(Se.a,{utils:Ne.a},l.a.createElement(Ce.a,{value:e.departureDate,onChange:e.setDepartureDateChange,name:"departureDate",label:"ETD (Est. Time Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})))},ke=function(e){return l.a.createElement("div",null,l.a.createElement(Se.a,{utils:Ne.a},l.a.createElement(Ce.a,{value:e.arrivalDate,onChange:e.setArrivalDateChange,label:"ETA (Est. Time Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})))},De=function(e){var a=Object(n.useState)(e.transportType||""),t=Object(m.a)(a,2),r=t[0],c=t[1];return l.a.createElement("div",null,l.a.createElement(h.a,{select:!0,label:"Select Transport Type",name:"transportType",value:r,onChange:function(e){return c(e.target.value)},fullWidth:!0,required:!0},[{value:"2",label:"Ship"}].map((function(e){return l.a.createElement(je.a,{key:e.value,value:e.value},e.label)}))))},Pe=function(e){var a=Object(n.useState)(e.accommodationType||""),t=Object(m.a)(a,2),r=t[0],c=t[1];return l.a.createElement("div",null,l.a.createElement(h.a,{select:!0,label:"Select Accommodation type",name:"accommodationType",value:r,onChange:function(e){return c(e.target.value)},fullWidth:!0,required:!0},[{value:"1st",label:"1st Class"},{value:"2nd",label:"2nd Class"},{value:"3rd",label:"3rd Class"}].map((function(e){return l.a.createElement(je.a,{key:e.value,value:e.value},e.label)}))))},We=function(e){var a=d().authTokens.access_token,t=be().getUrl("carrier/add-profile"),r=new Ne.a,c=Object(n.useState)(!1),s=Object(m.a)(c,2),o=s[0],i=s[1],u=Object(n.useState)(""),p=Object(m.a)(u,2),E=p[0],b=p[1],v=Object(n.useState)(""),g=Object(m.a)(v,2),y=g[0],N=g[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),x=j[0],S=j[1],C=Object(n.useState)(""),w=Object(m.a)(C,2),T=w[0],_=w[1],P=Object(n.useState)(""),W=Object(m.a)(P,2),I=W[0],z=W[1],F=Object(n.useState)(""),R=Object(m.a)(F,2),V=R[0],L=R[1],U=Object(n.useState)(""),B=Object(m.a)(U,2),H=B[0],Y=B[1],J=Object(n.useState)(""),G=Object(m.a)(J,2),Z=G[0],K=G[1],Q=Object(n.useState)(""),X=Object(m.a)(Q,2),$=X[0],ee=X[1],ae=Object(n.useState)(""),te=Object(m.a)(ae,2),ie=te[0],ue=te[1],de=Object(n.useState)(""),pe=Object(m.a)(de,2),Ee=pe[0],fe=pe[1],ve=Object(n.useState)(""),ge=Object(m.a)(ve,2),ye=ge[0],Oe=ge[1],je=Object(n.useState)(null),Se=Object(m.a)(je,2),Ce=Se[0],we=Se[1],We=Object(n.useState)(null),Ae=Object(m.a)(We,2),Me=Ae[0],Ie=Ae[1],ze=Object(n.useState)(""),Fe=Object(m.a)(ze,2),Re=Fe[0],Ve=Fe[1],Le=Object(n.useState)(""),Ue=Object(m.a)(Le,2),Be=Ue[0],He=Ue[1],Ye=Object(n.useState)(""),Je=Object(m.a)(Ye,2),Ge=Je[0],Ze=Je[1],Ke=Object(n.useState)(""),Qe=Object(m.a)(Ke,2),Xe=Qe[0],$e=Qe[1],ea=Object(n.useState)(""),aa=Object(m.a)(ea,2),ta=aa[0],na=aa[1],la=Object(n.useState)(""),ra=Object(m.a)(la,2),ca=ra[0],ma=ra[1],sa=Object(n.useState)(""),oa=Object(m.a)(sa,2),ia=oa[0],ua=oa[1],da=Object(n.useState)(""),pa=Object(m.a)(da,2),Ea=pa[0],fa=pa[1];return l.a.createElement("div",null,l.a.createElement(le.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl"},l.a.createElement(re.a,null,"New Profile Record ",l.a.createElement("br",null),l.a.createElement("small",{className:"text-danger p-0 m-0",style:{right:"0"}},"Note: Fields with * requires a value")),l.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),i(!0);var l=a,c={person_type:document.querySelector("input[name=personType]").value,first_name:E,last_name:y,age:x,gender:document.querySelector("input[name=gender]").value,temperature:V,mobile:T,email:I,zipcode:H,specific_address:Z,origin:$,destination:ie,previous_travel:Ee,departure:r.format(new Date(Ce),"Y-M-dd H:m:s"),arrival:r.format(new Date(Me),"Y-M-dd H:m:s"),accomodation_type:document.querySelector("input[name=accomodationType]").value,transport_no:Ge,route:Xe,transport_type:document.querySelector("input[name=transportType]").value,seat_no:Re,parking_space_no:Be,ship_name:ye,companion:ca,relative_name:ia,relative_contact:Ea};f.a.post(t,c,{headers:{Authorization:"bearer "+l}}).then((function(a){i(!1),a.data.status?(document.querySelector("input").value="",we(null),Ie(null),ne.a.fire("Transaction Completed!","Data Successfully Added!","success"),e.toggle(),e.loadProfiles()):ne.a.fire("Transaction Failed!",a.data.message,"error")})).catch((function(e){i(!1),ne.a.fire("Transaction Failed!","Failed to Add New Profile!","error")}))}(n)}},l.a.createElement(ce.a,{className:"pt-0"},o?l.a.createElement("div",{className:"text-center text-primary",style:{width:"100%",height:"100%",zIndex:"1001",position:"fixed",top:"0",left:"0"}},l.a.createElement("div",{style:{backgroundColor:"#fff",opacity:"0.2",width:"100%",height:"100%",zIndex:"1000",position:"fixed",top:"0",left:"0"}}),l.a.createElement(xe.a,{style:{marginTop:"20%",zIndex:"1500"}}),l.a.createElement("h4",null,"Submitting a new record...")):null,l.a.createElement(k.a,{className:"p-2"},l.a.createElement(D.a,{xs:12},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12,className:"text-left mt-0"},l.a.createElement(q.a,{className:"p-0",style:{border:"none"}},l.a.createElement(me.a,{className:"m-0  p-0 pl-2 pr-2"},l.a.createElement("div",{className:"pt-2 pb-2"},l.a.createElement(h.a,{className:"mr-2",onChange:function(e){return Oe(e.target.value)},InputProps:{startAdornment:l.a.createElement(he.a,{position:"start"},l.a.createElement(A.a,{icon:M.j}))},name:"shipName",label:"Ship Name",required:!0}),l.a.createElement(h.a,{className:"mr-2",onChange:function(e){return Ze(e.target.value)},InputProps:{startAdornment:l.a.createElement(he.a,{position:"start"},l.a.createElement(A.a,{icon:M.a}))},name:"transportNumber",label:"Voyage Number",required:!0}),l.a.createElement(h.a,{className:"mr-2",onChange:function(e){return Ve(e.target.value)},InputProps:{startAdornment:l.a.createElement(he.a,{position:"start"},l.a.createElement(A.a,{icon:M.n}))},name:"seat_number",label:"Seat/Bunk Number",required:!0}))))))),l.a.createElement(D.a,{xs:12,className:"mt-3"},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:4},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.o})," Personal Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",null,l.a.createElement(Te,null)),l.a.createElement("div",null,l.a.createElement(h.a,{name:"first_name",label:"First Name",onChange:function(e){return b(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{name:"last_name",label:"Last Name",onChange:function(e){return N(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{type:"number",name:"age",label:"Age",onChange:function(e){return S(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(_e,null)),l.a.createElement("div",{className:"mb-4"},l.a.createElement(h.a,{type:"number",name:"bodyTemperature",label:"Body Temperature",onChange:function(e){return L(e.target.value)},fullWidth:!0,required:!0}))))))),l.a.createElement(D.a,{xs:4,className:"p-0"},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.h})," Contact Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",null,l.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",onChange:function(e){return _(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{type:"email",label:"Email Address",onChange:function(e){return z(e.target.value)},fullWidth:!0})))))),l.a.createElement("h5",{className:"text-primary mt-1"},l.a.createElement(A.a,{icon:M.f})," Address"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",{className:"mt-4"},l.a.createElement(h.a,{name:"zipcode",label:"Zipcode",onChange:function(e){return Y(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",{className:"mb-4"},l.a.createElement(h.a,{label:"Complete Address",name:"complete_address",onChange:function(e){return K(e.target.value)},fullWidth:!0,required:!0}))))))),l.a.createElement(D.a,{xs:4},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.r})," Companion Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",{className:"mt-2 mb-2"},l.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return ma(e.target.value)},fullWidth:!0})))))),l.a.createElement("h5",{className:"text-primary mt-1"},l.a.createElement(A.a,{icon:M.g})," Nearest Relative"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",{className:"mt-4"},l.a.createElement(h.a,{label:"Name",name:"relativeName",onChange:function(e){return ua(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",{className:"mb-4"},l.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",onChange:function(e){return fa(e.target.value)},fullWidth:!0,required:!0}))))))))),l.a.createElement(D.a,{xs:12,className:"pt-2"},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:8},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.j})," Travel Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12,className:"pr-0"},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:6},l.a.createElement("div",null,l.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",onChange:function(e){return ee(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",onChange:function(e){return ue(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",onChange:function(e){return fe(e.target.value)},fullWidth:!0,required:!0}))),l.a.createElement(D.a,{xs:6},l.a.createElement("div",null,l.a.createElement(qe,{departureDate:Ce,setDepartureDateChange:we})),l.a.createElement("div",null,l.a.createElement(ke,{arrivalDate:Me,setArrivalDateChange:Ie})),l.a.createElement("div",null,l.a.createElement(Pe,null))))))))),l.a.createElement(D.a,{xs:4},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.a})," Other Transport Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",null,l.a.createElement(h.a,{name:"transportRoute",label:"Voyage Route",onChange:function(e){return $e(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(De,{transportType:ta,setTransportType:na})),l.a.createElement("div",null,l.a.createElement(h.a,{type:"number",name:"parking_space_no",label:"Parking Space Number",helperText:"( if with service vehicle )",onChange:function(e){return He(e.target.value)},fullWidth:!0}))))))))))),l.a.createElement(se.a,null,l.a.createElement(oe.a,{type:"submit",color:"primary",disabled:o,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.i})," Save")," ",l.a.createElement(oe.a,{color:"danger",onClick:e.toggle,disabled:o,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.s})," Close")))))},Ae=t(344),Me=t.n(Ae),Ie=function(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),r=t[0],c=t[1],s=function(){return c(!r)},o=Object(n.useState)(!1),i=Object(m.a)(o,2),u=i[0],d=i[1],p=function(){return d(!u)};return l.a.createElement("div",{className:"col-md-4 p-0"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(q.a,{className:"mb-1",color:"light",style:{borderRadius:"0px"}},l.a.createElement(me.a,{className:"p-1"},l.a.createElement("div",{className:"row pr-3 pl-3"},l.a.createElement("div",{className:"col-md-4 p-1 m-0"},l.a.createElement("a",{href:Me.a,download:"template.xlsx"},l.a.createElement(T.a,{variant:"contained",color:"primary",fullWidth:!0},l.a.createElement("span",{style:{fontSize:"0.9rem"}},l.a.createElement(A.a,{icon:M.c})," Download")))),l.a.createElement("div",{className:"col-md-4 p-1 m-0"},l.a.createElement(T.a,{onClick:s,variant:"contained",color:"primary",fullWidth:!0},l.a.createElement("span",{style:{fontSize:"0.9rem"}},l.a.createElement(A.a,{icon:M.r})," Import"))),l.a.createElement("div",{className:"col-md-4 p-1 m-0"},l.a.createElement(T.a,{onClick:p,variant:"contained",color:"primary",fullWidth:!0},l.a.createElement("span",{style:{fontSize:"0.9rem"}},l.a.createElement(A.a,{icon:M.q})," Passenger"))))))),l.a.createElement("div",null,l.a.createElement(we,{loadProfiles:e.loadProfiles,isOpen:r,toggle:s}),l.a.createElement(We,{loadProfiles:e.loadProfiles,isOpen:u,toggle:p})))},ze=t(345),Fe=t.n(ze),Re=function(e){return l.a.createElement("div",{className:"col-md-12 p-0 m-0"},e.isLoading&&l.a.createElement(xe.a,{style:{marginLeft:"48%",marginTop:"18%",position:"absolute",zIndex:"1000"}}),l.a.createElement(k.a,null,l.a.createElement("div",{className:"col-md-12 ml-3 mr-3"},l.a.createElement(q.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},l.a.createElement(me.a,null,l.a.createElement(Fe.a,{title:"Passengers List",data:e.data,columns:e.columns,options:e.options}))))))},Ve=function(e){return l.a.createElement("div",null,l.a.createElement("footer",{className:"col-md-12 mt-1 text-primary"},"Powered by: ",l.a.createElement("a",{rel:"noopener noreferrer",className:"text-primary btn",target:"_blank",href:"https://www.facebook.com/ustpdigitaltransformation"},"USTP Digital Transformation Office")))},Le=t(348),Ue=t.n(Le),Be=t(311),He=function(e){var a=d().authTokens.access_token,t=be(),r=new Ne.a,c=Object(n.useState)(!1),s=Object(m.a)(c,2),o=s[0],i=s[1],u=Object(n.useState)(null),p=Object(m.a)(u,2),E=p[0],b=p[1],v=Object(n.useState)(""),g=Object(m.a)(v,2),y=g[0],N=g[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),x=j[0],S=j[1],C=Object(n.useState)(""),w=Object(m.a)(C,2),T=w[0],_=w[1],P=Object(n.useState)(""),W=Object(m.a)(P,2),I=W[0],z=W[1],F=Object(n.useState)(""),R=Object(m.a)(F,2),V=R[0],L=R[1],U=Object(n.useState)(""),B=Object(m.a)(U,2),H=B[0],Y=B[1],J=Object(n.useState)(""),G=Object(m.a)(J,2),Z=G[0],K=G[1],Q=Object(n.useState)(""),X=Object(m.a)(Q,2),$=X[0],ee=X[1],ae=Object(n.useState)(""),te=Object(m.a)(ae,2),ie=te[0],ue=te[1],de=Object(n.useState)(""),pe=Object(m.a)(de,2),Ee=pe[0],fe=pe[1],ve=Object(n.useState)(""),ge=Object(m.a)(ve,2),ye=ge[0],Oe=ge[1],je=Object(n.useState)(""),Se=Object(m.a)(je,2),Ce=Se[0],we=Se[1],We=Object(n.useState)(""),Ae=Object(m.a)(We,2),Me=Ae[0],Ie=Ae[1],ze=Object(n.useState)(""),Fe=Object(m.a)(ze,2),Re=Fe[0],Ve=Fe[1],Le=Object(n.useState)(""),Ue=Object(m.a)(Le,2),Be=Ue[0],He=Ue[1],Ye=Object(n.useState)(null),Je=Object(m.a)(Ye,2),Ge=Je[0],Ze=Je[1],Ke=Object(n.useState)(null),Qe=Object(m.a)(Ke,2),Xe=Qe[0],$e=Qe[1],ea=Object(n.useState)(""),aa=Object(m.a)(ea,2),ta=aa[0],na=aa[1],la=Object(n.useState)(""),ra=Object(m.a)(la,2),ca=ra[0],ma=ra[1],sa=Object(n.useState)(""),oa=Object(m.a)(sa,2),ia=oa[0],ua=oa[1],da=Object(n.useState)(""),pa=Object(m.a)(da,2),Ea=pa[0],fa=pa[1],ba=Object(n.useState)(""),ha=Object(m.a)(ba,2),va=ha[0],ga=ha[1],ya=Object(n.useState)(""),Na=Object(m.a)(ya,2),Oa=Na[0],ja=Na[1],xa=Object(n.useState)(""),Sa=Object(m.a)(xa,2),Ca=Sa[0],wa=Sa[1],Ta=Object(n.useState)(""),_a=Object(m.a)(Ta,2),qa=_a[0],ka=_a[1],Da=Object(n.useState)(""),Pa=Object(m.a)(Da,2),Wa=Pa[0],Aa=Pa[1];Object(n.useEffect)((function(){if(null!=e.selectedProfile){var a=e.selectedProfile.profile,t=e.selectedProfile.profile.address,n=e.selectedProfile.profile.trace_logs[0],l=e.selectedProfile,c=JSON.parse(l.vehicle_details),m=e.selectedProfile.companions[0],s=a.relatives[0];b(a.id),S(a.first_name),_(a.last_name),z(a.age),L(a.gender.toUpperCase()),N(a.person_type),Y(a.mobile),K(a.email),ee(e.selectedProfile.temperature),ue(t.zipcode),fe(t.specific_address),Oe(n.origin),we(n.destination),Ze(r.format(new Date(l.fromDate),"MMM/d/yyyy h:mm:ss a")),$e(r.format(new Date(l.toDate),"MMM/d/yyyy h:mm:ss a")),Ie(e.selectedProfile.previous_place_travel),Ve(c.transport_vehicle),ua(c.transport_no),fa(l.mode_of_travel_id),na(l.seat_no),ma(e.selectedProfile.parking_space_no),ga(e.selectedProfile.accommodation_type),He(e.selectedProfile.route),ja(m.travel_id),wa(m.name),ka(s.name),Aa(s.contact)}}),[e.selectedProfile,r]);return l.a.createElement("div",null,l.a.createElement(le.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl"},l.a.createElement(re.a,null,"Update Profile Record ",l.a.createElement("br",null),l.a.createElement("small",{className:"text-danger p-0 m-0",style:{right:"0"}},"Note: Fields with * requires a value")),l.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault();var l=t.getUrl("carrier/update/".concat(E));i(!0);var c=a,m={person_type:document.querySelector("input[name=personType]").value,first_name:document.querySelector("input[name=first_name]").value,last_name:document.querySelector("input[name=last_name]").value,age:document.querySelector("input[name=age]").value,gender:document.querySelector("input[name=gender]").value,mobile:document.querySelector("input[name=mobile]").value,email:document.querySelector("input[name=email]").value,temperature:document.querySelector("input[name=bodyTemperature]").value,zipcode:document.querySelector("input[name=zipcode]").value,specific_address:document.querySelector("input[name=complete_address]").value,origin:document.querySelector("input[name=origin]").value,destination:document.querySelector("input[name=destination]").value,previous_travel:document.querySelector("input[name=travelHistory]").value,departure:r.format(new Date(Ge),"Y-M-dd H:m:s"),arrival:r.format(new Date(Xe),"Y-M-dd H:m:s"),accommodation_type:document.querySelector("input[name=accommodationType]").value,ship_name:document.querySelector("input[name=shipName]").value,transport_no:document.querySelector("input[name=transportNumber]").value,route:document.querySelector("input[name=voyageRoute]").value,transport_type:document.querySelector("input[name=transportType]").value,seat_no:document.querySelector("input[name=seat_number]").value,parking_space_no:document.querySelector("input[name=parking_space_no]").value,travel_id:Oa,companion_name:document.querySelector("input[name=childCompanion]").value,relative_name:document.querySelector("input[name=relativeName]").value,relative_contact:document.querySelector("input[name=relativeContact]").value};f.a.put(l,m,{headers:{Authorization:"bearer "+c}}).then((function(a){i(!1),a.data.status?(ne.a.fire("Transaction Completed!","Data Successfully Updated!","success"),e.toggle(),e.loadProfiles()):ne.a.fire("Transaction Failed!",a.data.message,"error")})).catch((function(e){i(!1),ne.a.fire("Transaction Failed!","Failed to Import Data!","error")}))}(n)}},l.a.createElement(ce.a,{className:"pt-0"},o?l.a.createElement("div",{className:"text-center text-primary",style:{width:"100%",height:"100%",zIndex:"1001",position:"fixed",top:"0",left:"0"}},l.a.createElement("div",{style:{backgroundColor:"#fff",opacity:"0.2",width:"100%",height:"100%",zIndex:"1000",position:"fixed",top:"0",left:"0"}}),l.a.createElement(xe.a,{style:{marginTop:"20%",zIndex:"1500"}}),l.a.createElement("h4",null,"Submitting updates...")):null,l.a.createElement(k.a,{className:"p-2"},l.a.createElement(D.a,{xs:12},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12,className:"text-left mt-0"},l.a.createElement(q.a,{className:"p-0",style:{border:"none"}},l.a.createElement(me.a,{className:"m-0  p-0 pl-2 pr-2"},l.a.createElement("div",{className:"pt-2 pb-2"},l.a.createElement(h.a,{className:"mr-2",onChange:function(e){return Ve(e.target.value)},defaultValue:Re,InputProps:{startAdornment:l.a.createElement(he.a,{position:"start"},l.a.createElement(A.a,{icon:M.j}))},name:"shipName",label:"Ship Name",required:!0}),l.a.createElement(h.a,{className:"mr-2",onChange:function(e){return ua(e.target.value)},defaultValue:ia,InputProps:{startAdornment:l.a.createElement(he.a,{position:"start"},l.a.createElement(A.a,{icon:M.a}))},name:"transportNumber",label:"Voyage Number",required:!0}),l.a.createElement(h.a,{className:"mr-2",defaultValue:ta,onChange:function(e){return na(e.target.value)},InputProps:{startAdornment:l.a.createElement(he.a,{position:"start"},l.a.createElement(A.a,{icon:M.n}))},name:"seat_number",label:"Seat/Bunk Number",required:!0}))))))),l.a.createElement(D.a,{xs:12,className:"mt-3"},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:4},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.o})," Personal Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",null,l.a.createElement(Te,{personType:y})),l.a.createElement("div",null,l.a.createElement(h.a,{name:"first_name",label:"First Name",defaultValue:x,onChange:function(e){return S(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{name:"last_name",label:"Last Name",defaultValue:T,onChange:function(e){return _(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{type:"number",name:"age",label:"Age",defaultValue:I,onChange:function(e){return z(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(_e,{gender:V})),l.a.createElement("div",{className:"mb-4"},l.a.createElement(h.a,{type:"number",name:"bodyTemperature",label:"Body Temperature",defaultValue:$,onChange:function(e){return ee(e.target.value)},fullWidth:!0,required:!0}))))))),l.a.createElement(D.a,{xs:4,className:"p-0"},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.h})," Contact Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",null,l.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",defaultValue:H,onChange:function(e){return Y(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",defaultValue:Z,onChange:function(e){return K(e.target.value)},fullWidth:!0})))))),l.a.createElement("h5",{className:"text-primary mt-1"},l.a.createElement(A.a,{icon:M.f})," Address"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",{className:"mt-4"},l.a.createElement(h.a,{name:"zipcode",label:"Zipcode",defaultValue:ie,onChange:function(e){return ue(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",{className:"mb-4"},l.a.createElement(h.a,{label:"Complete Address",name:"complete_address",defaultValue:Ee,onChange:function(e){return fe(e.target.value)},fullWidth:!0,required:!0}))))))),l.a.createElement(D.a,{xs:4},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.r})," Companion Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",{className:"mt-2 mb-2"},l.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",defaultValue:Ca,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return wa(e.target.value)},fullWidth:!0})))))),l.a.createElement("h5",{className:"text-primary mt-1"},l.a.createElement(A.a,{icon:M.g})," Nearest Relative"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",{className:"mt-4"},l.a.createElement(h.a,{label:"Name",name:"relativeName",defaultValue:qa,onChange:function(e){return ka(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",{className:"mb-4"},l.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",defaultValue:Wa,onChange:function(e){return Aa(e.target.value)},fullWidth:!0,required:!0}))))))))),l.a.createElement(D.a,{xs:12,className:"pt-2"},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:8},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.j})," Travel Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12,className:"pr-0"},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:6},l.a.createElement("div",null,l.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",defaultValue:ye,onChange:function(e){return Oe(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",defaultValue:Ce,onChange:function(e){return we(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",defaultValue:Me,onChange:function(e){return Ie(e.target.value)},fullWidth:!0,required:!0}))),l.a.createElement(D.a,{xs:6},l.a.createElement("div",null,l.a.createElement(qe,{departureDate:Ge,setDepartureDateChange:Ze})),l.a.createElement("div",null,l.a.createElement(ke,{arrivalDate:Xe,setArrivalDateChange:$e})),l.a.createElement("div",null,l.a.createElement(Pe,{accommodationType:va}))))))))),l.a.createElement(D.a,{xs:4},l.a.createElement("h5",{className:"text-primary"},l.a.createElement(A.a,{icon:M.a})," Other Transport Details"),l.a.createElement(k.a,null,l.a.createElement(D.a,{xs:12},l.a.createElement(q.a,{className:"p-1"},l.a.createElement(me.a,{className:"pt-1"},l.a.createElement("div",null,l.a.createElement(h.a,{name:"voyageRoute",label:"Voyage Route",defaultValue:Be,onChange:function(e){return He(e.target.value)},fullWidth:!0,required:!0})),l.a.createElement("div",null,l.a.createElement(De,{transportType:Ea,setTransportType:fa})),l.a.createElement("div",null,l.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",defaultValue:ca,helperText:"( if with service vehicle )",onChange:function(e){return ma(e.target.value)},fullWidth:!0}))))))))))),l.a.createElement(se.a,null,l.a.createElement(oe.a,{type:"submit",color:"primary",disabled:o,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.i})," Save")," ",l.a.createElement(oe.a,{color:"danger",onClick:e.toggle,disabled:o,style:{minWidth:"120px"}},l.a.createElement(A.a,{icon:M.s})," Close")))))},Ye=function(e){var a=d().authTokens,t=be().getUrl("carrier/trace-profiles"),r=new Ne.a,c=Object(n.useState)(),s=Object(m.a)(c,2),o=s[0],i=s[1],u=Object(n.useState)(!1),p=Object(m.a)(u,2),E=p[0],b=p[1],h=Object(n.useState)(!1),v=Object(m.a)(h,2),g=v[0],y=v[1],N=Object(n.useState)(),O=Object(m.a)(N,2),j=O[0],x=O[1],S=function(){return y(!g)},C=["Ref #","Name","Age","Gender","Type","Address","Contact","Embarkation","Disembarkation","ETD","ETA",{name:"Actions",options:{customBodyRender:function(e,a,t){return l.a.createElement("div",null,l.a.createElement(Be.a,{title:"Edit Profile",placement:"top"},l.a.createElement(T.a,{size:"medium",onClick:function(){return w(e)},color:"primary",variant:"text"},l.a.createElement(Ue.a,{style:{fontSize:"18"}}))))}}}],w=function(e){S(),x(e)},_=Object(n.useCallback)((function(){b(!0),f.a.get(t,{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a;null!==e&&!1!==e.data.status&&(a=e.data.map((function(e){var a=e.profile,t=(r.format(new Date(a.created_at),"MMMM d,yyyy h:m a"),"".concat(a.address.specific_address,", ").concat(a.address.zipcode));return[e.id,"".concat(a.first_name," ").concat(a.last_name),a.age,"m"===a.gender.toLowerCase()?"Male":"Female",a.person_type,null===t?"N/A":t,null===a.mobile?"N/A":a.mobile,null===e.fromLocation?"N/A":e.fromLocation.toUpperCase(),null===e.toLocation?"N/A":e.toLocation.toUpperCase(),r.format(new Date(e.fromDate),"MMM d, yyyy"),r.format(new Date(e.toDate),"MMM d, yyyy"),e]}))),b(!1),i(a)})).catch((function(e){b(!1)}))}),[]);return Object(n.useEffect)((function(){_()}),[_]),l.a.createElement("div",{className:"container mt-4",style:{minWidth:"1450px"}},l.a.createElement("div",{className:"row"},l.a.createElement(Ie,{loadProfiles:_}),l.a.createElement(Re,{loadProfiles:_,data:o,isLoading:E,columns:C,options:{fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"350px",selectableRows:"none"}}),l.a.createElement(Ve,null)),l.a.createElement(He,{loadProfiles:_,isOpen:g,toggle:S,selectedProfile:j}))},Je=function(e){var a=d().authTokens;return l.a.createElement(fe.Provider,{value:{getUrl:function(e){return"".concat("https","://").concat("passengertracer.net","/").concat("apis/api/v1","/").concat(e)}}},l.a.createElement("div",{className:"dashboard"},l.a.createElement(ye,{pageTitle:"Transport Module",user:a.user}),l.a.createElement(Ye,null)))},Ge=function(e){Object(U.a)(t,e);var a=Object(B.a)(t);function t(){return Object(V.a)(this,t),a.apply(this,arguments)}return Object(L.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container card",style:{marginTop:"10%"}},l.a.createElement("div",{className:"row h-100"},l.a.createElement("div",{className:"col-sm-12 text-center"},l.a.createElement("h3",{className:"text-danger  p-1 m-4"},l.a.createElement("b",null,"Error 404: ")," Page Not Found"))))}}]),t}(n.Component),Ze=function(e){var a=JSON.parse(localStorage.getItem("tokens")),t=Object(n.useState)(a),r=Object(m.a)(t,2),c=r[0],i=r[1];return l.a.createElement(u.Provider,{value:{authTokens:c,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),i(e)}}},l.a.createElement(s.a,{basename:"/marina/module/transport"},l.a.createElement(o.d,null,l.a.createElement(p,{exact:!0,path:"/",component:Je}),l.a.createElement(o.b,{exact:!0,path:"/login",component:G}),l.a.createElement(o.b,{component:Ge}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[363,1,2]]]);
//# sourceMappingURL=main.fbfbda7e.chunk.js.map