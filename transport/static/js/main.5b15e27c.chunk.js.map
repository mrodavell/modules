{"version":3,"sources":["assets/logo.jpg","assets/marina.png","assets/template/Template.xlsx","assets/dto.png","assets/icon.png","context/auth.js","PrivateRoute.js","utils/Api.js","components/UI/Error/Error.js","components/Login/Login.js","components/Register/Register.js","context/theme.js","components/UI/Common/LinearProgressBarWithLabel.js","components/UI/Modals/ChangePassword.js","context/profile.js","components/UI/Modals/ChangeProfile.js","context/options.js","components/UI/Forms/Fields/ShipNameSelect.js","components/UI/Modals/Report.js","context/ship.js","components/UI/Datatable/Datatable.js","components/UI/Common/OptionMenuShipsButton.js","components/UI/Forms/Fields/TransportType.js","components/UI/Modals/NewShip.js","components/UI/Modals/UpdateShip.js","components/Dashboard/Ships/Ships.js","components/UI/Forms/Fields/DepartureDate.js","components/UI/Forms/Fields/ArrivalDate.js","components/UI/Modals/NewPassengerManifests.js","components/UI/Forms/Fields/GenderSelect.js","components/UI/Forms/ProfileDetailsForm.js","components/UI/Modals/PassengerProfile.js","components/UI/Forms/Fields/AccommodationType.js","components/UI/Forms/TransportDetailsForm.js","components/UI/Modals/TransportDetails.js","components/UI/Forms/Fields/ScheduleSelect.js","components/UI/Forms/PassengerForm.js","components/UI/Modals/NewPassenger.js","components/UI/Common/OptionMenuButton.js","components/Dashboard/Passengers/Passengers.js","context/schedules.js","components/UI/Common/OptionMenuSchedulesButton.js","components/UI/Modals/NewSchedule.js","components/UI/Modals/UpdateSchedule.js","components/Dashboard/Schedules/Schedules.js","components/UI/Tabs/DashboardTab.js","components/Dashboard/Dashboard.js","utils/utils_options.js","components/UI/Error/Error404.js","containers/App.js","serviceWorker.js","index.js"],"names":["module","exports","AuthContext","createContext","useAuth","useContext","PrivateRoute","Component","component","rest","authData","render","props","authTokens","expires_in","Date","now","isAuthenticated","to","Axios","create","baseURL","Error","className","this","children","useStyles","makeStyles","theme","root","display","margin","spacing","small","width","height","float","marginLeft","marginTop","large","Login","classes","useState","isProcessing","setProcessing","isError","setIsError","errorMessage","setErrorMessage","setAuthTokens","isShowPass","setIsShowPass","Container","style","href","rel","fontSize","Card","borderRadius","border","opacity","Row","Col","xs","src","MARINA","alt","target","textDecoration","Avatar","DTO","Logo","Form","onSubmit","e","preventDefault","username","document","querySelector","value","password","API","post","then","result","status","data","error","message","catch","loginHandler","autoComplete","TextField","name","placeholder","label","fullWidth","required","type","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","minHeight","Spinner","color","Button","variant","disabled","icon","faSignInAlt","faUserPlus","Register","isShowRePass","setIsShowRePass","faAnchor","size","offset","company","mobile","email","address","repassword","postData","carrier_name","carrier_contact","carrier_address","carrier_email","Swal","fire","history","push","RegisterHandler","faCheck","ThemeContext","useTheme","LinearProgressBar","Box","alignItems","mr","LinearProgress","minWidth","Typography","Math","round","LinearProgressBarWithLabel","progress","setProgress","useEffect","timer","setInterval","prevProgress","floor","random","clearInterval","title","ChangePasswordModal","authToken","setIsProcessing","isShowNewPass","setIsShowNewPass","isShowConfirmPass","setIsShowConfirmPass","isShowOldPass","setIsShowOldPass","isConfirmError","setIsConfirmError","isValidateError","setIsValidateError","isValidateMessage","setIsValidateMessage","isMinimum","setIsMinimum","newPassword","setNewPassword","oldPassword","setOldPassword","Modal","backdrop","isOpen","toggle","ModalHeader","faKey","token","access_token","newPassData","headers","changePasswordHandler","ModalBody","faTimesCircle","CardBody","onChange","replace","length","md","Paper","ModalFooter","faSave","faWindowClose","ProfileContext","useProfile","ChangeProfile","profile_context","isEdit","setIsEdit","isDisabled","setIsDisabled","carrierID","setCarrierID","carrierName","setCarriername","carrierContact","setCarrierContact","carrierAddress","setCarrierAddress","carrierEmail","setCarrierEmail","carrier","profileDetails","id","faUserEdit","contact","Authorization","setUsername","getProfileDetails","updateProfileHandler","FormControlLabel","control","Switch","checked","OptionsContext","useOptions","ShipNameSelect","shipOptions","ship","setShip","handleShipSelection","setShipName","getShipDetails","getShipSchedules","setShipSelected","select","shipName","map","option","MenuItem","key","Report","dateFns","DateFnsUtils","isDaily","setIsDaily","isMonthly","setIsMonthly","isCustomRange","setIsCustomRange","startDate","setStartDate","endDate","setEndDate","daily","setDaily","monthly","setMonthly","isStartDateSelected","setIsStartDateSelected","reportType","setReportType","isDownload","setIsDownload","voyageNumber","setVoyageNumber","isIncludeVoyage","setIsIncludeVoyage","toggleReportType","reportTypeOptions","getRecords","start","end","dates","transport","voyage","parseData","row","records","child","relatives","relativeContact","profile","companions","c","first_name","last_name","accommodation_type","gender","toUpperCase","age","specific_address","zipcode","fromLocation","toLocation","temperature","seat_no","parking_space_no","previous_place_travel","generateExcel","fetch","FileTemplate","res","arrayBuffer","ab","wb","XLSX","read","ws","Sheets","SheetNames","utils","sheet_add_aoa","origin","writeFile","format","faFileExcel","startOfMonth","endOfMonth","Object","keys","parsedRecords","generateReportHandler","d","v","clearable","hideTabs","showTodayButton","views","openTo","setStartDateChangeHandler","setEndDateChangeHandler","minDate","addDays","faDownload","ShipContext","useShip","DataTable","isLoading","CircularProgress","zIndex","columns","options","StyledMenu","withStyles","paper","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","OptionMenuSchedulesButton","anchorEl","setAnchorEl","handleClose","aria-controls","aria-haspopup","event","currentTarget","faCog","keepMounted","open","Boolean","onClose","menu","handleMenu","ListItemIcon","ListItemText","primary","TransportType","transportOptions","transportType","setTransportType","NewShip","ship_context","modalMarginLG","capacity","setCapacity","voyageRoute","setVoyageRoute","routes","transportation_category_id","loadShips","saveNewRecordHandler","faInfoCircle","inputProps","min","UpdateShip","selectedShip","transportID","setTransportID","faShip","put","targetIndex","shipsData","Ships","setShipData","setSelectedShip","currentPage","setCurrentPage","setIsLoading","newShip","setNewShip","toggleNewShip","updateShip","setUpdateShip","toggleUpdateShip","formatData","isArray","formatArrayData","formatObjectData","index","entries","useCallback","cancelToken","get","current_page","ships","debounceSearchHandler","debounce","queryData","searchShips","query","customBodyRender","tableMeta","updateValue","Tooltip","placement","handleUpdateShip","faEdit","shipData","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","splice","archiveHandler","faArchive","fixHeader","filterType","responsive","tableBodyHeight","selectableRows","filter","viewColumns","print","download","rowsPerPage","rowsPerPageOptions","onChangePage","p","page","newShipData","undefined","onSearchClose","searchProps","onKeyUp","queryString","customSearch","col","Provider","fluid","DepartureDate","departureDate","setDepartureDate","dateSelected","setDepartureDateChange","pickedDate","disablePast","helperText","ArrivalDate","arrivalDate","setArrivalDateChange","departure","isSelectedDeparture","NewPassengerManifests","setIsSelectedDeparture","excelFile","setExcelFile","setDeparture","arrival","setArrival","transportNumber","setTransportNumber","importFileHandler","d1","date","d2","isBefore","isEqual","validate","formData","FormData","append","parseInt","loadPassengers","lineHeight","encType","faCalendarDay","shipId","faFileDownload","Input","accept","files","faFileImport","GenderSelect","setGender","ProfileDetailsForm","selectedProfile","theProfile","setTheProfile","firstName","setFirstName","lastName","setLastName","setAge","bodyTemperature","setBodyTemperature","setEmail","mobileNumber","setMobileNumber","relativeName","setRelativeName","setRelativeContact","setZipcode","specificAddress","setSpecificAddress","childCompanion","setChildCompanion","checkJSON","JSON","parse","str","faUser","max","step","faPhoneAlt","faMapMarkedAlt","faUsers","faPeopleArrows","transport_details","vehicle_details","temp","barangay","person_type","destination","fromDate","toDate","transport_type","mode_of_travel_id","transport_no","ship_name","transport_vehicle","travel_id","accomodation_type","previous_travel","route","companion_name","relative_name","relative_contact","profile_id","PassengerProfile","modalMarginXL","faUserCog","AccommodationType","accommodationType","setAccommodationType","TransportDetailsForm","setOrigin","setDestination","travelHistory","setTravelHistory","seatNumber","setSeatNumber","parkingNumber","setParkingNumber","childName","TransportDetails","fname","setFname","lname","setLname","ScheduleSelect","selectedSchedule","setSelectedSchedule","handleScheduleSelection","scheduleOptions","PassengerForm","isSelectedShip","setIsSelectedShip","steps","setSteps","shipSchedules","setShipSchedules","setScheduleOptions","goto","saveProfileHandler","scheduleList","hidden","scheduleid","filtered","faArrowCircleRight","faArrowCircleLeft","NewPassenger","OptionMenuButton","menuOption","toggleNewManifestModal","toggleNewPassengerModal","Passengers","passengerData","setPassengerData","setSelectedProfile","newManifestModal","setNewManifestModal","newPassenger","setNewPassenger","passengerProfile","setPassengerProfile","togglePassengerProfileModal","transportDetails","setTransportDetails","toggleTransportDetails","person","rawData","passengers","console","log","searchProfile","_text","newPassengerProfiles","ScheduleContext","useSchedule","NewSchedule","schedule_context","setVoyage","setFromLocation","setToLocation","transportation_id","loadSchedules","UpdateSchedule","scheduleId","Schedules","scheduleData","setScheduleData","setShipOptions","newScheduleModal","setNewScheduleModal","toggleNewScheduleModal","updateScheduleModal","setUpdateScheduleModal","toggleUpdateScheduleModal","statusButton","schedule","isActive","handleUpdateStatus","schedules","s","tempShipArr","searchSchedules","raw","formattedData","newSchedulesToAppend","DashboardTab","activeTab","setActiveTab","handleTabChange","Nav","tabs","NavItem","NavLink","TabContent","TabPane","tabId","appBar","transition","transitions","easing","sharp","duration","leavingScreen","backgroundColor","appBarShift","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","boxShadow","drawerHeader","mixins","toolbar","padding","content","flexGrow","contentShift","nested","paddingLeft","Dashboard","auth_context","user","drawerStatus","setDrawerStatus","userName","setProfileDetails","isManageCollapse","setIsManageCollapse","isReportCollapse","setIsReportCollapse","setModalMarginXL","setModalMarginLG","setTransportOptions","changePasswordModal","setVisiblechangePasswordModal","toggleChangePasswordModal","changeProfileModal","setChangeProfileModal","toggleChangeProfileModal","passengerManifestReportModal","setPassengerManifestReportModal","togglePassengerManifestReport","getShipsOptions","getTransportOptions","loadTransportTypes","category","tempCategory","AppBar","clsx","Toolbar","aria-label","edge","outline","noWrap","Icon","listStyle","Drawer","anchor","List","flexDirection","ListItem","button","stringPath","handleNavigation","faPrint","Collapse","in","timeout","unmountOnExit","disablePadding","opt","reportHandler","sessionStorage","removeItem","window","location","reload","exact","path","ChangePassword","Error404","App","existingTokens","getItem","setItem","stringify","basename","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5b15e27c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.dc773f1f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/marina.3d4d22a6.png\";","module.exports = __webpack_public_path__ + \"static/media/Template.93bdb522.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/dto.1f15fbb3.png\";","module.exports = __webpack_public_path__ + \"static/media/icon.c0920caa.png\";","import { createContext, useContext } from 'react' \r\n\r\nexport const AuthContext = createContext() \r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext) \r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from \"./context/auth\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n    const authData = useAuth();\r\n    \r\n    const isAuthenticated = (authData) =>{\r\n        if(authData.authTokens === null){\r\n            return false;\r\n        }\r\n\r\n        if (authData.authTokens.expires_in > Date.now()) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <Route {...rest} render= { \r\n            (props) => isAuthenticated(authData) ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect to=\"/login\" />\r\n            )\r\n        }\r\n        />\r\n    );\r\n}\r\n\r\nexport default PrivateRoute;","import Axios from 'axios';\r\n\r\nexport default Axios.create({\r\n    baseURL: \"https://passengertracer.net/apis/api/v1/\"\r\n    // baseURL: \"http://covid19tracker-api.test/api/v1\"\r\n})","import React, { Component } from 'react'\r\n\r\nexport default class Error extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <span className=\"text-danger text-center p-1\">{this.props.children}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport API from \"../../utils/Api\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport YouTubeIcon from \"@material-ui/icons/YouTube\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { Container, Row, Col, Card, Form, Spinner } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignInAlt, faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"../Login/login.css\";\r\nimport Logo from \"../../assets/logo.jpg\";\r\nimport MARINA from \"../../assets/marina.png\";\r\nimport DTO from \"../../assets/dto.png\";\r\nimport Error from \"../UI/Error/Error\";\r\nimport { Avatar } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(2.3),\r\n    height: theme.spacing(2.3),\r\n    float: \"left\",\r\n    marginLeft: \"7px\",\r\n    marginTop: \"3px\",\r\n  },\r\n  large: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n}));\r\n\r\nconst Login = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const [isProcessing, setProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\r\n    \"Oops! sorry something went wrong...\"\r\n  );\r\n  const { authTokens, setAuthTokens } = useAuth();\r\n  const [isShowPass, setIsShowPass] = useState(false);\r\n\r\n  const toggleShowPassword = () => setIsShowPass(!isShowPass);\r\n\r\n  const isAuthenticatedHandler = () => {\r\n    const token = authTokens;\r\n\r\n    if (token === null) {\r\n      return false;\r\n    } else {\r\n      if (token.expires_in < Date.now()) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  if (isAuthenticatedHandler()) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const loginHandler = (e) => {\r\n    e.preventDefault();\r\n    const username = document.querySelector(\"input[name=username]\").value;\r\n    const password = document.querySelector(\"input[name=password]\").value;\r\n\r\n    if (username !== \"\" && password !== \"\") {\r\n      setProcessing(true);\r\n      API.post(\"auth/carrier/login\", {\r\n        username,\r\n        password,\r\n      })\r\n        .then((result) => {\r\n          setProcessing(false);\r\n          if (result.status === 200) {\r\n            if (result.data.status === false) {\r\n              setErrorMessage(result.data.error);\r\n              setIsError(true);\r\n            } else {\r\n              setAuthTokens(result.data);\r\n            }\r\n          } else if (result.status === 254) {\r\n            setErrorMessage(result.data.message);\r\n            setIsError(true);\r\n          } else {\r\n            setIsError(true);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          setProcessing(false);\r\n          setIsError(true);\r\n        });\r\n    } else {\r\n      setErrorMessage(\"Please enter a username and password\");\r\n      setIsError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container style={{ width: \"959px\", marginTop: \"5%\" }}>\r\n      <a\r\n        href=\"https://passengertracer.net/\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"btn m-0 p-0 mb-1 text-white\"\r\n      >\r\n        <ArrowBackIosIcon style={{ fontSize: \"0.9em\" }} /> Go Back to Portal\r\n      </a>\r\n      <Card\r\n        className=\"bg-primary p-0 m-0\"\r\n        style={{ borderRadius: \"0px\", border: \"none\", opacity: \"0.9\" }}\r\n      >\r\n        <Row className=\"p-0 m-0\">\r\n          <Col xs={6} className=\"text-center text-white p-2\">\r\n            <img\r\n              className=\"mt-5\"\r\n              src={MARINA}\r\n              width=\"90\"\r\n              height=\"110\"\r\n              alt=\"Marina Logo\"\r\n            />\r\n            <a\r\n              href=\"https://marina.gov.ph/\"\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blanks\"\r\n              className=\"text-white ml-1 mr-1\"\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              <h3 className=\"mt-4\">Maritime Industry Authority</h3>\r\n            </a>\r\n            <div className=\"text-center pl-5 pr-5 ml-0\">\r\n              Follow us on: <br />\r\n              <a\r\n                href=\"https://www.facebook.com/DOTrMARINAPH\"\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blanks\"\r\n                className=\"text-white mr-1\"\r\n                style={{ textDecoration: \"none\" }}\r\n              >\r\n                <FacebookIcon className={classes.large} />\r\n              </a>\r\n              <a\r\n                href=\"https://twitter.com/DOTrMARINAPH\"\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blanks\"\r\n                className=\"text-white ml-1 mr-1\"\r\n                style={{ textDecoration: \"none\" }}\r\n              >\r\n                <TwitterIcon className={classes.large} />\r\n              </a>\r\n              <a\r\n                href=\"https://www.instagram.com/dotrmarinaph/\"\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blanks\"\r\n                className=\"text-white ml-1 mr-1\"\r\n                style={{ textDecoration: \"none\" }}\r\n              >\r\n                <InstagramIcon className={classes.large} />\r\n              </a>\r\n              <a\r\n                href=\"https://www.youtube.com/channel/UCK9SPcPFhiWLBUXAzlQqsxg\"\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blanks\"\r\n                className=\"text-white ml-1 mr-1\"\r\n                style={{ textDecoration: \"none\" }}\r\n              >\r\n                <YouTubeIcon className={classes.large} />\r\n              </a>\r\n            </div>\r\n            <div\r\n              style={{\r\n                fontSize: \"0.9rem\",\r\n                marginTop: \"25%\",\r\n                marginLeft: \"10%\",\r\n              }}\r\n            >\r\n              <span className=\"float-left\">Powered By: </span>\r\n              <a\r\n                target=\"_blank\"\r\n                href=\"https://www.facebook.com/ustpdigitaltransformation\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-white\"\r\n                style={{ textDecoration: \"none\" }}\r\n              >\r\n                <Avatar src={DTO} className={classes.small} />\r\n                <span className=\"float-left ml-1\">\r\n                  USTP - Digital Transformation Office\r\n                </span>\r\n              </a>\r\n            </div>\r\n          </Col>\r\n          <Col xs={6} className=\"p-0 m-0\">\r\n            <Card className=\"p-0 m-0\" style={{ borderRadius: \"0px\" }}>\r\n              <Col xs={12} className=\"mt-4 text-center\">\r\n                <img\r\n                  className=\"mt-2\"\r\n                  src={Logo}\r\n                  style={{ width: \"8rem\", height: \"10rem\" }}\r\n                  alt=\"Passenger eTracer Logo\"\r\n                />\r\n                <h5>Transport Module</h5>\r\n              </Col>\r\n              <Col xs={12}>\r\n                <Form onSubmit={(e) => loginHandler(e)} autoComplete=\"off\">\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2 text-center\">\r\n                    {isError && <Error>{errorMessage}</Error>}\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      name=\"username\"\r\n                      placeholder=\"Username\"\r\n                      label=\"Username\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      type={isShowPass ? \"text\" : \"password\"}\r\n                      name=\"password\"\r\n                      placeholder=\"Password\"\r\n                      label=\"Password\"\r\n                      fullWidth\r\n                      required\r\n                      InputProps={{\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton onClick={toggleShowPassword}>\r\n                              {isShowPass ? <Visibility /> : <VisibilityOff />}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mt-3 mb-4\">\r\n                    {isProcessing ? (\r\n                      <div\r\n                        className=\"text-center mt-1\"\r\n                        style={{ minHeight: \"100px\" }}\r\n                      >\r\n                        <Spinner\r\n                          className=\"mt-4\"\r\n                          style={{ width: \"2rem\", height: \"2rem\" }}\r\n                          color=\"primary\"\r\n                        />\r\n                        <br />\r\n                        <span className=\"mt-1\">Processing...</span>\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <Button\r\n                          type=\"submit\"\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          className=\"pt-1\"\r\n                          disabled={isProcessing}\r\n                          fullWidth\r\n                        >\r\n                          <span>LOGIN</span>\r\n                          <FontAwesomeIcon\r\n                            className=\"pl-1\"\r\n                            icon={faSignInAlt}\r\n                          />\r\n                        </Button>\r\n                        <div className=\"text-center m-0 p-0 mt-2\">\r\n                          <span>or</span>\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                          <a\r\n                            href=\"register\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className=\"pt-1 btn\"\r\n                            disabled={isProcessing}\r\n                          >\r\n                            <FontAwesomeIcon\r\n                              className=\"pr-1\"\r\n                              icon={faUserPlus}\r\n                            />\r\n                            <span>REGISTER HERE</span>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </Col>\r\n                </Form>\r\n              </Col>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Container, Row, Col, Card, Form, Spinner } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAnchor,\r\n  faCheck,\r\n  faSignInAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"../Register/register.css\";\r\nimport Logo from \"../../assets/logo.jpg\";\r\nimport MARINA from \"../../assets/marina.png\";\r\nimport Error from \"../UI/Error/Error\";\r\nimport API from \"../../utils/Api\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst Register = (props) => {\r\n  const [isProcessing, setProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\r\n    \"Oops! sorry something went wrong...\"\r\n  );\r\n  const authTokens = useAuth().authTokens;\r\n  const [isShowPass, setIsShowPass] = useState(false);\r\n  const toggleShowPassword = () => setIsShowPass(!isShowPass);\r\n  const [isShowRePass, setIsShowRePass] = useState(false);\r\n  const toggleShowRePassword = () => setIsShowRePass(!isShowRePass);\r\n\r\n  const isAuthenticatedHandler = () => {\r\n    const token = authTokens;\r\n\r\n    if (token === null) {\r\n      return false;\r\n    } else {\r\n      if (token.expires_in < Date.now()) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  if (isAuthenticatedHandler()) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const RegisterHandler = (e) => {\r\n    e.preventDefault();\r\n    const company = document.querySelector(\"input[name=company]\").value;\r\n    const mobile = document.querySelector(\"input[name=mobile]\").value;\r\n    const email = document.querySelector(\"input[name=email]\").value;\r\n    const address = document.querySelector(\"input[name=address]\").value;\r\n    const username = document.querySelector(\"input[name=username]\").value;\r\n    const password = document.querySelector(\"input[name=password]\").value;\r\n    const repassword = document.querySelector(\"input[name=repassword]\").value;\r\n\r\n    if (username !== \"\" && password !== \"\") {\r\n      if (password !== repassword) {\r\n        setErrorMessage(\"Password doesn't match\");\r\n        setIsError(true);\r\n        return null;\r\n      }\r\n\r\n      setProcessing(true);\r\n      let postData = {\r\n        carrier_name: company,\r\n        carrier_contact: mobile,\r\n        carrier_address: address,\r\n        carrier_email: email,\r\n        username: username,\r\n        password: password,\r\n      };\r\n\r\n      API.post(\"account/register\", postData)\r\n        .then((result) => {\r\n          setProcessing(false);\r\n          if (result.status === 200) {\r\n            if (result.data.error === 0) {\r\n              setErrorMessage(result.data.message);\r\n              setIsError(true);\r\n            } else {\r\n              let res = Swal.fire(\r\n                \"Transaction Completed!\",\r\n                \"Account Successfully Registered!\",\r\n                \"success\"\r\n              );\r\n\r\n              res.then(() => {\r\n                props.history.push(\"/\");\r\n              });\r\n            }\r\n          } else if (result.status === 254) {\r\n            setErrorMessage(result.data.message);\r\n            setIsError(true);\r\n          } else {\r\n            setIsError(true);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          setProcessing(false);\r\n          setIsError(true);\r\n        });\r\n    } else {\r\n      setErrorMessage(\"Please enter a username and password\");\r\n      setIsError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"rounded\" style={{ width: \"762px\", marginTop: \"2%\" }}>\r\n      <Card\r\n        className=\"bg-primary p-0 m-0 rounded\"\r\n        style={{ border: \"none\", opacity: \"0.88\" }}\r\n      >\r\n        <Row className=\"p-0 m-0\">\r\n          <Col xs={12} className=\"p-0 m-0\">\r\n            <Card className=\"p-0 m-0\" style={{ borderRadius: \"0px\" }}>\r\n              <Col xs={12} className=\"mt-4 text-center\">\r\n                <img\r\n                  className=\"mt-1\"\r\n                  src={MARINA}\r\n                  style={{ width: \"4rem\", height: \"4.5rem\" }}\r\n                  alt=\"MARINA Logo\"\r\n                />\r\n                <img\r\n                  className=\"mt-1\"\r\n                  src={Logo}\r\n                  style={{ width: \"5rem\", height: \"6rem\" }}\r\n                  alt=\"Passenger eTracer Logo\"\r\n                />\r\n              </Col>\r\n              <Col xs={12} className=\"mt-1 text-center\">\r\n                <h5>\r\n                  <FontAwesomeIcon className=\"pr-1\" icon={faAnchor} /> Register\r\n                  New Company\r\n                </h5>\r\n              </Col>\r\n              <Col xs={{ size: 10, offset: 1 }}>\r\n                <Form onSubmit={(e) => RegisterHandler(e)} autoComplete=\"off\">\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2 text-center\">\r\n                    {isError && <Error>{errorMessage}</Error>}\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      name=\"company\"\r\n                      placeholder=\"Company Name\"\r\n                      label=\"Company Name\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      name=\"mobile\"\r\n                      placeholder=\"Contact Number\"\r\n                      label=\"Contact Number\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      name=\"email\"\r\n                      placeholder=\"Email\"\r\n                      label=\"Email\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      name=\"address\"\r\n                      placeholder=\"Address\"\r\n                      label=\"Address\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      name=\"username\"\r\n                      placeholder=\"Username\"\r\n                      label=\"Username\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      type={isShowPass ? \"text\" : \"password\"}\r\n                      name=\"password\"\r\n                      placeholder=\"Password\"\r\n                      label=\"Password\"\r\n                      fullWidth\r\n                      required\r\n                      InputProps={{\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton onClick={toggleShowPassword}>\r\n                              {isShowPass ? <Visibility /> : <VisibilityOff />}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mb-2\">\r\n                    <TextField\r\n                      type={isShowRePass ? \"text\" : \"password\"}\r\n                      name=\"repassword\"\r\n                      placeholder=\"Re-type Password\"\r\n                      label=\"Re-type Password\"\r\n                      fullWidth\r\n                      required\r\n                      InputProps={{\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton onClick={toggleShowRePassword}>\r\n                              {isShowRePass ? (\r\n                                <Visibility />\r\n                              ) : (\r\n                                <VisibilityOff />\r\n                              )}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col xs={12} className=\"pl-4 pr-4 mt-3 mb-2\">\r\n                    {isProcessing ? (\r\n                      <div\r\n                        className=\"text-center mt-1\"\r\n                        style={{ minHeight: \"100px\" }}\r\n                      >\r\n                        <Spinner\r\n                          className=\"mt-4\"\r\n                          style={{ width: \"2rem\", height: \"2rem\" }}\r\n                          color=\"primary\"\r\n                        />\r\n                        <br />\r\n                        <span className=\"mt-1\">Processing...</span>\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <Button\r\n                          type=\"submit\"\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          className=\"pt-1\"\r\n                          disabled={isProcessing}\r\n                          fullWidth\r\n                        >\r\n                          <span>Register</span>\r\n                          <FontAwesomeIcon className=\"pl-1\" icon={faCheck} />\r\n                        </Button>\r\n                        <div className=\"text-center m-0 p-0 mt-2\">\r\n                          <span>or</span>\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                          <a\r\n                            href=\"login\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className=\"pt-1 btn\"\r\n                            disabled={isProcessing}\r\n                          >\r\n                            <span>LOGIN HERE</span>\r\n                            <FontAwesomeIcon\r\n                              className=\"pl-1\"\r\n                              icon={faSignInAlt}\r\n                            />\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </Col>\r\n                </Form>\r\n              </Col>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { createContext, useContext } from 'react' \r\n\r\nexport const ThemeContext = createContext() \r\n\r\nexport function useTheme() {\r\n  return useContext(ThemeContext) \r\n}","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nfunction LinearProgressBar(props) {\r\n    return (\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n            <Box width=\"100%\" mr={1}>\r\n                <LinearProgress variant=\"determinate\" {...props} />\r\n            </Box>\r\n            <Box minWidth={35}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n                    props.value,\r\n                )}%`}</Typography>\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n})\r\n\r\nLinearProgressBar.propTypes = {\r\n    /**\r\n     * The value of the progress indicator for the determinate and buffer variants.\r\n     * Value between 0 and 100.\r\n     */\r\n    value: PropTypes.number.isRequired,\r\n}\r\n\r\n\r\nconst LinearProgressBarWithLabel = (props) => {\r\n    const classes = useStyles()\r\n    const [progress, setProgress] = useState(0)\r\n\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n\r\n            setProgress((prevProgress) => ((prevProgress < 89 && prevProgress < 100) ?  prevProgress + Math.floor(Math.random() * 10) + 1 : 99))\r\n\r\n\r\n        }, 800)\r\n        return () => {\r\n            clearInterval(timer)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography>{props.title}</Typography>\r\n            <LinearProgressBar value={progress} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LinearProgressBarWithLabel\r\n","import React, { useState } from 'react'\r\nimport API from '../../../utils/Api'\r\nimport Swal from 'sweetalert2'\r\nimport { useAuth } from \"../../../context/auth\"\r\n\r\nimport {\r\n    Button,\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody,\r\n    ModalFooter,\r\n    Card,\r\n    CardBody,\r\n    Row,\r\n    Col\r\n} from 'reactstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWindowClose, faSave, faKey, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { TextField, InputAdornment, IconButton, Paper } from '@material-ui/core'\r\nimport Visibility from '@material-ui/icons/Visibility'\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\r\nimport LinearProgressBarWithLabel from '../Common/LinearProgressBarWithLabel'\r\n\r\nconst ChangePasswordModal = (props) => {\r\n    const authToken = useAuth().authTokens\r\n\r\n    const [isProcessing, setIsProcessing] = useState(false)\r\n    const [isShowNewPass, setIsShowNewPass] = useState(false)\r\n    const [isShowConfirmPass, setIsShowConfirmPass] = useState(false)\r\n    const [isShowOldPass, setIsShowOldPass] = useState(false)\r\n    const [isConfirmError, setIsConfirmError] = useState(false)\r\n    const [isValidateError, setIsValidateError] = useState(false)\r\n    const [isValidateMessage, setIsValidateMessage] = useState(\"Invalid Input\")\r\n    const [isMinimum, setIsMinimum] = useState(false)\r\n    const [newPassword, setNewPassword] = useState('')\r\n    const [oldPassword, setOldPassword] = useState('')\r\n\r\n    const toggleShowNewPassword = () => setIsShowNewPass(!isShowNewPass)\r\n    const toggleShowConfirmPassword = () => setIsShowConfirmPass(!isShowConfirmPass)\r\n    const toggleShowOldPassword = () => setIsShowOldPass(!isShowOldPass)\r\n\r\n    const changePasswordHandler = (e) => {\r\n        e.preventDefault()\r\n        const token = authToken.access_token\r\n\r\n        if(isMinimum){\r\n            setIsValidateMessage(\"Minimum password length is 6\")\r\n        }\r\n\r\n        if(isConfirmError){\r\n            setIsValidateMessage(\"Password doesn't match\")\r\n        }\r\n\r\n        if (!isConfirmError && !isMinimum) {\r\n            setIsValidateError(false)\r\n            setIsProcessing(true)          \r\n\r\n            let newPassData = {\r\n                \"password\": oldPassword,\r\n                \"new_password\": newPassword\r\n            }\r\n\r\n\r\n            API.post('auth/carrier/update-password', newPassData, {\r\n                headers: {\r\n                    'Authorization': 'bearer ' + token,\r\n                }\r\n            }).then(result => {\r\n                setIsProcessing(false)\r\n                if (result.data.status) {\r\n                    Swal.fire(\r\n                        'Transaction Completed!',\r\n                        'Password Successfully Updated!',\r\n                        'success'\r\n                    )\r\n\r\n                    props.toggle()\r\n                } else {\r\n                    setIsValidateMessage(result.data.message)\r\n                    Swal.fire(\r\n                        'Transaction Failed!',\r\n                        result.data.message,\r\n                        'error'\r\n                    )                    \r\n                }\r\n            }).catch(e => {\r\n                setIsProcessing(false)\r\n                Swal.fire(\r\n                    'Transaction Failed!',\r\n                    'Failed to Update Password!',\r\n                    'error'\r\n                )\r\n            })\r\n        }else{\r\n            setIsValidateError(true)\r\n        }\r\n    }\r\n\r\n    const checkConfirmPassword = (value) => { \r\n        setIsValidateError(false)\r\n        if (value === newPassword) {            \r\n            setIsConfirmError(false)\r\n        } else {\r\n            setIsConfirmError(true)\r\n        }\r\n    }\r\n\r\n    const handleChangePassword = (value) => {           \r\n        setNewPassword(value)\r\n        setIsValidateError(false)\r\n        if (value.replace(/\\s+/g, '').length >= 6) {\r\n            setIsMinimum(false)\r\n            if (value === newPassword) {            \r\n                setIsConfirmError(false)\r\n            } else {\r\n                setIsConfirmError(true)\r\n            }   \r\n        } else {  \r\n            setIsMinimum(true)\r\n        }   \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Modal backdrop={\"static\"} isOpen={props.isOpen} toggle={props.toggle} className=\"modal-md\" style={{ marginLeft: \"40%\", marginTop: \"7%\", color: \"#1a1751\" }}>\r\n                <ModalHeader toggle={props.toggle}>\r\n                    <FontAwesomeIcon icon={faKey} /> Change Password <br />\r\n                </ModalHeader>\r\n                <form onSubmit={(e) => changePasswordHandler(e)}>                    \r\n                    <ModalBody>\r\n                        {isValidateError &&\r\n                            <div className=\"text-left card p-1 bg-danger\">\r\n                                <span className=\"text-white ml-2\"><FontAwesomeIcon icon={faTimesCircle} /> { isValidateMessage }</span>\r\n                            </div>\r\n                        }\r\n                        <Row className=\"p-2 pt-0\">\r\n                            <div className=\"col-md-12\">\r\n                                <Row>\r\n                                    <div className=\"col-md-12 p-1\">\r\n                                        <Card className=\"p-1\">\r\n                                            <CardBody className=\"p-1 m-1\">\r\n                                                <div className=\"mt-1 mb-1\">\r\n                                                    <TextField\r\n                                                        name=\"old_password\"\r\n                                                        label=\"Old Password\"\r\n                                                        type={isShowOldPass ? \"text\" : \"password\"}\r\n                                                        onChange={(e) => setOldPassword(e.target.value)}\r\n                                                        fullWidth\r\n                                                        required\r\n                                                        InputProps={{\r\n                                                            endAdornment: <InputAdornment position=\"end\">\r\n                                                                <IconButton onClick={toggleShowOldPassword}>\r\n                                                                    {isShowOldPass ? <Visibility /> : <VisibilityOff />}\r\n                                                                </IconButton>\r\n                                                            </InputAdornment>\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <TextField\r\n                                                        type={isShowNewPass ? \"text\" : \"password\"}\r\n                                                        name=\"new_password\"\r\n                                                        label=\"New Password\"\r\n                                                        onChange={(e) => handleChangePassword(e.target.value)}\r\n                                                        error={isMinimum}\r\n                                                        fullWidth\r\n                                                        required\r\n                                                        InputProps={{\r\n                                                            endAdornment: <InputAdornment position=\"end\">\r\n                                                                <IconButton onClick={toggleShowNewPassword}>\r\n                                                                    {isShowNewPass ? <Visibility /> : <VisibilityOff />}\r\n                                                                </IconButton>\r\n                                                            </InputAdornment>\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"mt-1 mb-1\">\r\n                                                    <TextField\r\n                                                        error={isConfirmError}\r\n                                                        type={isShowConfirmPass ? \"text\" : \"password\"}\r\n                                                        name=\"confirm_password\"\r\n                                                        label=\"Confirm Password\"\r\n                                                        onChange={(e) => checkConfirmPassword(e.target.value)}\r\n                                                        fullWidth\r\n                                                        required\r\n                                                        InputProps={{\r\n                                                            endAdornment: <InputAdornment position=\"end\">\r\n                                                                <IconButton onClick={toggleShowConfirmPassword}>\r\n                                                                    {isShowConfirmPass ? <Visibility /> : <VisibilityOff />}\r\n                                                                </IconButton>\r\n                                                            </InputAdornment>\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </CardBody>\r\n                                        </Card>\r\n                                    </div>\r\n                                </Row>\r\n                            </div>\r\n                            {isProcessing &&\r\n                                <Col md={12}>\r\n                                    <Paper className=\"p-2 m-2 mt-3\">\r\n                                        <LinearProgressBarWithLabel title=\"Updating Password\" />\r\n                                    </Paper>\r\n                                </Col>\r\n                            }\r\n                        </Row>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button type=\"submit\" color=\"primary\" disabled={isProcessing || isValidateError} style={{ minWidth: \"120px\" }}>\r\n                            <FontAwesomeIcon icon={faSave} /> Save\r\n                                </Button>{' '}\r\n                        <Button color=\"danger\" onClick={props.toggle} disabled={isProcessing} style={{ minWidth: \"120px\" }}>\r\n                            <FontAwesomeIcon icon={faWindowClose} /> Close\r\n                        </Button>\r\n                    </ModalFooter>\r\n                </form>\r\n            </Modal>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default ChangePasswordModal ","import { createContext, useContext } from 'react' \r\n\r\nexport const ProfileContext = createContext() \r\n\r\nexport function useProfile() {\r\n  return useContext(ProfileContext) \r\n}","import React, { useEffect, useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useProfile } from \"../../../context/profile\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faWindowClose,\r\n  faSave,\r\n  faUserEdit,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { Paper, FormControlLabel, Switch } from \"@material-ui/core\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\n\r\nconst ChangeProfile = (props) => {\r\n  const authToken = useAuth().authTokens;\r\n  const profile_context = useProfile();\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [carrierID, setCarrierID] = useState(\"\");\r\n  const [carrierName, setCarriername] = useState(\"\");\r\n  const [carrierContact, setCarrierContact] = useState(\"\");\r\n  const [carrierAddress, setCarrierAddress] = useState(\"\");\r\n  const [carrierEmail, setCarrierEmail] = useState(\"\");\r\n\r\n  const handleEdit = () => {\r\n    setIsEdit(!isEdit);\r\n    if (isDisabled) {\r\n      setIsDisabled(null);\r\n    } else {\r\n      setIsDisabled(true);\r\n    }\r\n  };\r\n\r\n  const updateProfileHandler = (e) => {\r\n    e.preventDefault();\r\n    setIsProcessing(true);\r\n\r\n    let postData = {\r\n      id: carrierID,\r\n      carrier: carrierName,\r\n      contact: carrierContact,\r\n      address: carrierAddress,\r\n      email: carrierEmail,\r\n    };\r\n\r\n    API.post(`auth/carrier/update`, postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + authToken.access_token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          setIsProcessing(false);\r\n\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Profile Updated!\",\r\n            \"success\"\r\n          );\r\n\r\n          profile_context.setUsername(carrierName);\r\n          profile_context.getProfileDetails();\r\n          props.toggle();\r\n        } else {\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setIsProcessing(false);\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let carrier = profile_context.profileDetails;\r\n    setCarrierID(carrier.id);\r\n    setCarriername(carrier.carrier_name);\r\n    setCarrierContact(carrier.carrier_contact);\r\n    setCarrierEmail(carrier.carrier_email);\r\n    setCarrierAddress(carrier.carrier_address);\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-md\"\r\n        style={{ marginLeft: \"40%\", marginTop: \"7%\", color: \"#1a1751\" }}\r\n      >\r\n        <ModalHeader toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faUserEdit} /> Update Profile <br />\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => updateProfileHandler(e)}>\r\n          <ModalBody>\r\n            <FormControlLabel\r\n              className=\"ml-2\"\r\n              control={\r\n                <Switch\r\n                  checked={isEdit}\r\n                  onChange={handleEdit}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Edit\"\r\n            />\r\n            <div className=\"col-md-12\">\r\n              <Row>\r\n                <div className=\"col-md-12 p-1\">\r\n                  <Card className=\"p-1\">\r\n                    <CardBody className=\"p-1 m-1\">\r\n                      <div className=\"mt-1 mb-1\">\r\n                        <TextField\r\n                          name=\"carrier\"\r\n                          label=\"Name\"\r\n                          value={carrierName || \"\"}\r\n                          onChange={(e) => setCarriername(e.target.value)}\r\n                          fullWidth\r\n                          required\r\n                          disabled={isDisabled}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <TextField\r\n                          name=\"contact\"\r\n                          label=\"Contact\"\r\n                          value={carrierContact || \"\"}\r\n                          onChange={(e) => setCarrierContact(e.target.value)}\r\n                          fullWidth\r\n                          required\r\n                          disabled={isDisabled}\r\n                        />\r\n                      </div>\r\n                      <div className=\"mt-1 mb-1\">\r\n                        <TextField\r\n                          name=\"email\"\r\n                          label=\"Email\"\r\n                          value={carrierEmail || \"\"}\r\n                          onChange={(e) => setCarrierEmail(e.target.value)}\r\n                          fullWidth\r\n                          required\r\n                          disabled={isDisabled}\r\n                        />\r\n                      </div>\r\n                      <div className=\"mt-1 mb-1\">\r\n                        <TextField\r\n                          name=\"address\"\r\n                          label=\"Address\"\r\n                          value={carrierAddress || \"\"}\r\n                          onChange={(e) => setCarrierAddress(e.target.value)}\r\n                          fullWidth\r\n                          required\r\n                          disabled={isDisabled}\r\n                        />\r\n                      </div>\r\n                    </CardBody>\r\n                  </Card>\r\n                </div>\r\n              </Row>\r\n            </div>\r\n            <Row className=\"p-2 pt-0\">\r\n              {isProcessing && (\r\n                <Col md={12}>\r\n                  <Paper className=\"p-2 m-2 mt-3\">\r\n                    <LinearProgressBarWithLabel title=\"Updating User Profile\" />\r\n                  </Paper>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={!isEdit || isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faSave} /> Save\r\n            </Button>{\" \"}\r\n            <Button\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Close\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeProfile;\r\n","import { createContext, useContext } from 'react' \r\n\r\nexport const OptionsContext = createContext() \r\n\r\nexport function useOptions() {\r\n  return useContext(OptionsContext) \r\n}","import React, { useState } from \"react\";\r\nimport { useOptions } from \"../../../../context/options\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nconst ShipNameSelect = (props) => {\r\n  const shipOptions = useOptions().shipOptions;\r\n  const [ship, setShip] = useState(\"\");\r\n \r\n\r\n  const setShipSelected = (value) => {\r\n    props.setShipName(value);\r\n    setShip(value);\r\n\r\n    if (props.getShipDetails) {\r\n      props.getShipDetails(value);\r\n    }\r\n\r\n    if(props.getShipSchedules){\r\n      props.getShipSchedules(value)\r\n    }\r\n  };\r\n\r\n  const handleShipSelection = (value) => {\r\n    props.setShipName(value);\r\n    setShipSelected(value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        select\r\n        label=\"Select a Ship\"\r\n        name=\"shipName\"\r\n        value={props.shipName || ship}\r\n        onChange={(e) => handleShipSelection(e.target.value)}\r\n        fullWidth\r\n        required\r\n        disabled={props.disabled || false}\r\n        className=\"text-left\"\r\n      >\r\n        {shipOptions.map((option) => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.label}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShipNameSelect;\r\n","import React, { useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\n// Excel File Generation\r\nimport XLSX from \"xlsx\";\r\nimport FileTemplate from \"../../../assets/template/Template.xlsx\";\r\n\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\n\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport CheckBox from \"@material-ui/core/Checkbox\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faDownload,\r\n  faFileExcel,\r\n  faWindowClose,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\nimport Error from \"../Error/Error\";\r\nimport ShipNameSelect from \"../Forms/Fields/ShipNameSelect\";\r\nimport { FormControlLabel, Paper, TextField } from \"@material-ui/core\";\r\n\r\nconst Report = (props) => {\r\n  const token = useAuth().authTokens;\r\n  const dateFns = new DateFnsUtils();\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  // checkboxes\r\n  const [isDaily, setIsDaily] = useState(false);\r\n  const [isMonthly, setIsMonthly] = useState(false);\r\n  const [isCustomRange, setIsCustomRange] = useState(false);\r\n\r\n  // value\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [daily, setDaily] = useState(null);\r\n  const [monthly, setMonthly] = useState(null);\r\n  const [isStartDateSelected, setIsStartDateSelected] = useState(false);\r\n  const [reportType, setReportType] = useState(\"Daily\");\r\n  const [isDownload, setIsDownload] = useState(false);\r\n  const [shipName, setShipName] = useState(\"\");\r\n  const [voyageNumber, setVoyageNumber] = useState(\"\");\r\n  const [isIncludeVoyage, setIsIncludeVoyage] = useState(false);\r\n\r\n  const toggleReportType = (value, type) => {\r\n    const reportTypeOptions = {\r\n      daily: 1,\r\n      monthly: 2,\r\n      custom: 3,\r\n    };\r\n\r\n    setIsError(false);\r\n    setIsDownload(value);\r\n    setIsDaily(false);\r\n    setIsMonthly(false);\r\n    setIsCustomRange(false);\r\n\r\n    switch (type) {\r\n      case reportTypeOptions.daily:\r\n        setReportType(\"Daily\");\r\n        setIsDaily(!isDaily);\r\n        break;\r\n      case reportTypeOptions.monthly:\r\n        setReportType(\"Monthly\");\r\n        setIsMonthly(!isMonthly);\r\n        break;\r\n      default:\r\n        setReportType(\"Custom\");\r\n        setIsCustomRange(!isCustomRange);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const setStartDateChangeHandler = (d) => {\r\n    setStartDate(dateFns.format(new Date(d), \"Y-M-dd\"));\r\n    if (d !== \"\") {\r\n      setIsStartDateSelected(true);\r\n    } else {\r\n      setIsStartDateSelected(false);\r\n    }\r\n  };\r\n\r\n  const setEndDateChangeHandler = (d) => {\r\n    setEndDate(dateFns.format(new Date(d), \"Y-M-dd\"));\r\n  };\r\n\r\n  const generateReportHandler = (e) => {\r\n    let start = \"\",\r\n      end = \"\";\r\n    e.preventDefault();\r\n    setIsError(false);\r\n    setIsProcessing(true);\r\n    try {\r\n      if (isDaily) {\r\n        // Format date for query\r\n        start = dateFns.format(new Date(daily), \"Y-M-dd 00:00:00\");\r\n        end = dateFns.format(new Date(daily), \"Y-M-dd 23:59:59\");\r\n      }\r\n\r\n      if (isMonthly) {\r\n        // Format date for query\r\n        start = dateFns.format(\r\n          dateFns.startOfMonth(new Date(monthly)),\r\n          \"Y-M-dd 00:00:00\"\r\n        );\r\n        end = dateFns.format(\r\n          dateFns.endOfMonth(new Date(monthly)),\r\n          \"Y-M-dd 23:59:59\"\r\n        );\r\n      }\r\n\r\n      if (isCustomRange) {\r\n        start = startDate;\r\n        end = endDate;\r\n      }\r\n\r\n      getRecords(start, end)\r\n        .then((result) => {\r\n          if (Object.keys(result.data).length > 0) {\r\n            let parsedRecords = parseData(result);\r\n            generateExcel(parsedRecords);\r\n            setIsProcessing(false);\r\n          } else {\r\n            setIsProcessing(false);\r\n            setErrorMessage(\"No Records Found\");\r\n            setIsError(true);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          setErrorMessage(\"Unable to access records\");\r\n          setIsError(true);\r\n          setIsProcessing(false);\r\n        });\r\n    } catch (e) {\r\n      setErrorMessage(\"Code Error\");\r\n      setIsError(true);\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const getRecords = (start, end) => {\r\n    return API.post(\r\n      \"carrier/trace-profiles\",\r\n      { dates: [start, end], transport: shipName, voyage: voyageNumber },\r\n      {\r\n        headers: {\r\n          Authorization: \"bearer \" + token.access_token,\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  const parseData = (result) => {\r\n    let data = result.data;\r\n    let row;\r\n    let records = [];\r\n    let child = \"\";\r\n    let relatives = \"\",\r\n      relativeContact = \"\";\r\n\r\n    for (let key in data) {\r\n      let profile = data[key].profile;\r\n      let companions = data[key].companions;\r\n\r\n      if (companions.length > 0) {\r\n        child = \"\";\r\n        for (let c in companions) {\r\n          if (companions.length === 1) {\r\n            child = companions[c].name;\r\n          } else {\r\n            child = child + \", \" + companions[c].name;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (profile.relatives.length > 0) {\r\n        relatives = \"\";\r\n        relativeContact = \"\";\r\n        for (let key in profile.relatives) {\r\n          if (profile.relatives.length === 1) {\r\n            relatives = profile.relatives[key].name;\r\n            relativeContact = profile.relatives[key].contact;\r\n          } else {\r\n            relatives = relatives + \" \" + profile.relatives[key].name;\r\n            relativeContact =\r\n              relativeContact + \", \" + profile.relatives[key].contact;\r\n          }\r\n        }\r\n      }\r\n\r\n      row = [\r\n        profile.first_name,\r\n        profile.last_name,\r\n        child,\r\n        data[key].accommodation_type,\r\n        profile.gender.toUpperCase(),\r\n        profile.age,\r\n        profile.address.specific_address,\r\n        profile.address.zipcode,\r\n        data[key].fromLocation,\r\n        data[key].toLocation,\r\n        profile.mobile != null ? profile.mobile : \"\",\r\n        profile.email != null ? profile.email : \"\",\r\n        relatives,\r\n        relativeContact,\r\n        `${data[key].temperature}` || \"\",\r\n        data[key].seat_no,\r\n        data[key].parking_space_no || \"\",\r\n        data[key].previous_place_travel || \"\",\r\n      ];\r\n\r\n      records = [...records, row];\r\n    }\r\n\r\n    return records;\r\n  };\r\n\r\n  const generateExcel = (records = []) => {\r\n    if (records.length > 0) {\r\n      fetch(FileTemplate)\r\n        .then((res) => res.arrayBuffer())\r\n        .then((ab) => {\r\n          const wb = XLSX.read(ab, { type: \"array\" });\r\n          const ws = wb.Sheets[wb.SheetNames[0]];\r\n\r\n          XLSX.utils.sheet_add_aoa(ws, records, { origin: \"A12\" });\r\n\r\n          XLSX.writeFile(\r\n            wb,\r\n            `PEMS ${reportType} Report Generated on ${dateFns.format(\r\n              new Date(),\r\n              \"MMM-dd-yyyy\"\r\n            )}.xlsx`\r\n          );\r\n        })\r\n        .catch((e) => {\r\n          setIsError(true);\r\n          setErrorMessage(\"Processing Failed\");\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={false || props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-md mt-5 pt-5\"\r\n      >\r\n        <ModalHeader toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faFileExcel} className=\"text-success mr-1\" />\r\n          Passenger Manifest Report\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => generateReportHandler(e)}>\r\n          <ModalBody>\r\n            {isError && (\r\n              <Col md={12} className=\"text-center m-0 p-0\">\r\n                <h6>\r\n                  <Error className=\"p-0 m-0\">{errorMessage}</Error>\r\n                </h6>\r\n              </Col>\r\n            )}\r\n            <Row className=\"p-2\">\r\n              <Col md={12}>\r\n                <Row>\r\n                  <Col md={{ size: 10, offset: 1 }}>\r\n                    <Row>\r\n                      <Col md={12}>\r\n                        <Paper className=\"p-2\">\r\n                          <Row>\r\n                            <Col md={{ size: \"auto\" }} className=\"m-0 p-0\">\r\n                              <FormControlLabel\r\n                                className=\"mt-1 ml-1 p-0\"\r\n                                control={\r\n                                  <CheckBox\r\n                                    className=\"m-0 p-0 pl-3\"\r\n                                    checked={isDaily}\r\n                                    onChange={(e) =>\r\n                                      toggleReportType(e.target.checked, 1)\r\n                                    }\r\n                                    color=\"primary\"\r\n                                    size=\"small\"\r\n                                  />\r\n                                }\r\n                                label=\"Daily\"\r\n                              />\r\n                            </Col>\r\n                            <Col\r\n                              md={{ size: \"auto\" }}\r\n                              className=\"m-0 p-0 text-left\"\r\n                            >\r\n                              <FormControlLabel\r\n                                className=\"mt-1 ml-1 p-0\"\r\n                                control={\r\n                                  <CheckBox\r\n                                    className=\"m-0 p-0 pl-3\"\r\n                                    checked={isMonthly}\r\n                                    onChange={(e) =>\r\n                                      toggleReportType(e.target.checked, 2)\r\n                                    }\r\n                                    color=\"primary\"\r\n                                    size=\"small\"\r\n                                  />\r\n                                }\r\n                                label=\"Monthly\"\r\n                              />\r\n                            </Col>\r\n                            <Col md={{ size: \"auto\" }} className=\"m-0 p-0\">\r\n                              <FormControlLabel\r\n                                className=\"mt-1 ml-1 p-0\"\r\n                                control={\r\n                                  <CheckBox\r\n                                    className=\"m-0 p-0 pl-3\"\r\n                                    checked={isCustomRange}\r\n                                    onChange={(e) =>\r\n                                      toggleReportType(e.target.checked, 3)\r\n                                    }\r\n                                    color=\"primary\"\r\n                                    size=\"small\"\r\n                                  />\r\n                                }\r\n                                label=\"Custom\"\r\n                              />\r\n                            </Col>\r\n                          </Row>\r\n                        </Paper>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                <Row className=\"mt-3\">\r\n                  <FormControlLabel\r\n                    className=\"mt-1 ml-4 p-0\"\r\n                    control={\r\n                      <CheckBox\r\n                        className=\"m-0 p-0\"\r\n                        checked={isIncludeVoyage}\r\n                        onChange={() => setIsIncludeVoyage(!isIncludeVoyage)}\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                      />\r\n                    }\r\n                    label=\"Filter Voyage Number\"\r\n                  />\r\n                  <Col md={12} className=\"text-center\">\r\n                    <Col md={12} className=\"text-left p-2\">\r\n                      <ShipNameSelect setShipName={setShipName} />\r\n                      {isIncludeVoyage && (\r\n                        <TextField\r\n                          value={voyageNumber}\r\n                          onChange={(e) => setVoyageNumber(e.target.value)}\r\n                          label=\"Voyage Number\"\r\n                          fullWidth\r\n                          required\r\n                        />\r\n                      )}\r\n                    </Col>\r\n                    {isDaily && (\r\n                      <Col md={12} className=\"p-2\">\r\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                          <KeyboardDatePicker\r\n                            name=\"daily\"\r\n                            value={daily}\r\n                            onChange={(d, v) => setDaily(d)}\r\n                            label=\"Select Date\"\r\n                            format=\"MMM/d/yyyy\"\r\n                            required\r\n                            clearable\r\n                            hideTabs\r\n                            showTodayButton\r\n                            fullWidth\r\n                          />\r\n                        </MuiPickersUtilsProvider>\r\n                      </Col>\r\n                    )}\r\n                    {isMonthly && (\r\n                      <Col md={12} className=\"p-2\">\r\n                        <MuiPickersUtilsProvider\r\n                          className=\"m-0 p-0\"\r\n                          utils={DateFnsUtils}\r\n                        >\r\n                          <KeyboardDatePicker\r\n                            name=\"monthly\"\r\n                            className=\"m-0 p-0\"\r\n                            variant=\"dialog\"\r\n                            value={monthly}\r\n                            onChange={(d, v) => setMonthly(d)}\r\n                            label=\"Select Month\"\r\n                            format=\"MMMM yyyy\"\r\n                            views={[\"year\", \"month\"]}\r\n                            openTo=\"month\"\r\n                            required\r\n                            clearable\r\n                            hideTabs\r\n                            fullWidth\r\n                          />\r\n                        </MuiPickersUtilsProvider>\r\n                      </Col>\r\n                    )}\r\n                    {isCustomRange && (\r\n                      <div>\r\n                        <Col md={12} className=\"p-2\">\r\n                          <MuiPickersUtilsProvider\r\n                            className=\"float-left\"\r\n                            utils={DateFnsUtils}\r\n                          >\r\n                            <KeyboardDatePicker\r\n                              name=\"startDate\"\r\n                              value={startDate}\r\n                              onChange={(d, v) => setStartDateChangeHandler(d)}\r\n                              label=\"Start Date\"\r\n                              format=\"MMM/d/yyyy\"\r\n                              required\r\n                              clearable\r\n                              hideTabs\r\n                              showTodayButton\r\n                              fullWidth\r\n                            />\r\n                          </MuiPickersUtilsProvider>\r\n                          <MuiPickersUtilsProvider\r\n                            className=\"float-left mt-2\"\r\n                            utils={DateFnsUtils}\r\n                          >\r\n                            <KeyboardDatePicker\r\n                              name=\"endDate\"\r\n                              value={endDate}\r\n                              onChange={(d, v) => setEndDateChangeHandler(d)}\r\n                              label=\"End Date\"\r\n                              minDate={dateFns.addDays(new Date(startDate), 1)}\r\n                              format=\"MMM/d/yyyy\"\r\n                              disabled={!isStartDateSelected}\r\n                              required\r\n                              clearable\r\n                              hideTabs\r\n                              fullWidth\r\n                            />\r\n                          </MuiPickersUtilsProvider>\r\n                        </Col>\r\n                      </div>\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Generating Report\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            {isDownload && (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"success\"\r\n                disabled={isProcessing}\r\n                style={{ minWidth: \"120px\" }}\r\n              >\r\n                <FontAwesomeIcon icon={faDownload} /> Download\r\n              </Button>\r\n            )}\r\n            <Button\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Cancel\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Report;\r\n","import { createContext, useContext } from 'react' \r\n\r\nexport const ShipContext = createContext() \r\n\r\nexport function useShip() {\r\n  return useContext(ShipContext) \r\n}","import React from \"react\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport './datatable.css';\r\n\r\nconst DataTable = (props) => {\r\n  return (\r\n    <div className=\"p-0 m-0 mt-2 mydatatable\">\r\n      {props.isLoading && (\r\n        <CircularProgress\r\n          style={{\r\n            marginLeft: \"48%\",\r\n            marginTop: \"18%\",\r\n            position: \"absolute\",\r\n            zIndex: \"1000\",\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <MUIDataTable\r\n        title={props.title}\r\n        data={props.data}\r\n        columns={props.columns}\r\n        options={props.options}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable;\r\n","import React, { useState } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCog, faShip } from \"@fortawesome/free-solid-svg-icons\";\r\nimport DirectionsBoatSharp from \"@material-ui/icons/DirectionsBoatSharp\";\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    // border: \"1px solid #d3d4d5\",\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\",\r\n    }}\r\n    transformOrigin={{\r\n      vertical: \"top\",\r\n      horizontal: \"center\",\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    \"&:focus\": {\r\n      \"& .MuiListItemIcon-root\": {\r\n        color: \"#757575\",\r\n      },\r\n      \"& .MuiListItemText-primary\": {\r\n        color: \"#454545\",\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function OptionMenuSchedulesButton(props) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleMenu = (menu) => {\r\n    const menuOption = {\r\n      ship: 1,\r\n    };\r\n\r\n    handleClose();\r\n\r\n    switch (menu) {\r\n      case menuOption.ship:\r\n        if (props.toggle) {\r\n          props.toggle();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-1 pt-1 ml-1 float-right\">\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n        className=\"p-1 pr-2 pl-2 menuButton\"\r\n      >\r\n        <FontAwesomeIcon icon={faCog} className=\"mr-1\" /> Options\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <StyledMenuItem onClick={() => handleMenu(1)}>\r\n          <ListItemIcon>\r\n            <DirectionsBoatSharp />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"New Ship\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useOptions } from \"../../../../context/options\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nconst TransportType = (props) => {\r\n  const transportOptions = useOptions().transportOptions;\r\n  const [transportType, setTransportType] = useState(props.transportType || \"\");\r\n\r\n  const handleChange = (value) => {\r\n    setTransportType(value);\r\n    props.setTransportType(value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        select\r\n        label=\"Select Transport Type\"\r\n        name=\"transportType\"\r\n        value={props.transportType || transportType}\r\n        onChange={(e) => handleChange(e.target.value)}\r\n        fullWidth\r\n        required\r\n      >\r\n        {transportOptions.map((option) => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.label}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransportType;\r\n","import React, { useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useShip } from \"../../../context/ship\";\r\nimport { useTheme } from \"../../../context/theme\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\";\r\n\r\nimport { TextField } from \"@material-ui/core\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faInfoCircle,\r\n  faSave,\r\n  faShip,\r\n  faWindowClose,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport TransportType from \"../../UI/Forms/Fields/TransportType\";\r\nimport DirectionsBoatSharp from \"@material-ui/icons/DirectionsBoatSharp\";\r\n\r\nconst NewShip = (props) => {\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const ship_context = useShip();\r\n  const modalMarginLG = useTheme().modalMarginLG;\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [shipName, setShipName] = useState(null);\r\n  const [capacity, setCapacity] = useState(0);\r\n  const [voyageRoute, setVoyageRoute] = useState(null);\r\n  const [transportType, setTransportType] = useState(null);\r\n\r\n  const saveNewRecordHandler = (e) => {\r\n    e.preventDefault();\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n    let postData = {\r\n      name: shipName,\r\n      capacity: capacity,\r\n      routes: voyageRoute,\r\n      transportation_category_id: transportType,\r\n    };\r\n\r\n    API.post(\"store/ships/store\", postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          setIsProcessing(false);\r\n\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Created!\",\r\n            \"success\"\r\n          );\r\n\r\n          ship_context.loadShips();\r\n          props.toggle();\r\n        } else {\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setIsProcessing(false);\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-lg\"\r\n        style={{ marginTop: \"5%\", marginLeft: modalMarginLG }}\r\n      >\r\n        <ModalHeader toggle={props.toggle}>\r\n          <DirectionsBoatSharp /> New Ship\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => saveNewRecordHandler(e)}>\r\n          <ModalBody>\r\n            <Row className=\"p-2\">\r\n              <Col md={12}>\r\n                <Card>\r\n                  <CardBody>\r\n                    <Row>\r\n                      <Col md={12} className=\"mt-0 pt-0 mb-2 text-danger\">\r\n                        <h6>\r\n                          <FontAwesomeIcon icon={faInfoCircle} /> Note: Each\r\n                          ship name should be unique and please fill in the required (*) fields\r\n                        </h6>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={6}>\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setShipName(e.target.value)}\r\n                          name=\"shipName\"\r\n                          label=\"Ship Name\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          InputProps={{ inputProps: { min: 0 } }}\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setCapacity(e.target.value)}\r\n                          name=\"capacity\"\r\n                          label=\"Capacity\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                      </Col>\r\n                      <Col md={6}>\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setVoyageRoute(e.target.value)}\r\n                          name=\"voyageRoute\"\r\n                          label=\"Route\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                        <TransportType setTransportType={setTransportType} />\r\n                      </Col>\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Creating New Ship Record\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faSave} /> Save\r\n            </Button>{\" \"}\r\n            <Button\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Cancel\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewShip;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useShip } from \"../../../context/ship\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useTheme } from \"../../../context/theme\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\";\r\n\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faInfoCircle,\r\n  faSave,\r\n  faShip,\r\n  faWindowClose,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport TransportType from \"../../UI/Forms/Fields/TransportType\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\n\r\nconst UpdateShip = (props) => {\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const ship_context = useShip();\r\n  const selectedShip = useShip().selectedShip;\r\n  const modalMarginLG = useTheme().modalMarginLG;\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [transportID, setTransportID] = useState(null);\r\n  const [shipName, setShipName] = useState(null);\r\n  const [capacity, setCapacity] = useState(0);\r\n  const [voyageRoute, setVoyageRoute] = useState(null);\r\n  const [transportType, setTransportType] = useState(null);\r\n\r\n  const saveNewRecordHandler = (e) => {\r\n    e.preventDefault();\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n    let postData = {\r\n      name: shipName,\r\n      capacity: capacity,\r\n      routes: voyageRoute,\r\n      transportation_category_id: transportType,\r\n    };\r\n\r\n    API.put(`carrier/transport/update/${transportID}`, postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          setIsProcessing(false);\r\n\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Created!\",\r\n            \"success\"\r\n          );\r\n          \r\n          postData.id = transportID;\r\n          let targetIndex = selectedShip[1];\r\n          ship_context.shipsData[targetIndex][1] = shipName;\r\n          ship_context.shipsData[targetIndex][3] = capacity;\r\n          ship_context.shipsData[targetIndex][2] = voyageRoute;\r\n          ship_context.shipsData[targetIndex][4] = [postData, targetIndex, ship_context.shipsData];\r\n\r\n          props.toggle();\r\n        } else {\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setIsProcessing(false);\r\n\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTransportID(selectedShip[0].id);\r\n    setShipName(selectedShip[0].name);\r\n    setCapacity(selectedShip[0].capacity);\r\n    setVoyageRoute(selectedShip[0].routes);\r\n    setTransportType(selectedShip[0].transportation_category_id);\r\n    return () => {};\r\n  }, [selectedShip]);\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        className=\"modal-lg\"\r\n        style={{ marginTop: \"5%\", marginLeft: modalMarginLG }}\r\n      >\r\n        <ModalHeader toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faShip} /> Update Ship\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => saveNewRecordHandler(e)}>\r\n          <ModalBody>\r\n            <Row className=\"p-2\">\r\n              <Col md={12}>\r\n                <Card>\r\n                  <CardBody>\r\n                    <Row>\r\n                      <Col md={12} className=\"mt-0 pt-0 mb-2 text-danger\">\r\n                        <h6>\r\n                          <FontAwesomeIcon icon={faInfoCircle} /> Note: Each\r\n                          ship name should be unique and please fill in the\r\n                          required (*) fields\r\n                        </h6>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={6}>\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          value={shipName || \"\"}\r\n                          onChange={(e) => setShipName(e.target.value)}\r\n                          name=\"shipName\"\r\n                          label=\"Ship Name\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          InputProps={{ inputProps: { min: 0 } }}\r\n                          value={capacity || \"\"}\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setCapacity(e.target.value)}\r\n                          name=\"capacity\"\r\n                          label=\"Capacity\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                      </Col>\r\n                      <Col md={6}>\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          value={voyageRoute || \"\"}\r\n                          onChange={(e) => setVoyageRoute(e.target.value)}\r\n                          name=\"voyageRoute\"\r\n                          label=\"Route\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                        <TransportType\r\n                          transportType={transportType}\r\n                          setTransportType={setTransportType}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Updating Ship Record\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faSave} /> Save\r\n            </Button>{\" \"}\r\n            <Button\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Cancel\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateShip;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { ShipContext } from \"../../../context/ship\";\r\nimport API from \"../../../utils/Api\";\r\nimport { debounce, isArray } from \"lodash\";\r\n\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { Container, Button, Row, Col } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faArchive, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport DataTable from \"../../UI/Datatable/Datatable\";\r\nimport MenuButton from \"../../UI/Common/OptionMenuShipsButton\";\r\nimport NewShip from \"../../UI/Modals/NewShip\";\r\nimport UpdateShip from \"../../UI/Modals/UpdateShip\";\r\n\r\nimport \"./ships.css\";\r\nimport Axios from \"axios\";\r\n\r\nconst Ships = (props) => {\r\n  const token = useAuth().authTokens;\r\n  const [shipsData, setShipData] = useState([]);\r\n  const [selectedShip, setSelectedShip] = useState({});\r\n  const [currentPage, setCurrentPage] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Modals\r\n  const [newShip, setNewShip] = useState(false);\r\n  const toggleNewShip = () => setNewShip(!newShip);\r\n  const [updateShip, setUpdateShip] = useState(false);\r\n  const toggleUpdateShip = () => setUpdateShip(!updateShip);\r\n\r\n  const formatData = (data = null) => {\r\n    if (data === null) {\r\n      return null;\r\n    }\r\n\r\n    if (isArray(data)) {\r\n      return formatArrayData(data);\r\n    }\r\n\r\n    return formatObjectData(data);\r\n  };\r\n\r\n  const formatObjectData = (data) => {\r\n    let ship = [];\r\n    let index = 0;\r\n\r\n    for (const [key, value] of Object.entries(data)) {\r\n      ship[index] = [\r\n        value.id,\r\n        value.name,\r\n        value.routes,\r\n        value.capacity,\r\n        [value, index, data],\r\n      ];\r\n\r\n      index++;\r\n    }\r\n\r\n    return ship;\r\n  };\r\n\r\n  const formatArrayData = (data) => {\r\n    if (data.length > 0) {\r\n      return data.map((value, index) => {\r\n        let ship;\r\n\r\n        ship = [\r\n          value.id,\r\n          value.name,\r\n          value.routes,\r\n          value.capacity,\r\n          [value, index, data],\r\n        ];\r\n\r\n        return ship;\r\n      });\r\n    }\r\n  };\r\n\r\n  const loadShips = useCallback(() => {\r\n    setIsLoading(true);\r\n    let cancelToken = Axios.cancelToken;\r\n    API.get(\"carrier/transport/ships\", {\r\n      cancelToken: cancelToken,\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        let data = result.data;\r\n        let currentPage = result.data.current_page;\r\n        if (Object.keys(data).length > 0) {\r\n          let ships = formatData(data);\r\n          setCurrentPage(currentPage);\r\n          setShipData(ships);\r\n        }\r\n\r\n        setIsLoading(false);\r\n      })\r\n      .catch((e) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, []); \r\n\r\n  const appendShip = (page) => {\r\n    API.get(`carrier/transport?page=${page}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    }).then((result) => {\r\n      let data = result.data.data;\r\n\r\n      let newShipData = [];\r\n      let ships = formatData(data);\r\n\r\n      if (result.data.current_page > currentPage) {\r\n        setCurrentPage(result.data.current_page);\r\n        if (ships !== undefined) {\r\n          newShipData = [...shipsData, ...ships];\r\n        } else {\r\n          newShipData = shipsData;\r\n        }\r\n      }\r\n\r\n      setShipData(newShipData);\r\n    });\r\n  };\r\n\r\n  const debounceSearchHandler = debounce(\r\n    (queryData) => searchShips(queryData),\r\n    500\r\n  );\r\n\r\n  const searchShips = (query) => {\r\n    return API.post(\r\n      `carrier/transport/search`,\r\n      {\r\n        name: query,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: \"bearer \" + token.access_token,\r\n        },\r\n      }\r\n    ).then((result) => {\r\n      let data = result.data;\r\n      let ships = formatData(data);\r\n      setShipData(ships);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  const archiveHandler = (data) => {\r\n    let shipData = data[2];\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        API.delete(`carrier/transport/delete/${data[0].id}`, {\r\n          headers: {\r\n            Authorization: \"bearer \" + token.access_token,\r\n          },\r\n        }).then((result) => {\r\n          if (result.data.status) {\r\n            Swal.fire(\"Transaction Completed\", result.data.message, \"success\");\r\n            shipData.splice(data[1], 1);\r\n            shipData = formatData(shipData);\r\n            setShipData(shipData);\r\n          } else {\r\n            Swal.fire(\"Transaction Completed\", result.data.message, \"error\");\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleUpdateShip = (value) => {\r\n    setSelectedShip(value);\r\n    toggleUpdateShip();\r\n  };\r\n\r\n  const columns = [\r\n    \"ID\",\r\n    \"Name\",\r\n    \"Route\",\r\n    \"Capacity\",\r\n    {\r\n      name: \"Actions\",\r\n      options: {\r\n        customBodyRender: (value, tableMeta, updateValue) => {\r\n          return (\r\n            <div style={{ color: \"#1a1751\" }}>\r\n              <Tooltip title=\"Update Ship Details\" placement=\"top\">\r\n                <Button\r\n                  color=\"link\"\r\n                  className=\"p-1 m-0 btn\"\r\n                  onClick={() => handleUpdateShip(value)}\r\n                >\r\n                  <FontAwesomeIcon icon={faEdit} />\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip title=\"Archive Ship\" placement=\"top\">\r\n                <Button\r\n                  color=\"link\"\r\n                  className=\"p-1 m-0 btn text-danger\"\r\n                  onClick={() => archiveHandler(value)}\r\n                >\r\n                  <FontAwesomeIcon icon={faArchive} />\r\n                </Button>\r\n              </Tooltip>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  const options = {\r\n    fixHeader: true,\r\n    filterType: \"dropdown\",\r\n    responsive: \"vertical\",\r\n    tableBodyHeight: \"350px\",\r\n    selectableRows: \"none\",\r\n    filter: false,\r\n    viewColumns: false,\r\n    elevation: 0,\r\n    print: false,\r\n    download: false,\r\n    rowsPerPage: 5,\r\n    rowsPerPageOptions: [5, 30, 100],\r\n    onChangePage: (p) => {\r\n      if (p % 2 !== 0) {\r\n        if (p >= currentPage) {\r\n          appendShip(currentPage + 1);\r\n        }\r\n      }\r\n    },\r\n    onSearchClose: () => {\r\n      setIsLoading(false);\r\n      loadShips();\r\n    },\r\n    searchProps: {\r\n      onKeyUp: (e) => {\r\n        let queryString = e.target.value;\r\n        if (queryString.length >= 2) {\r\n          setIsLoading(true);\r\n          debounceSearchHandler(queryString);\r\n        }\r\n      },\r\n    },\r\n    // this is to disable auto search on local data\r\n    customSearch: (query, row, col) => {\r\n      return shipsData.length > 0;\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadShips();\r\n    return () => {};\r\n  }, [loadShips]);\r\n\r\n  return (\r\n    <ShipContext.Provider value={{ shipsData, selectedShip, loadShips }}>\r\n      <Container fluid=\"true\" className=\"p-0 m-0\">\r\n        <Row className=\"m-0 p-0 text-right\">\r\n          <Col md={12}>\r\n            <Row>\r\n              <Col md={12} className=\"m-0 p-0\">\r\n                <MenuButton toggle={toggleNewShip} />\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col md={12} className=\"pl-0 ml-0 pr-0 mr-0 text-left\">\r\n            <DataTable\r\n              title=\"Ships\"\r\n              data={shipsData}\r\n              isLoading={isLoading}\r\n              columns={columns}\r\n              options={options}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {newShip && <NewShip isOpen={newShip} toggle={toggleNewShip} />}\r\n      {updateShip && (\r\n        <UpdateShip isOpen={updateShip} toggle={toggleUpdateShip} />\r\n      )}\r\n    </ShipContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Ships;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDateTimePicker,\r\n} from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nconst DepartureDate = (props) => {\r\n  const [departureDate, setDepartureDate] = useState(null);\r\n\r\n  const handleDepartureDateChange = (dateSelected) => {\r\n    setDepartureDate(dateSelected);\r\n\r\n    if (props.setDepartureDateChange) {\r\n      props.setDepartureDateChange(dateSelected);\r\n    }\r\n\r\n    if (props.pickedDate) {\r\n      props.pickedDate();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <KeyboardDateTimePicker\r\n          value={departureDate || props.departureDate}\r\n          onChange={(d,v) => handleDepartureDateChange(d)}\r\n          name=\"departureDate\"\r\n          label=\"ETD (Est. Time of Departure)\"\r\n          format=\"MMM/d/yyyy h:mm:ss a\"\r\n          required\r\n          disablePast\r\n          clearable\r\n          hideTabs\r\n          showTodayButton\r\n          fullWidth\r\n          helperText=\"\"\r\n          error={false}\r\n          disabled={props.disabled}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DepartureDate;\r\n","import React from 'react';\r\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\nconst ArrivalDate = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <KeyboardDateTimePicker\r\n                    value={props.arrivalDate}\r\n                    onChange={props.setArrivalDateChange || null}\r\n                    minDate={props.departure}\r\n                    label=\"ETA (Est. Time of Arrival)\"\r\n                    format=\"MMM/d/yyyy h:mm:ss a\"\r\n                    required\r\n                    disablePast\r\n                    clearable\r\n                    hideTabs\r\n                    showTodayButton\r\n                    fullWidth\r\n                    helperText=\"\"\r\n                    error={false}\r\n                    disabled={!props.isSelectedDeparture}\r\n                />\r\n            </MuiPickersUtilsProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ArrivalDate;","import React, { useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport Swal from \"sweetalert2\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Input,\r\n  Col,\r\n} from \"reactstrap\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faFileImport,\r\n  faWindowClose,\r\n  faCalendarDay,\r\n  faAnchor,\r\n  faFileExcel,\r\n  faFileDownload,\r\n  faInfoCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport FileTemplate from \"../../../assets/template/Template.xlsx\";\r\n\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useProfile } from \"../../../context/profile\";\r\n\r\nimport Error from \"../Error/Error\";\r\nimport ShipNameSelect from \"../Forms/Fields/ShipNameSelect\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\nimport DepartureDate from \"../Forms/Fields/DepartureDate\";\r\nimport ArrivalDate from \"../Forms/Fields/ArrivalDate\";\r\n\r\nconst NewPassengerManifests = (props) => {\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const profile_context = useProfile();\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"Invalid Input\");\r\n  const [isSelectedDeparture, setIsSelectedDeparture] = useState(false);\r\n\r\n  const [excelFile, setExcelFile] = useState(null);\r\n  const [departure, setDeparture] = useState(null);\r\n  const [arrival, setArrival] = useState(null);\r\n  const [transportNumber, setTransportNumber] = useState(\"\");\r\n  const [shipName, setShipName] = useState(\"\");\r\n  const [transportType, setTransportType] = useState(0);\r\n  const [voyageRoute, setVoyageRoute] = useState(\"\");\r\n\r\n  const dateFns = new DateFnsUtils();\r\n\r\n  const handleDepartureDateChange = () => {\r\n    setIsSelectedDeparture(true);\r\n  };\r\n\r\n  const validate = () => {\r\n    let d1 = dateFns.date(departure);\r\n    let d2 = dateFns.date(arrival);\r\n\r\n    if (dateFns.isBefore(d2, d1) || dateFns.isEqual(d1, d2)) {\r\n      setIsError(true);\r\n      setErrorMessage(\"Invalid Arrival Date\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const getShipDetails = (shipId) => {\r\n    API.get(`carrier/transport/ship/${shipId}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + authToken,\r\n      },\r\n    }).then((result) => {\r\n      let data = result.data;\r\n      if (data != null) {\r\n        setVoyageRoute(data.routes);\r\n        setTransportType(data.transportation_category_id);\r\n      }\r\n    });\r\n  };\r\n\r\n  const importFileHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validate()) {\r\n      return null;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n    let formData = new FormData();\r\n\r\n    formData.append(\"profileFile\", excelFile);\r\n    formData.append(\"departure\", dateFns.format(departure, \"Y-M-dd H:m:s\"));\r\n    formData.append(\"arrival\", dateFns.format(arrival, \"Y-M-dd H:m:s\"));\r\n    formData.append(\"transport_no\", parseInt(transportNumber));\r\n    formData.append(\"ship_name\", shipName);\r\n    formData.append(\"transport_type\", transportType);\r\n    formData.append(\"route\", voyageRoute);\r\n\r\n    API.post(\"store/import/profiles\", formData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          setIsProcessing(false);\r\n          setExcelFile(null);\r\n          setDeparture(null);\r\n          setArrival(null);\r\n          setTransportNumber(\"\");\r\n          setTransportType(\"\");\r\n          setVoyageRoute(\"\");\r\n\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Imported!\",\r\n            \"success\"\r\n          );\r\n\r\n          profile_context.loadPassengers();\r\n          props.toggle();\r\n        } else {\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setIsProcessing(false);\r\n        Swal.fire(\"Transaction Failed!\", \"Failed to Import Data!\", \"error\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-lg\"\r\n        style={{ marginTop: \"7%\", marginLeft: \"30%\" }}\r\n      >\r\n        <ModalHeader style={{ lineHeight: \"2\" }} toggle={props.toggle}>\r\n          Import Passenger Manifest <br />\r\n        </ModalHeader>\r\n        <form\r\n          onSubmit={(e) => importFileHandler(e)}\r\n          encType=\"multipart/form-data\"\r\n          id=\"excelFile\"\r\n        >\r\n          <ModalBody>\r\n            {isError && (\r\n              <Col md={12} className=\"text-center m-0 p-0\">\r\n                <h6>\r\n                  <Error className=\"p-0 m-0\">{errorMessage}</Error>\r\n                </h6>\r\n              </Col>\r\n            )}\r\n            <Row className=\"p-2\">\r\n              <Col md={12} className=\"mt-0 pt-0 mb-2 text-danger\">\r\n                <h6>\r\n                  <FontAwesomeIcon icon={faInfoCircle} /> Note: Please fill in\r\n                  the required (*) fields and use only the required template\r\n                </h6>\r\n              </Col>\r\n              <div className=\"col-md-6 p-2\">\r\n                <h6 className=\"text-primary ml-2\">\r\n                  <FontAwesomeIcon icon={faCalendarDay} /> Travel Dates\r\n                </h6>\r\n                <Card className=\"border-0\">\r\n                  <CardBody className=\"p-2\">\r\n                    <div>\r\n                      <DepartureDate\r\n                        pickedDate={handleDepartureDateChange}\r\n                        departureDate={departure}\r\n                        setDepartureDateChange={setDeparture}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mt-2\">\r\n                      <ArrivalDate\r\n                        isSelectedDeparture={isSelectedDeparture}\r\n                        departure={departure}\r\n                        arrivalDate={arrival}\r\n                        setArrivalDateChange={setArrival}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </div>\r\n              <div className=\"col-md-6 p-2\">\r\n                <h6 className=\"text-primary\">\r\n                  <FontAwesomeIcon icon={faAnchor} /> Transport Details\r\n                </h6>\r\n                <Card className=\"border-0\">\r\n                  <CardBody className=\"p-1 m-1\">\r\n                    <div>\r\n                      <ShipNameSelect\r\n                        getShipDetails={getShipDetails}\r\n                        setShipName={setShipName}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mt-2 mb-2\">\r\n                      <TextField\r\n                        value={transportNumber}\r\n                        onChange={(e) => setTransportNumber(e.target.value)}\r\n                        label=\"Voyage Number\"\r\n                        fullWidth\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <TextField\r\n                        label=\"Voyage Route\"\r\n                        value={voyageRoute}\r\n                        onChange={(e) => setVoyageRoute(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={true}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </div>\r\n              <div className=\"col-md-12 pt-2\">\r\n                <h6 className=\"text-success\">\r\n                  <FontAwesomeIcon icon={faFileExcel} /> Import Excel File:{\" \"}\r\n                  <a\r\n                    href={FileTemplate}\r\n                    title=\"Download Passenger Manifest Template\"\r\n                    download=\"Passenger-Manifest-Template.xlsx\"\r\n                  >\r\n                    <span style={{ fontSize: \"1rem\" }}>\r\n                      <FontAwesomeIcon icon={faFileDownload} /> Download this\r\n                      template\r\n                    </span>\r\n                  </a>\r\n                  <br />\r\n                </h6>\r\n                <Card>\r\n                  <CardBody className=\"p-1 m-0\">\r\n                    <div className=\"m-0\">\r\n                      <Input\r\n                        accept=\".xlsx,.xls\"\r\n                        id=\"raised-button-file\"\r\n                        type=\"file\"\r\n                        onChange={(e) => setExcelFile(e.target.files[0])}\r\n                        disabled={isProcessing}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </div>\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Importing Passenger Manifest\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faFileImport} /> Import\r\n            </Button>{\" \"}\r\n            <Button\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Cancel\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewPassengerManifests;\r\n","import React, { useState } from 'react' \r\nimport TextField from '@material-ui/core/TextField' \r\nimport MenuItem from '@material-ui/core/MenuItem' \r\n\r\nconst GenderSelect = (props) => {\r\n    const [gender, setGender] = useState('') \r\n\r\n    const genderOptions = [\r\n        {\r\n            value: \"M\",\r\n            label: \"Male\"\r\n        },\r\n        {\r\n            value: \"F\",\r\n            label: \"Female\"\r\n        }\r\n    ]\r\n\r\n    const handleChange = (value) => {\r\n        props.setGender(value.toUpperCase())\r\n        setGender(value.toUpperCase())\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TextField\r\n                select\r\n                label=\"Select Gender\"\r\n                name=\"gender\"\r\n                value={props.gender || gender}\r\n                onChange={(e) => handleChange(e.target.value)}\r\n                fullWidth\r\n                required\r\n                disabled={props.disabled}\r\n            >\r\n                {genderOptions.map((option) => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                        {option.label}\r\n                    </MenuItem>\r\n                ))}\r\n            </TextField>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GenderSelect ","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useProfile } from \"../../../context/profile\";\r\nimport { FormControlLabel, Switch, TextField } from \"@material-ui/core\";\r\nimport { Container, Row, Col, Button, Card, CardBody } from \"reactstrap\";\r\n\r\nimport GenderSelect from \"./Fields/GenderSelect\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faMapMarkedAlt,\r\n  faPhoneAlt,\r\n  faSave,\r\n  faUser,\r\n  faUsers,\r\n  faPeopleArrows,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Swal from \"sweetalert2\";\r\nimport API from \"../../../utils/Api\";\r\n\r\nconst ProfileDetailsForm = (props) => {\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const selectedProfile = useProfile().selectedProfile;\r\n  const profile_context = useProfile();\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [theProfile, setTheProfile] = useState(\"\");\r\n\r\n  // Personal\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [age, setAge] = useState(\"\");\r\n  const [bodyTemperature, setBodyTemperature] = useState(\"\");\r\n  // Contact\r\n  const [email, setEmail] = useState(\"\");\r\n  const [mobileNumber, setMobileNumber] = useState(\"\");\r\n  // Relative\r\n  const [relativeName, setRelativeName] = useState(\"\");\r\n  const [relativeContact, setRelativeContact] = useState(\"\");\r\n  // Address\r\n  const [zipcode, setZipcode] = useState(\"\");\r\n  const [specificAddress, setSpecificAddress] = useState(\"\");\r\n  // Child Companion\r\n  const [childCompanion, setChildCompanion] = useState(\"\");\r\n  // Travel\r\n\r\n  useEffect(() => {\r\n    let profile = selectedProfile[1].profile;\r\n    setTheProfile(selectedProfile);\r\n\r\n    //Profile\r\n    setFirstName(profile.first_name.toUpperCase());\r\n    setLastName(profile.last_name.toUpperCase());\r\n    setGender(profile.gender);\r\n    setAge(profile.age);\r\n    setBodyTemperature(selectedProfile[1].temperature);\r\n\r\n    // Contact\r\n    setEmail(profile.email);\r\n    setMobileNumber(profile.mobile);\r\n\r\n    // Relative\r\n    if (profile.relatives.length > 0) {\r\n      setRelativeName(profile.relatives[0].name);\r\n      setRelativeContact(profile.relatives[0].contact);\r\n    }\r\n\r\n    // Address\r\n    setSpecificAddress(profile.address.specific_address);\r\n    setZipcode(profile.address.zipcode);\r\n\r\n    // Companion\r\n    if (selectedProfile[1].companions.length > 0) {\r\n      if(checkJSON(selectedProfile[1].companions[0].name)){\r\n        let companions = JSON.parse(selectedProfile[1].companions[0].name);\r\n        companions = JSON.parse(companions[0].name);\r\n        setChildCompanion(companions[0].name);\r\n      }else{\r\n        let companions = selectedProfile[1].companions[0].name;\r\n        setChildCompanion(companions);\r\n      }\r\n    }\r\n\r\n    return () => {};\r\n  }, [selectedProfile]);\r\n\r\n  const handleEdit = () => {\r\n    setIsEdit(!isEdit);\r\n    if (isDisabled) {\r\n      setIsDisabled(null);\r\n    } else {\r\n      setIsDisabled(true);\r\n    }\r\n  };\r\n\r\n  const checkJSON = (str) => {\r\n    try {\r\n      JSON.parse(str);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const updateProfileHandler = () => {\r\n    props.setIsProcessing(true);\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n\r\n    let profile = theProfile[1];\r\n    let transport_details;\r\n    if (typeof selectedProfile[1].vehicle_details === \"object\") {\r\n      transport_details = selectedProfile[1].vehicle_details;\r\n    } else {\r\n      transport_details = JSON.parse(selectedProfile[1].vehicle_details);\r\n    }\r\n\r\n    let postData = {\r\n      first_name: firstName,\r\n      last_name: lastName,\r\n      gender: gender,\r\n      age: age,\r\n      email: email,\r\n      mobile: mobileNumber,\r\n      zipcode: parseInt(zipcode),\r\n      specific_address: specificAddress,\r\n      temp: bodyTemperature,\r\n      temperature: bodyTemperature,\r\n      barangay: profile.profile.address.barangay,\r\n      person_type: profile.profile.person_type,\r\n      origin: profile.fromLocation,\r\n      destination: profile.toLocation,\r\n      arrival: profile.fromDate,\r\n      departure: profile.toDate,\r\n      transport_type: profile.mode_of_travel_id,\r\n      transport_no: parseInt(transport_details.transport_no),\r\n      ship_name: transport_details.transport_vehicle,\r\n      travel_id: profile.id,\r\n      accomodation_type: profile.accommodation_type,\r\n      previous_travel: profile.previous_place_travel,\r\n      parking_space_no: profile.parking_space_no,\r\n      seat_no: profile.seat_no,\r\n      route: profile.route,\r\n      companion_name: childCompanion,\r\n      relative_name: relativeName,\r\n      relative_contact: relativeContact,\r\n    };\r\n\r\n    API.put(`carrier/update/${profile.profile_id}`, postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          props.setIsProcessing(false);\r\n          setIsProcessing(false);\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Updated!\",\r\n            \"success\"\r\n          );\r\n\r\n          profile_context.loadPassengers();\r\n          props.toggle();\r\n        } else {\r\n          props.setIsProcessing(false);\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        props.setIsProcessing(false);\r\n        setIsProcessing(false);\r\n\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"pt-2\">\r\n      <FormControlLabel\r\n        className=\"ml-2\"\r\n        control={\r\n          <Switch checked={isEdit} onChange={handleEdit} color=\"primary\" />\r\n        }\r\n        label=\"Edit\"\r\n      />\r\n      <Col xs={12} className=\"mt-3\">\r\n        <Row>\r\n          <Col xs={4}>\r\n            <h6 className=\"text-primary\">\r\n              <FontAwesomeIcon icon={faUser} /> Personal Details\r\n            </h6>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card className=\"p-1\">\r\n                  <CardBody className=\"pt-1 mt-3\">\r\n                    <div>\r\n                      <TextField\r\n                        name=\"first_name\"\r\n                        label=\"First Name\"\r\n                        value={firstName}\r\n                        onChange={(e) => setFirstName(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <TextField\r\n                        name=\"last_name\"\r\n                        label=\"Last Name\"\r\n                        value={lastName}\r\n                        onChange={(e) => setLastName(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <TextField\r\n                        type=\"number\"\r\n                        name=\"age\"\r\n                        label=\"Age\"\r\n                        value={age}\r\n                        onChange={(e) => setAge(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <GenderSelect\r\n                        gender={gender}\r\n                        disabled={isDisabled}\r\n                        setGender={setGender}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                      <TextField\r\n                        type=\"number\"\r\n                        inputProps={{ min: \"20.0\", max: \"50.0\", step: \"0.1\" }}\r\n                        name=\"bodyTemperature\"\r\n                        label=\"Body Temperature\"\r\n                        value={bodyTemperature || \"\"}\r\n                        onChange={(e) => setBodyTemperature(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col xs={4} className=\"p-0\">\r\n            <h6 className=\"text-primary\">\r\n              <FontAwesomeIcon icon={faPhoneAlt} /> Contact Details\r\n            </h6>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card className=\"p-1\">\r\n                  <CardBody className=\"pt-1\">\r\n                    <div>\r\n                      <TextField\r\n                        name=\"mobile\"\r\n                        type=\"number\"\r\n                        label=\"Mobile Number\"\r\n                        value={mobileNumber || \"\"}\r\n                        onChange={(e) => setMobileNumber(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <TextField\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        label=\"Email Address\"\r\n                        value={email || \"\"}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        fullWidth\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <h6 className=\"text-primary mt-2 ml-1\">\r\n              <FontAwesomeIcon icon={faMapMarkedAlt} /> Address\r\n            </h6>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card className=\"p-1\">\r\n                  <CardBody className=\"pt-1\">\r\n                    <div className=\"mt-2\">\r\n                      <TextField\r\n                        name=\"zipcode\"\r\n                        label=\"Zipcode\"\r\n                        value={zipcode || \"\"}\r\n                        onChange={(e) => setZipcode(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <TextField\r\n                        label=\"Complete Address\"\r\n                        name=\"complete_address\"\r\n                        value={specificAddress}\r\n                        onChange={(e) => setSpecificAddress(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col xs={4}>\r\n            <h6 className=\"text-primary\">\r\n              <FontAwesomeIcon icon={faUsers} /> Companion Details\r\n            </h6>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card className=\"p-1\">\r\n                  <CardBody className=\"pt-1\">\r\n                    <div className=\"mt-2 mb-2\">\r\n                      <TextField\r\n                        label=\"Child Companion\"\r\n                        name=\"childCompanion\"\r\n                        value={childCompanion}\r\n                        helperText=\"Use comma (,) as separator for multiple child\"\r\n                        onChange={(e) => setChildCompanion(e.target.value)}\r\n                        fullWidth\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <h6 className=\"text-primary mt-3\">\r\n              <FontAwesomeIcon icon={faPeopleArrows} /> Nearest Relative\r\n            </h6>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Card className=\"p-1\">\r\n                  <CardBody className=\"pt-1\">\r\n                    <div className=\"mt-2\">\r\n                      <TextField\r\n                        label=\"Name\"\r\n                        name=\"relativeName\"\r\n                        value={relativeName}\r\n                        onChange={(e) => setRelativeName(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <TextField\r\n                        type=\"number\"\r\n                        label=\"Contact Number\"\r\n                        name=\"relativeContact\"\r\n                        value={relativeContact}\r\n                        onChange={(e) => setRelativeContact(e.target.value)}\r\n                        fullWidth\r\n                        required\r\n                        disabled={isDisabled}\r\n                      />\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        {!isProcessing && (\r\n          <div>\r\n            {isEdit && (\r\n              <Row className=\"mt-3 ml-1\">\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={() => updateProfileHandler()}\r\n                  color=\"primary\"\r\n                  disabled={isDisabled}\r\n                  style={{ minWidth: \"120px\" }}\r\n                >\r\n                  <FontAwesomeIcon icon={faSave} /> Save\r\n                </Button>\r\n              </Row>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Col>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProfileDetailsForm;\r\n","import React, { useState } from \"react\" \r\nimport { Modal, ModalHeader, ModalBody, Row, Col } from \"reactstrap\" \r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\" \r\nimport { faUserCog } from \"@fortawesome/free-solid-svg-icons\" \r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\" \r\nimport ProfileDetailsForm from \"../Forms/ProfileDetailsForm\" \r\nimport { useTheme } from \"../../../context/theme\";\r\n\r\nconst PassengerProfile = (props) => {\r\n  const [isProcessing, setIsProcessing] = useState(false) \r\n  const modalMarginXL = useTheme().modalMarginXL;\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-xl\"\r\n        style={{ marginTop: \"6%\", marginLeft: modalMarginXL }}\r\n      >\r\n        <ModalHeader style={{ lineHeight: \"2\" }} toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faUserCog} /> Passenger Profile\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => e.preventDefault() }>\r\n          <ModalBody className=\"pt-0\">\r\n            <Row>\r\n              <ProfileDetailsForm\r\n                setIsProcessing={setIsProcessing}\r\n                toggle={props.toggle}\r\n              />\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Updating Passenger Profile\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  ) \r\n} \r\n\r\nexport default PassengerProfile \r\n","import React, { useState } from 'react';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst AccommodationType = (props) => {\r\n\r\n    const [accommodationType, setAccommodationType] = useState('');\r\n\r\n    const accommodationTypeOptions = [\r\n        {\r\n            value: \"1st\",\r\n            label: \"1st Class\"\r\n        },\r\n        {\r\n            value: \"2nd\",\r\n            label: \"2nd Class\"\r\n        },\r\n        {\r\n            value: \"3rd\",\r\n            label: \"3rd Class\"\r\n        }\r\n    ]\r\n\r\n    const handleChange = (value) => {\r\n        setAccommodationType(value)\r\n        if(props.setAccommodationType){\r\n            props.setAccommodationType(value)\r\n        }        \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TextField\r\n                select\r\n                label=\"Select Accommodation type\"\r\n                name=\"accommodationType\"\r\n                value={props.accommodationType || accommodationType}\r\n                onChange={(e) => handleChange(e.target.value)}\r\n                fullWidth\r\n                required\r\n                disabled={props.disabled}\r\n            >\r\n                {accommodationTypeOptions.map((option) => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                        {option.label}\r\n                    </MenuItem>\r\n                ))}\r\n            </TextField>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccommodationType;","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useProfile } from \"../../../context/profile\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport Swal from \"sweetalert2\";\r\nimport API from \"../../../utils/Api\";\r\nimport { FormControlLabel, Switch, TextField } from \"@material-ui/core\";\r\nimport { Container, Row, Col, Button, Card, CardBody } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSave, faAnchor, faShip } from \"@fortawesome/free-solid-svg-icons\";\r\nimport DepartureDate from \"../Forms/Fields/DepartureDate\";\r\nimport ArrivalDate from \"../Forms/Fields/ArrivalDate\";\r\nimport AccommodationType from \"../Forms/Fields/AccommodationType\";\r\nimport ShipNameSelect from \"./Fields/ShipNameSelect\";\r\nimport Error from \"../Error/Error\";\r\n\r\nconst TransportDetailsForm = (props) => {\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const selectedProfile = useProfile().selectedProfile;\r\n  const profile_context = useProfile();\r\n  const dateFns = new DateFnsUtils();\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"Invalid Input\");\r\n  const [isSelectedDeparture, setIsSelectedDeparture] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [theProfile, setTheProfile] = useState(\"\");\r\n\r\n  // Travel Details\r\n  const [origin, setOrigin] = useState(\"\");\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [travelHistory, setTravelHistory] = useState(\"\");\r\n\r\n  // Transport Details\r\n  const [shipName, setShipName] = useState(\"\");\r\n  const [transportType, setTransportType] = useState(0);\r\n  const [voyageRoute, setVoyageRoute] = useState(\"\");\r\n  const [departureDate, setDepartureDateChange] = useState(null);\r\n  const [arrivalDate, setArrivalDateChange] = useState(null);\r\n  const [seatNumber, setSeatNumber] = useState(\"\");\r\n  const [parkingNumber, setParkingNumber] = useState(\"\");\r\n  const [transportNumber, setTransportNumber] = useState(\"\");\r\n  const [accommodationType, setAccommodationType] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let transport_details;\r\n    if (typeof selectedProfile[1].vehicle_details === \"object\") {\r\n      transport_details = selectedProfile[1].vehicle_details;\r\n    } else {\r\n      transport_details = JSON.parse(selectedProfile[1].vehicle_details);\r\n    }\r\n    setTheProfile(selectedProfile);\r\n\r\n    // Travel\r\n    setOrigin(selectedProfile[1].fromLocation);\r\n    setDestination(selectedProfile[1].toLocation);\r\n    setDepartureDateChange(\r\n      dateFns.format(\r\n        new Date(selectedProfile[1].fromDate),\r\n        \"MMM/d/yyyy h:mm:ss a\"\r\n      )\r\n    );\r\n    setArrivalDateChange(\r\n      dateFns.format(\r\n        new Date(selectedProfile[1].toDate),\r\n        \"MMM/d/yyyy h:mm:ss a\"\r\n      )\r\n    );\r\n    setTravelHistory(selectedProfile[1].previous_place_travel);\r\n\r\n    // // Transport\r\n    setShipName(transport_details.transport_vehicle);\r\n    setTransportType(selectedProfile[1].mode_of_travel_id);\r\n    setTransportNumber(parseInt(transport_details.transport_no));\r\n    setSeatNumber(selectedProfile[1].seat_no);\r\n    setParkingNumber(selectedProfile[1].parking_space_no);\r\n    setAccommodationType(selectedProfile[1].accommodation_type);\r\n    setVoyageRoute(selectedProfile[1].route.toUpperCase());\r\n    return () => {};\r\n  }, []);\r\n\r\n  const validate = () => {\r\n    let d1 = dateFns.date(departureDate);\r\n    let d2 = dateFns.date(arrivalDate);\r\n\r\n    if (dateFns.isBefore(d2, d1) || dateFns.isEqual(d1, d2)) {\r\n      setIsError(true);\r\n      setErrorMessage(\"Invalid Arrival Date\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleDepartureDateChange = () => {\r\n    setIsSelectedDeparture(true);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEdit(!isEdit);\r\n    if (isDisabled) {\r\n      setIsDisabled(null);\r\n    } else {\r\n      setIsDisabled(true);\r\n    }\r\n  };\r\n\r\n  const checkJSON = (str) => {\r\n    try {\r\n      JSON.parse(str);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const updateProfileHandler = () => {\r\n    if (!validate()) {\r\n      return null;\r\n    }\r\n\r\n    props.setIsProcessing(true);\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n    let childName = \"\";\r\n\r\n    let profile = theProfile[1];\r\n\r\n    // Companion\r\n    if (selectedProfile[1].companions.length > 0) {\r\n      if(checkJSON(selectedProfile[1].companions[0].name)){\r\n        let companions = JSON.parse(selectedProfile[1].companions[0].name);\r\n        companions = JSON.parse(companions[0].name);\r\n        childName = companions[0].name;\r\n      }else{\r\n        childName = selectedProfile[1].companions[0].name;\r\n      }\r\n    }\r\n\r\n    let postData = {\r\n      first_name: profile.profile.first_name,\r\n      last_name: profile.profile.last_name,\r\n      gender: profile.profile.gender,\r\n      age: profile.profile.age,\r\n      email: profile.profile.email,\r\n      mobile: profile.profile.mobile,\r\n      zipcode: profile.profile.address.zipcode,\r\n      specific_address: profile.profile.address.specific_address,\r\n      temp: profile.bodyTemperature,\r\n      barangay: profile.profile.address.barangay,\r\n      person_type: profile.profile.person_type,\r\n      origin: origin,\r\n      destination: destination,\r\n      arrival: dateFns.format(new Date(arrivalDate), \"Y-M-dd H:m:s\"),\r\n      departure: dateFns.format(new Date(departureDate), \"Y-M-dd H:m:s\"),\r\n      transport_type: transportType,\r\n      transport_no: parseInt(transportNumber),\r\n      ship_name: shipName,\r\n      travel_id: profile.id,\r\n      accommodation_type: accommodationType,\r\n      previous_travel: travelHistory,\r\n      parking_space_no: parkingNumber,\r\n      seat_no: seatNumber,\r\n      route: voyageRoute,\r\n      companion_name: childName,\r\n      relative_name: profile.profile.relatives[0].name,\r\n      relative_contact: profile.profile.relatives[0].contact,\r\n    };\r\n    \r\n    API.put(`carrier/update/${profile.profile.id}`, postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          props.setIsProcessing(false);\r\n          setIsProcessing(false);\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Updated!\",\r\n            \"success\"\r\n          );\r\n\r\n          profile_context.loadPassengers();\r\n          props.toggle();\r\n        } else {\r\n          props.setIsProcessing(false);\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        props.setIsProcessing(false);\r\n        setIsProcessing(false);\r\n\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  const getShipDetails = (shipId) => {\r\n    API.get(`carrier/transport/ship/${shipId}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + authToken,\r\n      },\r\n    }).then((result) => {\r\n      let data = result.data;\r\n      if (data != null) {\r\n        setVoyageRoute(data.routes);\r\n        setTransportType(data.transportation_category_id);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"pt-2\">\r\n      {isError && (\r\n        <Col md={12} className=\"text-center m-0 p-0\">\r\n          <h6>\r\n            <Error className=\"p-0 m-0\">{errorMessage}</Error>\r\n          </h6>\r\n        </Col>\r\n      )}\r\n      <FormControlLabel\r\n        className=\"ml-2\"\r\n        control={\r\n          <Switch checked={isEdit} onChange={handleEdit} color=\"primary\" />\r\n        }\r\n        label=\"Edit\"\r\n      />\r\n      <Col md={12} className=\"mt-3\">\r\n        <Row>\r\n          <Col md={12} className=\"text-left mt-0\">\r\n            <h6 className=\"text-primary\">\r\n              <FontAwesomeIcon icon={faAnchor} /> Transport Details\r\n            </h6>\r\n            <Card className=\"p-0\" style={{ border: \"none\" }}>\r\n              <CardBody className=\"m-0 p-0\">\r\n                <Col md={12} className=\"m-0 p-0\">\r\n                  <Card className=\"m-0 p-0\">\r\n                    <CardBody className=\"m-0 p-0 pl-2 pr-2 pb-2 pt-2\">\r\n                      <Row>\r\n                        <Col md={4}>\r\n                          <ShipNameSelect\r\n                            shipName={shipName}\r\n                            setShipName={setShipName}\r\n                            disabled={isDisabled}\r\n                            getShipDetails={getShipDetails}\r\n                          />\r\n                          <TextField\r\n                            className=\"m-0 p-0 mt-1\"\r\n                            onChange={(e) => setTransportNumber(e.target.value)}\r\n                            value={transportNumber}\r\n                            name=\"transportNumber\"\r\n                            label=\"Voyage Number\"\r\n                            fullWidth\r\n                            required\r\n                            disabled={isDisabled}\r\n                          />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          <TextField\r\n                            className=\"mb-1\"\r\n                            name=\"voyageRoute\"\r\n                            label=\"Voyage Route\"\r\n                            value={voyageRoute}\r\n                            onChange={(e) =>\r\n                              setVoyageRoute(e.target.value.toUpperCase())\r\n                            }\r\n                            fullWidth\r\n                            required\r\n                            disabled={isDisabled}\r\n                          />\r\n                          <AccommodationType\r\n                            setAccommodationType={setAccommodationType}\r\n                            accommodationType={accommodationType}\r\n                            disabled={isDisabled}\r\n                          />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          <TextField\r\n                            className=\"m-0 p-0 mb-1\"\r\n                            value={seatNumber || \"\"}\r\n                            onChange={(e) => setSeatNumber(e.target.value)}\r\n                            name=\"seat_number\"\r\n                            label=\"Seat/Bunk Number\"\r\n                            fullWidth\r\n                            required\r\n                            disabled={isDisabled}\r\n                          />\r\n                          <TextField\r\n                            name=\"parking_space_no\"\r\n                            label=\"Parking Space Number\"\r\n                            value={parkingNumber || \"\"}\r\n                            helperText=\"( if with service vehicle )\"\r\n                            onChange={(e) => setParkingNumber(e.target.value)}\r\n                            fullWidth\r\n                            disabled={isDisabled}\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </CardBody>\r\n                  </Card>\r\n                </Col>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n          <Col md={12} className=\"text-left mt-2\">\r\n            <h6 className=\"text-primary\">\r\n              <FontAwesomeIcon icon={faShip} /> Travel Details\r\n            </h6>\r\n            <Card className=\"p-0\" style={{ border: \"none\" }}>\r\n              <CardBody className=\"m-0 p-0\">\r\n                <Col md={12} className=\"m-0 p-0\">\r\n                  <Card className=\"m-0 p-0 pb-2\">\r\n                    <CardBody className=\"m-0 p-0 pl-2 pr-2 pb-2 pt-2\">\r\n                      <Row>\r\n                        <Col md={4}>\r\n                          <TextField\r\n                            label=\"Port of Embarkation\"\r\n                            name=\"origin\"\r\n                            value={origin || \"\"}\r\n                            onChange={(e) => setOrigin(e.target.value)}\r\n                            fullWidth\r\n                            required\r\n                            disabled={isDisabled}\r\n                          />\r\n                          <TextField\r\n                            label=\"Port of Dis-embarkation\"\r\n                            name=\"destination\"\r\n                            value={destination || \"\"}\r\n                            onChange={(e) => setDestination(e.target.value)}\r\n                            fullWidth\r\n                            required\r\n                            disabled={isDisabled}\r\n                          />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          <div>\r\n                            <DepartureDate\r\n                              pickedDate={handleDepartureDateChange}\r\n                              departureDate={departureDate}\r\n                              setDepartureDateChange={setDepartureDateChange}\r\n                              disabled={isDisabled}\r\n                            />\r\n                          </div>\r\n                          <div>\r\n                            <ArrivalDate\r\n                              isSelectedDeparture={isSelectedDeparture}\r\n                              departure={departureDate}\r\n                              arrivalDate={arrivalDate}\r\n                              setArrivalDateChange={setArrivalDateChange}\r\n                              disabled={isDisabled}\r\n                            />\r\n                          </div>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          <TextField\r\n                            label=\"Place of Travel History\"\r\n                            name=\"travelHistory\"\r\n                            helperText=\"( within 14 Days )\"\r\n                            value={travelHistory || \"\"}\r\n                            onChange={(e) => setTravelHistory(e.target.value)}\r\n                            fullWidth\r\n                            required\r\n                            disabled={isDisabled}\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </CardBody>\r\n                  </Card>\r\n                </Col>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        {!isProcessing && (\r\n          <div>\r\n            {isEdit && (\r\n              <Row className=\"mt-3 ml-1\">\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={() => updateProfileHandler()}\r\n                  color=\"primary\"\r\n                  disabled={isDisabled}\r\n                  style={{ minWidth: \"120px\" }}\r\n                >\r\n                  <FontAwesomeIcon icon={faSave} /> Save\r\n                </Button>\r\n              </Row>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Col>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TransportDetailsForm;\r\n","import React, { useEffect, useState } from \"react\" \r\nimport { Modal, ModalHeader, ModalBody, Row, Col } from \"reactstrap\" \r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\" \r\nimport { faUserCog } from \"@fortawesome/free-solid-svg-icons\" \r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\" \r\nimport TransportDetailsForm from \"../Forms/TransportDetailsForm\" \r\nimport { useProfile } from \"../../../context/profile\";\r\nimport { useTheme } from \"../../../context/theme\";\r\n\r\nconst TransportDetails = (props) => {\r\n  const [isProcessing, setIsProcessing] = useState(false) \r\n  const selectedProfile = useProfile().selectedProfile;\r\n  const modalMarginXL = useTheme().modalMarginXL;\r\n  \r\n  const [fname, setFname] = useState(\"\")\r\n  const [lname, setLname] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    setFname(selectedProfile[2].first_name)\r\n    setLname(selectedProfile[2].last_name)\r\n  },[selectedProfile])\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-xl\"\r\n        style={{ marginTop: \"5%\", marginLeft: modalMarginXL }}\r\n      >\r\n        <ModalHeader style={{ lineHeight: \"2\" }} toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faUserCog} /> Transport Details: <span className=\"text-success\">{`${fname.toUpperCase()} ${lname.toUpperCase()}`}</span>\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => e.preventDefault() }>\r\n          <ModalBody className=\"pt-0\">\r\n            <Row>\r\n              <TransportDetailsForm\r\n                setIsProcessing={setIsProcessing}\r\n                toggle={props.toggle}\r\n              />\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Updating Transport Details\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  ) \r\n} \r\n\r\nexport default TransportDetails \r\n","import React, { useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nconst ScheduleSelect = (props) => {\r\n  const [selectedSchedule, setSelectedSchedule] = useState(\"\");\r\n\r\n  const handleScheduleSelection = (value) => {\r\n    setSelectedSchedule(value);\r\n    if (props.handleScheduleSelection) {\r\n      props.handleScheduleSelection(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        select\r\n        label=\"Select Schedule\"\r\n        name=\"schedule\"\r\n        value={props.selectedSchedule || selectedSchedule}\r\n        onChange={(e) => handleScheduleSelection(e.target.value)}\r\n        fullWidth\r\n        required\r\n        disabled={!props.disabled || null}\r\n        className=\"text-left mb-1\"\r\n      >\r\n        {props.scheduleOptions.map((option) => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.label}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScheduleSelect;\r\n","import React, { useState } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useProfile } from \"../../../context/profile\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { Container, Row, Col, Button, Card, CardBody, Form } from \"reactstrap\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faMapMarkedAlt,\r\n  faPhoneAlt,\r\n  faSave,\r\n  faUser,\r\n  faUsers,\r\n  faPeopleArrows,\r\n  faArrowCircleRight,\r\n  faArrowCircleLeft,\r\n  faInfoCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Swal from \"sweetalert2\";\r\nimport API from \"../../../utils/Api\";\r\nimport Error from \"../Error/Error\";\r\nimport GenderSelect from \"./Fields/GenderSelect\";\r\nimport ShipNameSelect from \"./Fields/ShipNameSelect\";\r\nimport AccommodationType from \"./Fields/AccommodationType\";\r\nimport ScheduleSelect from \"./Fields/ScheduleSelect\";\r\nimport DirectionsBoatIcon from \"@material-ui/icons/DirectionsBoat\";\r\n\r\nconst PassengerForm = (props) => {\r\n  const dateFns = new DateFnsUtils();\r\n  const authToken = useAuth().authTokens;\r\n  const profile_context = useProfile();\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"Invalid Input\");\r\n  const [isSelectedShip, setIsSelectedShip] = useState(false);\r\n\r\n  const [steps, setSteps] = useState(\"1\");\r\n\r\n  const [shipSchedules, setShipSchedules] = useState([]);\r\n  const [scheduleOptions, setScheduleOptions] = useState([]);\r\n\r\n  // Personal\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [age, setAge] = useState(\"\");\r\n  const [bodyTemperature, setBodyTemperature] = useState(\"\");\r\n  // Contact\r\n  const [email, setEmail] = useState(\"\");\r\n  const [mobileNumber, setMobileNumber] = useState(\"\");\r\n  // Relative\r\n  const [relativeName, setRelativeName] = useState(\"\");\r\n  const [relativeContact, setRelativeContact] = useState(\"\");\r\n  // Address\r\n  const [zipcode, setZipcode] = useState(\"\");\r\n  const [specificAddress, setSpecificAddress] = useState(\"\");\r\n  // Child Companion\r\n  const [childCompanion, setChildCompanion] = useState(\"\");\r\n\r\n  // Travel Details\r\n  const [origin, setOrigin] = useState(\"\");\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [travelHistory, setTravelHistory] = useState(\"\");\r\n\r\n  // Transport Details\r\n  const [shipName, setShipName] = useState(\"\");\r\n  const [transportType, setTransportType] = useState(\"\");\r\n  const [voyageRoute, setVoyageRoute] = useState(\"\");\r\n  const [departureDate, setDepartureDateChange] = useState(null);\r\n  const [arrivalDate, setArrivalDateChange] = useState(null);\r\n  const [seatNumber, setSeatNumber] = useState(\"\");\r\n  const [parkingNumber, setParkingNumber] = useState(\"\");\r\n  const [transportNumber, setTransportNumber] = useState(\"\");\r\n  const [accommodationType, setAccommodationType] = useState(\"\");\r\n\r\n  const goto = (step) => {\r\n    setSteps(step);\r\n  };\r\n\r\n  const validate = () => {\r\n    let d1 = dateFns.date(departureDate);\r\n    let d2 = dateFns.date(arrivalDate);\r\n\r\n    if (dateFns.isBefore(d2, d1) || dateFns.isEqual(d1, d2)) {\r\n      setIsError(true);\r\n      setErrorMessage(\"Invalid Arrival Date\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const getShipDetails = (shipId) => {\r\n    API.get(`carrier/transport/ship/${shipId}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + authToken,\r\n      },\r\n    }).then((result) => {\r\n      let data = result.data;\r\n      if (data != null) {\r\n        setVoyageRoute(data.routes);\r\n        setTransportType(data.transportation_category_id);\r\n      }\r\n    });\r\n  };\r\n\r\n  const getShipSchedules = (shipId) => {\r\n    API.get(`carrier/transport/voyage/scheduled-ships/${shipId}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + authToken,\r\n      },\r\n    }).then((result) => {\r\n      if (result.status === 200) {\r\n        let data = result.data;\r\n        setShipSchedules(data);\r\n        if (data.length > 0) {\r\n          let scheduleList = data.map((value, index) => {\r\n            let dates = dateFns.format(\r\n              new Date(value.departure),\r\n              \"MMM/d/yyyy h:mm:ss a\"\r\n            );\r\n\r\n            return {\r\n              value: value.id,\r\n              label: dates,\r\n            };\r\n          });\r\n\r\n          setScheduleOptions(scheduleList);\r\n          setIsSelectedShip(true);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleScheduleSelection = (scheduleid) => {\r\n    let filtered = shipSchedules.filter((d) => {\r\n      return d.id === scheduleid;\r\n    });\r\n\r\n    setOrigin(filtered[0].fromLocation);\r\n    setDestination(filtered[0].toLocation);\r\n    setTransportNumber(filtered[0].voyage);\r\n    setArrivalDateChange(\r\n      dateFns.format(new Date(filtered[0].arrival), \"Y-M-dd H:m:s\")\r\n    );\r\n    setDepartureDateChange(\r\n      dateFns.format(new Date(filtered[0].departure), \"Y-M-dd H:m:s\")\r\n    );\r\n  };\r\n\r\n  const saveProfileHandler = (e) => {\r\n    e.preventDefault();\r\n    if (steps === \"1\") {\r\n      goto(\"2\");\r\n      return null;\r\n    }\r\n\r\n    if (!validate()) {\r\n      return null;\r\n    }\r\n\r\n    props.setIsProcessing(true);\r\n    setIsProcessing(true);\r\n\r\n    let postData = {\r\n      first_name: firstName,\r\n      last_name: lastName,\r\n      gender: gender,\r\n      age: age,\r\n      email: email,\r\n      mobile: mobileNumber,\r\n      zipcode: parseInt(zipcode),\r\n      specific_address: specificAddress,\r\n      temp: bodyTemperature,\r\n      barangay: \"\",\r\n      origin: origin,\r\n      destination: destination,\r\n      arrival: arrivalDate,\r\n      departure: departureDate,\r\n      transport_type: transportType,\r\n      transport_no: parseInt(transportNumber),\r\n      ship_name: shipName,\r\n      accommodation_type: accommodationType,\r\n      previous_travel: travelHistory,\r\n      parking_space_no: parkingNumber,\r\n      seat_no: seatNumber,\r\n      route: voyageRoute,\r\n      companion_name: childCompanion,\r\n      relative_name: relativeName,\r\n      relative_contact: relativeContact,\r\n    };\r\n\r\n    API.post(`carrier/add-profile`, postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + authToken.access_token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          props.setIsProcessing(false);\r\n          setIsProcessing(false);\r\n          let res = Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Updated!\",\r\n            \"success\"\r\n          );\r\n\r\n          res.then(() => {\r\n            profile_context.loadPassengers();\r\n            props.toggle();\r\n          });\r\n        } else {\r\n          props.setIsProcessing(false);\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        props.setIsProcessing(false);\r\n        setIsProcessing(false);\r\n\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"pt-2\">\r\n      {isError && (\r\n        <Col md={12} className=\"text-center m-0 p-0\">\r\n          <h6>\r\n            <Error className=\"p-0 m-0\">{errorMessage}</Error>\r\n          </h6>\r\n        </Col>\r\n      )}\r\n      <Col xs={12} className=\"mt-3\">\r\n        <Form onSubmit={(e) => saveProfileHandler(e)}>\r\n          <Row>\r\n            <Col md={12} className=\"mt-0 pt-0 mb-2 text-danger\">\r\n              <h6>\r\n                <FontAwesomeIcon icon={faInfoCircle} /> Note: Please fill in the\r\n                required (*) fields\r\n              </h6>\r\n            </Col>\r\n            {steps === \"1\" && (\r\n              <Container fluid>\r\n                <Row>\r\n                  <Col xs={4}>\r\n                    <h6 className=\"text-primary\">\r\n                      <FontAwesomeIcon icon={faUser} /> Personal Details\r\n                    </h6>\r\n                    <Row>\r\n                      <Col xs={12}>\r\n                        <Card className=\"p-1\">\r\n                          <CardBody className=\"pt-1 mt-3\">\r\n                            <div>\r\n                              <TextField\r\n                                name=\"first_name\"\r\n                                label=\"First Name\"\r\n                                value={firstName}\r\n                                onChange={(e) => setFirstName(e.target.value)}\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <TextField\r\n                                name=\"last_name\"\r\n                                label=\"Last Name\"\r\n                                value={lastName}\r\n                                onChange={(e) => setLastName(e.target.value)}\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <TextField\r\n                                type=\"number\"\r\n                                name=\"age\"\r\n                                label=\"Age\"\r\n                                value={age}\r\n                                onChange={(e) => setAge(e.target.value)}\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <GenderSelect\r\n                                gender={gender}\r\n                                setGender={setGender}\r\n                              />\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                              <TextField\r\n                                type=\"number\"\r\n                                inputProps={{\r\n                                  min: \"20.0\",\r\n                                  max: \"50.0\",\r\n                                  step: \"0.1\",\r\n                                }}\r\n                                name=\"bodyTemperature\"\r\n                                label=\"Body Temperature\"\r\n                                value={bodyTemperature || \"\"}\r\n                                onChange={(e) =>\r\n                                  setBodyTemperature(e.target.value)\r\n                                }\r\n                                fullWidth\r\n                              />\r\n                            </div>\r\n                          </CardBody>\r\n                        </Card>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col xs={4} className=\"p-0\">\r\n                    <h6 className=\"text-primary\">\r\n                      <FontAwesomeIcon icon={faPhoneAlt} /> Contact Details\r\n                    </h6>\r\n                    <Row>\r\n                      <Col xs={12}>\r\n                        <Card className=\"p-1\">\r\n                          <CardBody className=\"pt-1\">\r\n                            <div>\r\n                              <TextField\r\n                                name=\"mobile\"\r\n                                type=\"number\"\r\n                                label=\"Mobile Number\"\r\n                                value={mobileNumber || \"\"}\r\n                                onChange={(e) =>\r\n                                  setMobileNumber(e.target.value)\r\n                                }\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <TextField\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                label=\"Email Address\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                fullWidth\r\n                              />\r\n                            </div>\r\n                          </CardBody>\r\n                        </Card>\r\n                      </Col>\r\n                    </Row>\r\n                    <h6 className=\"text-primary mt-2 ml-1\">\r\n                      <FontAwesomeIcon icon={faMapMarkedAlt} /> Address\r\n                    </h6>\r\n                    <Row>\r\n                      <Col xs={12}>\r\n                        <Card className=\"p-1\">\r\n                          <CardBody className=\"pt-1\">\r\n                            <div className=\"mt-2\">\r\n                              <TextField\r\n                                type=\"number\"\r\n                                name=\"zipcode\"\r\n                                label=\"Zipcode\"\r\n                                value={zipcode}\r\n                                onChange={(e) => setZipcode(e.target.value)}\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <TextField\r\n                                label=\"Complete Address\"\r\n                                name=\"complete_address\"\r\n                                value={specificAddress}\r\n                                onChange={(e) =>\r\n                                  setSpecificAddress(e.target.value)\r\n                                }\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </CardBody>\r\n                        </Card>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col xs={4}>\r\n                    <h6 className=\"text-primary\">\r\n                      <FontAwesomeIcon icon={faUsers} /> Companion Details\r\n                    </h6>\r\n                    <Row>\r\n                      <Col xs={12}>\r\n                        <Card className=\"p-1\">\r\n                          <CardBody className=\"pt-1\">\r\n                            <div className=\"mt-2 mb-2\">\r\n                              <TextField\r\n                                label=\"Child Companion\"\r\n                                name=\"childCompanion\"\r\n                                value={childCompanion}\r\n                                helperText=\"Use comma (,) as separator for multiple child\"\r\n                                onChange={(e) =>\r\n                                  setChildCompanion(e.target.value)\r\n                                }\r\n                                fullWidth\r\n                              />\r\n                            </div>\r\n                          </CardBody>\r\n                        </Card>\r\n                      </Col>\r\n                    </Row>\r\n                    <h6 className=\"text-primary mt-3\">\r\n                      <FontAwesomeIcon icon={faPeopleArrows} /> Nearest Relative\r\n                    </h6>\r\n                    <Row>\r\n                      <Col xs={12}>\r\n                        <Card className=\"p-1\">\r\n                          <CardBody className=\"pt-1\">\r\n                            <div className=\"mt-2\">\r\n                              <TextField\r\n                                label=\"Name\"\r\n                                name=\"relativeName\"\r\n                                value={relativeName}\r\n                                onChange={(e) =>\r\n                                  setRelativeName(e.target.value)\r\n                                }\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <TextField\r\n                                type=\"number\"\r\n                                label=\"Contact Number\"\r\n                                name=\"relativeContact\"\r\n                                value={relativeContact}\r\n                                onChange={(e) =>\r\n                                  setRelativeContact(e.target.value)\r\n                                }\r\n                                fullWidth\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </CardBody>\r\n                        </Card>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </Container>\r\n            )}\r\n            {steps === \"2\" && (\r\n              <Container fluid>\r\n                <Row>\r\n                  <Col md={12}>\r\n                    <h6 className=\"text-primary\">\r\n                      <DirectionsBoatIcon /> Transport Details\r\n                    </h6>\r\n                  </Col>\r\n                  <Col md={4}>\r\n                    <ShipNameSelect\r\n                      shipName={shipName}\r\n                      setShipName={setShipName}\r\n                      getShipDetails={getShipDetails}\r\n                      getShipSchedules={getShipSchedules}\r\n                    />\r\n                    <TextField\r\n                      className=\"m-0 p-0 mt-1\"\r\n                      value={seatNumber}\r\n                      onChange={(e) => setSeatNumber(e.target.value)}\r\n                      name=\"seat_number\"\r\n                      label=\"Seat/Bunk Number\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                    <TextField\r\n                      hidden\r\n                      className=\"m-0 p-0 mt-1\"\r\n                      onChange={(e) => setTransportNumber(e.target.value)}\r\n                      value={transportNumber}\r\n                      name=\"transportNumber\"\r\n                      label=\"Voyage Number\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                  <Col md={4}>\r\n                    <TextField\r\n                      hidden\r\n                      className=\"mb-1\"\r\n                      name=\"voyageRoute\"\r\n                      label=\"Voyage Route\"\r\n                      value={voyageRoute}\r\n                      onChange={(e) =>\r\n                        setVoyageRoute(e.target.value.toUpperCase())\r\n                      }\r\n                      fullWidth\r\n                      disabled={true}\r\n                    />\r\n                    <ScheduleSelect\r\n                      handleScheduleSelection={(id) =>\r\n                        handleScheduleSelection(id)\r\n                      }\r\n                      scheduleOptions={scheduleOptions}\r\n                      disabled={isSelectedShip}\r\n                    />\r\n                    <TextField\r\n                      name=\"parking_space_no\"\r\n                      label=\"Parking Space Number\"\r\n                      value={parkingNumber}\r\n                      helperText=\"( if with service vehicle )\"\r\n                      onChange={(e) => setParkingNumber(e.target.value)}\r\n                      fullWidth\r\n                    />\r\n                  </Col>\r\n                  <Col md={4}>\r\n                    <AccommodationType\r\n                      setAccommodationType={setAccommodationType}\r\n                      accommodationType={accommodationType}\r\n                    />\r\n                    <TextField\r\n                      className=\"mt-1\"\r\n                      label=\"Place of Travel History\"\r\n                      name=\"travelHistory\"\r\n                      helperText=\"( within 14 Days )\"\r\n                      value={travelHistory || \"\"}\r\n                      onChange={(e) => setTravelHistory(e.target.value)}\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Container>\r\n            )}\r\n          </Row>\r\n          {steps === \"1\" && (\r\n            <Row className=\"mt-3 mr-1 text-right d-flex\">\r\n              <Button\r\n                className=\"ml-auto\"\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                style={{ minWidth: \"120px\" }}\r\n              >\r\n                Next{\" \"}\r\n                <FontAwesomeIcon\r\n                  icon={faArrowCircleRight}\r\n                  className=\"mt-1 ml-1\"\r\n                />\r\n              </Button>\r\n            </Row>\r\n          )}\r\n          {steps === \"2\" && (\r\n            <div>\r\n              {!isProcessing && (\r\n                <Row className=\"mt-3 mr-1 text-right d-flex\">\r\n                  <Button\r\n                    className=\"ml-auto mr-1\"\r\n                    type=\"button\"\r\n                    onClick={() => goto(\"1\")}\r\n                    color=\"primary\"\r\n                    style={{ minWidth: \"120px\" }}\r\n                  >\r\n                    <FontAwesomeIcon\r\n                      icon={faArrowCircleLeft}\r\n                      className=\"mt-1 ml-1\"\r\n                    />{\" \"}\r\n                    Back\r\n                  </Button>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    style={{ minWidth: \"120px\" }}\r\n                  >\r\n                    Save <FontAwesomeIcon icon={faSave} className=\"mt-1 ml-1\" />\r\n                  </Button>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          )}\r\n        </Form>\r\n      </Col>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PassengerForm;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, ModalHeader, ModalBody, Row, Col } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUserCog } from \"@fortawesome/free-solid-svg-icons\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\nimport PassengerForm from \"../Forms/PassengerForm\";\r\nimport { useTheme } from \"../../../context/theme\";\r\n\r\nconst NewPassenger = (props) => {\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const modalMarginXL = useTheme().modalMarginXL;\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        toggle={props.toggle}\r\n        className=\"modal-xl\"\r\n        style={{ marginTop: \"6%\", marginLeft: modalMarginXL }}\r\n      >\r\n        <ModalHeader style={{ lineHeight: \"2\" }} toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faUserCog} /> Passenger Profile\r\n        </ModalHeader>\r\n        <ModalBody className=\"pt-0\">\r\n          <Row>            \r\n            <PassengerForm\r\n              setIsProcessing={setIsProcessing}\r\n              toggle={props.toggle}\r\n            />\r\n          </Row>\r\n          <div>\r\n            {isProcessing && (\r\n              <Row className=\"p-2\">\r\n                <Col className=\"text-center\">\r\n                  <LinearProgressBarWithLabel title=\"Create New Passenger Profile\" />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewPassenger;\r\n","import React, { useState } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCog,\r\n  faFileImport,\r\n  faUserPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    // border: \"1px solid #d3d4d5\",\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\",\r\n    }}\r\n    transformOrigin={{\r\n      vertical: \"top\",\r\n      horizontal: \"center\",\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    root: {\r\n      \"&:focus\": {\r\n        \"& .MuiListItemIcon-root\":{\r\n          color: \"#757575\",\r\n        },\r\n        \"& .MuiListItemText-primary\": {\r\n          color: \"#454545\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function OptionMenuButton(props) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleMenu = (menu) => {\r\n    const menuOption = {\r\n      manifest: 1,\r\n      passenger: 2\r\n    };\r\n\r\n    handleClose();\r\n\r\n    switch (menu) {\r\n      case menuOption.manifest:\r\n        if (props.toggleNewManifestModal) {\r\n          props.toggleNewManifestModal();\r\n        }\r\n        break;\r\n      case menuOption.passenger:\r\n        if (props.toggleNewPassengerModal) {\r\n          props.toggleNewPassengerModal();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-1 pt-1 ml-1 float-right\">\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n        className=\"p-1 pr-2 pl-2 menuButton\"\r\n      >\r\n        <FontAwesomeIcon icon={faCog} className=\"mr-1\" /> Options\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <StyledMenuItem onClick={() => handleMenu(1)}>\r\n          <ListItemIcon>\r\n            <FontAwesomeIcon icon={faFileImport} />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Import Manifest\" />\r\n        </StyledMenuItem>\r\n        <StyledMenuItem onClick={() => handleMenu(2)}>\r\n          <ListItemIcon>\r\n            <FontAwesomeIcon icon={faUserPlus} />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"New Passenger\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { ProfileContext } from \"../../../context/profile\";\r\nimport API from \"../../../utils/Api\";\r\nimport { debounce, isArray } from \"lodash\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { Container, Button, Row, Col } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faShip, faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport DataTable from \"../../UI/Datatable/Datatable\";\r\nimport NewPassengerManifestsModal from \"../../UI/Modals/NewPassengerManifests\";\r\nimport PassengerProfile from \"../../UI/Modals/PassengerProfile\";\r\nimport TransportDetails from \"../../UI/Modals/TransportDetails\";\r\nimport NewPassenger from \"../../UI/Modals/NewPassenger\";\r\nimport MenuButton from \"../../UI/Common/OptionMenuButton\";\r\nimport Axios from \"axios\";\r\n\r\nconst Passengers = (props) => {\r\n  const token = useAuth().authTokens;\r\n  const [passengerData, setPassengerData] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState();\r\n  const [selectedProfile, setSelectedProfile] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Modals\r\n  const [newManifestModal, setNewManifestModal] = useState(false);\r\n  const toggleNewManifestModal = () => setNewManifestModal(!newManifestModal);\r\n  const [newPassenger, setNewPassenger] = useState(false);\r\n  const toggleNewPassengerModal = () => setNewPassenger(!newPassenger);\r\n  const [passengerProfile, setPassengerProfile] = useState(false);\r\n  const togglePassengerProfileModal = () =>\r\n    setPassengerProfile(!passengerProfile);\r\n  const [transportDetails, setTransportDetails] = useState(false);\r\n  const toggleTransportDetails = () => setTransportDetails(!transportDetails);\r\n  const [newShip, setNewShip] = useState(false);\r\n  const toggleNewShip = () => setNewShip(!newShip);\r\n\r\n  const formatData = (data = null) => {\r\n    if (data === null) {\r\n      return null;\r\n    }\r\n\r\n    if (isArray(data)) {\r\n      return formatArrayData(data);\r\n    }\r\n\r\n    return formatObjectData(data);\r\n  };\r\n\r\n  const formatObjectData = (data) => {\r\n    let person = [];\r\n    let index = 0;\r\n\r\n    for (const [key, value] of Object.entries(data)) {\r\n      let profile;\r\n      let rawData = value;\r\n\r\n      profile = rawData.profile;\r\n\r\n      person[index] = [\r\n        profile.id,\r\n        `${profile.first_name.toUpperCase()} ${profile.last_name.toUpperCase()}`,\r\n        profile.age,\r\n        profile.gender.toUpperCase() === \"F\" ? \"FEMALE\" : \"MALE\",\r\n        profile.email,\r\n        profile.mobile === null ? \"N/A\" : profile.mobile,\r\n        [index, rawData, profile],\r\n      ];\r\n\r\n      index++;\r\n    }\r\n\r\n    return person;\r\n  };\r\n\r\n  const formatArrayData = (data) => {\r\n    if (data.length > 0) {\r\n      let person = [];\r\n\r\n      return data.map((value, index) => {\r\n        let profile;\r\n        let rawData = value;\r\n\r\n        profile = rawData.profile;\r\n        \r\n        person = [\r\n          profile.id,\r\n          `${profile.first_name.toUpperCase()} ${profile.last_name.toUpperCase()}`,\r\n          profile.age,\r\n          profile.gender.toUpperCase() === \"F\" ? \"FEMALE\" : \"MALE\",\r\n          profile.email,\r\n          profile.mobile === null ? \"N/A\" : profile.mobile,\r\n          [index, rawData, profile],\r\n        ];\r\n\r\n        return person;\r\n      });\r\n    }\r\n  };\r\n\r\n  const loadPassengers = useCallback(() => {\r\n    setIsLoading(true);\r\n    let cancelToken = Axios.cancelToken;\r\n\r\n    API.get(\"carrier/trace-profiles\", {\r\n      cancelToken: cancelToken,\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        let data = result.data.data;\r\n        let currentPage = result.data.current_page;\r\n\r\n        if (Object.keys(data).length > 0) {\r\n          let passengers = formatData(data);\r\n          setCurrentPage(currentPage);\r\n          setPassengerData(passengers);\r\n        }\r\n\r\n        setIsLoading(false);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const appendProfile = (page) => {\r\n    API.get(`carrier/trace-profiles?page=${page}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    }).then((result) => {\r\n      let data = result.data.data;\r\n\r\n      let newPassengerProfiles = [];\r\n      let passengers = formatData(data);\r\n\r\n      if (result.data.current_page > currentPage) {\r\n        setCurrentPage(result.data.current_page);\r\n        if (passengers !== undefined) {\r\n          newPassengerProfiles = [...passengerData, ...passengers];\r\n        } else {\r\n          newPassengerProfiles = passengerData;\r\n        }\r\n      }\r\n\r\n      setPassengerData(newPassengerProfiles);\r\n    });\r\n  };\r\n\r\n  const debounceSearchHandler = debounce(\r\n    (queryData) => searchProfile(queryData),\r\n    500\r\n  );\r\n\r\n  const searchProfile = (query) => {\r\n    return API.post(\r\n      `carrier/search`,\r\n      {\r\n        _text: query,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: \"bearer \" + token.access_token,\r\n        },\r\n      }\r\n    ).then((result) => {\r\n      let data = result.data;\r\n      let passengers = formatData(data);\r\n      setPassengerData(passengers);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  const handlePassengerProfileDetails = (data) => {\r\n    setSelectedProfile(data);\r\n    togglePassengerProfileModal();\r\n  };\r\n\r\n  const handlePassengerTransportDetails = (data) => {\r\n    setSelectedProfile(data);\r\n    toggleTransportDetails();\r\n  };\r\n\r\n  const columns = [\r\n    \"Ref #\",\r\n    \"Name\",\r\n    \"Age\",\r\n    \"Gender\",\r\n    \"Email\",\r\n    \"Contact\",\r\n    {\r\n      name: \"Actions\",\r\n      options: {\r\n        customBodyRender: (value, tableMeta, updateValue) => {\r\n          return (\r\n            <div style={{ color: \"#1a1751\" }}>\r\n              <Tooltip title=\"Profile Details\" placement=\"top\">\r\n                <Button\r\n                  color=\"link\"\r\n                  className=\"p-1 m-0 btn\"\r\n                  onClick={() => handlePassengerProfileDetails(value)}\r\n                >\r\n                  <FontAwesomeIcon icon={faUser} />\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip title=\"Transport Details\" placement=\"top\">\r\n                <Button\r\n                  color=\"link\"\r\n                  className=\"p-1 m-0 btn text-primary\"\r\n                  onClick={() => handlePassengerTransportDetails(value)}\r\n                >\r\n                  <FontAwesomeIcon icon={faShip} />\r\n                </Button>\r\n              </Tooltip>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  const options = {\r\n    fixHeader: true,\r\n    filterType: \"dropdown\",\r\n    responsive: \"vertical\",\r\n    tableBodyHeight: \"350px\",\r\n    selectableRows: \"none\",\r\n    filter: false,\r\n    viewColumns: false,\r\n    elevation: 0,\r\n    print: false,\r\n    download: false,\r\n    rowsPerPage: 10,\r\n    rowsPerPageOptions: [10, 30, 100],\r\n    onChangePage: (p) => {\r\n      if (p % 2 !== 0) {\r\n        if (p >= currentPage) {\r\n          appendProfile(currentPage + 1);\r\n        }\r\n      }\r\n    },\r\n    onSearchClose: () => {\r\n      setIsLoading(false);\r\n      loadPassengers();\r\n    },\r\n    searchProps: {\r\n      onKeyUp: (e) => {\r\n        let queryString = e.target.value;\r\n        if (queryString.length >= 2) {\r\n          setIsLoading(true);\r\n          debounceSearchHandler(queryString);\r\n        }\r\n      },\r\n    },\r\n    // this is to disable auto search on local data\r\n    customSearch: (query, row, col) => {\r\n      return passengerData.length > 0;\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadPassengers();\r\n    return () => {};\r\n  }, [loadPassengers]);\r\n\r\n  return (\r\n    <ProfileContext.Provider\r\n      value={{ passengerData, loadPassengers, selectedProfile }}\r\n    >\r\n      <Container fluid=\"true\" className=\"mt-0 p-0 m-0 \">\r\n        <Row className=\"m-0 p-0 text-right\">\r\n          <Col md={12}>\r\n            <Row>\r\n              <Col md={12} className=\"m-0 p-0\">\r\n                <MenuButton\r\n                  toggleNewManifestModal={toggleNewManifestModal}\r\n                  toggleNewPassengerModal={toggleNewPassengerModal}\r\n                  toggleNewShip={toggleNewShip}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col md={12} className=\"pl-0 ml-0 pr-0 mr-0 text-left\">\r\n            <DataTable\r\n              title=\"Passengers\"\r\n              loadPassengers={loadPassengers}\r\n              data={passengerData}\r\n              isLoading={isLoading}\r\n              columns={columns}\r\n              options={options}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {newManifestModal && (\r\n        <NewPassengerManifestsModal\r\n          isOpen={newManifestModal}\r\n          loadPassengers={loadPassengers}\r\n          toggle={toggleNewManifestModal}\r\n        />\r\n      )}\r\n      {passengerProfile && (\r\n        <PassengerProfile\r\n          isOpen={passengerProfile}\r\n          toggle={togglePassengerProfileModal}\r\n        />\r\n      )}\r\n      {transportDetails && (\r\n        <TransportDetails\r\n          isOpen={transportDetails}\r\n          toggle={toggleTransportDetails}\r\n        />\r\n      )}\r\n      {newPassenger && (\r\n        <NewPassenger\r\n          isOpen={newPassenger}\r\n          toggle={toggleNewPassengerModal}\r\n          loadPassengers={loadPassengers}\r\n        />\r\n      )}\r\n    </ProfileContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Passengers;\r\n","import { createContext, useContext } from 'react' \r\n\r\nexport const ScheduleContext = createContext() \r\n\r\nexport function useSchedule() {\r\n  return useContext(ScheduleContext) \r\n}","import React, { useState } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCalendarDay,\r\n  faCog,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    // border: \"1px solid #d3d4d5\",\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\",\r\n    }}\r\n    transformOrigin={{\r\n      vertical: \"top\",\r\n      horizontal: \"center\",\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    \"&:focus\": {\r\n      \"& .MuiListItemIcon-root\":{\r\n        color: \"#757575\",\r\n      },\r\n      \"& .MuiListItemText-primary\": {\r\n        color: \"#454545\",\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function OptionMenuSchedulesButton(props) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleMenu = (menu) => {\r\n    const menuOption = {\r\n      schedule: 1,\r\n    };\r\n\r\n    handleClose();\r\n\r\n    switch (menu) {\r\n      case menuOption.schedule:\r\n        if (props.toggle) {\r\n          props.toggle();\r\n        }\r\n        break;     \r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-1 pt-1 ml-1 float-right\">\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n        className=\"p-1 pr-2 pl-2 menuButton\"\r\n      >\r\n        <FontAwesomeIcon icon={faCog} className=\"mr-1\" /> Options\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <StyledMenuItem onClick={() => handleMenu(1)}>\r\n          <ListItemIcon>\r\n            <FontAwesomeIcon icon={faCalendarDay} />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"New Schedule\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useSchedule } from \"../../../context/schedules\";\r\nimport { useTheme } from \"../../../context/theme\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\";\r\n\r\nimport { TextField } from \"@material-ui/core\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCalendarDay,\r\n  faInfoCircle,\r\n  faSave,\r\n  faWindowClose,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Error from \"../Error/Error\";\r\nimport ShipNameSelect from \"../Forms/Fields/ShipNameSelect\";\r\nimport ArrivalDate from \"../Forms/Fields/ArrivalDate\";\r\nimport DepartureDate from \"../Forms/Fields/DepartureDate\";\r\n\r\nconst NewSchedule = (props) => {\r\n  const dateFns = new DateFnsUtils();\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const schedule_context = useSchedule();\r\n  const modalMarginLG = useTheme().modalMarginLG;\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"Invalid Input\");\r\n  const [isSelectedDeparture, setIsSelectedDeparture] = useState(false);\r\n\r\n  const [ship, setShip] = useState(null);\r\n  const [voyage, setVoyage] = useState(0);\r\n  const [departure, setDeparture] = useState(null);\r\n  const [arrival, setArrival] = useState(null);\r\n  const [fromLocation, setFromLocation] = useState(\"\");\r\n  const [toLocation, setToLocation] = useState(\"\");\r\n\r\n  const handleDepartureDateChange = () => {\r\n    setIsSelectedDeparture(true);\r\n  };\r\n\r\n  const validate = () => {\r\n    let d1 = dateFns.date(departure);\r\n    let d2 = dateFns.date(arrival);\r\n\r\n    if (dateFns.isBefore(d2, d1) || dateFns.isEqual(d1, d2)) {\r\n      setIsError(true);\r\n      setErrorMessage(\"Invalid Arrival Date\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const saveNewRecordHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validate()) {\r\n      return null;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n    let postData = {\r\n      transportation_id: ship,\r\n      voyage: voyage,\r\n      departure: dateFns.format(new Date(departure), \"Y-M-dd H:m:s\"),\r\n      arrival: dateFns.format(new Date(arrival), \"Y-M-dd H:m:s\"),\r\n      fromLocation: fromLocation,\r\n      toLocation: toLocation,\r\n    };\r\n\r\n    API.post(\"carrier/transport/voyage/store\", postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          setIsProcessing(false);\r\n\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Created!\",\r\n            \"success\"\r\n          );\r\n\r\n          schedule_context.loadSchedules();\r\n          props.toggle();\r\n        } else {\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setIsProcessing(false);\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        className=\"modal-lg\"\r\n        style={{ marginTop: \"5%\", marginLeft: modalMarginLG }}\r\n      >\r\n        <ModalHeader toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faCalendarDay} /> New Schedule\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => saveNewRecordHandler(e)}>\r\n          <ModalBody>\r\n            {isError && (\r\n              <Col md={12} className=\"text-center m-0 p-0\">\r\n                <h6>\r\n                  <Error className=\"p-0 m-0\">{errorMessage}</Error>\r\n                </h6>\r\n              </Col>\r\n            )}\r\n            <Row className=\"p-2\">\r\n              <Col md={12}>\r\n                <Card>\r\n                  <CardBody>\r\n                    <Row>\r\n                      <Col md={12} className=\"mt-0 pt-0 mb-2 text-danger\">\r\n                        <h6>\r\n                          <FontAwesomeIcon icon={faInfoCircle} /> Note: Please\r\n                          fill in the required (*) fields\r\n                        </h6>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={6}>\r\n                        <ShipNameSelect setShipName={setShip} />\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setFromLocation(e.target.value)}\r\n                          name=\"fromLocation\"\r\n                          label=\"Origin\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setToLocation(e.target.value)}\r\n                          name=\"toLocation\"\r\n                          label=\"Destination\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                      </Col>\r\n                      <Col md={6}>\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          onChange={(e) => setVoyage(e.target.value)}\r\n                          name=\"voyage\"\r\n                          label=\"Voyage Number\"\r\n                          required\r\n                          fullWidth\r\n                        />\r\n                        <DepartureDate\r\n                          pickedDate={handleDepartureDateChange}\r\n                          departureDate={departure}\r\n                          setDepartureDateChange={setDeparture}\r\n                        />\r\n                        <ArrivalDate\r\n                          isSelectedDeparture={isSelectedDeparture}\r\n                          departure={departure}\r\n                          arrivalDate={arrival}\r\n                          setArrivalDateChange={setArrival}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Creating New Voyage Schedule\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faSave} /> Save\r\n            </Button>{\" \"}\r\n            <Button\r\n              type=\"button\"\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Cancel\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewSchedule;\r\n","import React, { useState } from \"react\";\r\nimport API from \"../../../utils/Api\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport { useSchedule } from \"../../../context/schedules\";\r\nimport { useTheme } from \"../../../context/theme\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\";\r\n\r\nimport { TextField, FormControlLabel, Switch } from \"@material-ui/core\";\r\nimport LinearProgressBarWithLabel from \"../Common/LinearProgressBarWithLabel\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCalendarDay,\r\n  faInfoCircle,\r\n  faSave,\r\n  faWindowClose,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Error from \"../Error/Error\";\r\nimport ShipNameSelect from \"../../UI/Forms/Fields/ShipNameSelect\";\r\nimport ArrivalDate from \"../../UI/Forms/Fields/ArrivalDate\";\r\nimport DepartureDate from \"../../UI/Forms/Fields/DepartureDate\";\r\n\r\nconst UpdateSchedule = (props) => {\r\n  const dateFns = new DateFnsUtils();\r\n  const authToken = useAuth().authTokens.access_token;\r\n  const schedule_context = useSchedule();\r\n  const selectedShip = schedule_context.selectedSchedule[1];\r\n  const modalMarginLG = useTheme().modalMarginLG;\r\n\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"Invalid Input\");\r\n  const [isSelectedDeparture, setIsSelectedDeparture] = useState(false);\r\n\r\n  const [scheduleId, setScheduleId] = useState(selectedShip.id);\r\n  const [ship, setShip] = useState(selectedShip.ship.id);\r\n  const [voyage, setVoyage] = useState(selectedShip.voyage);\r\n  const [departure, setDeparture] = useState(\r\n    dateFns.format(new Date(selectedShip.departure), \"MMM/d/yyyy h:mm:ss a\")\r\n  );\r\n  const [arrival, setArrival] = useState(\r\n    dateFns.format(new Date(selectedShip.arrival), \"MMM/d/yyyy h:mm:ss a\")\r\n  );\r\n  const [fromLocation, setFromLocation] = useState(selectedShip.fromLocation);\r\n  const [toLocation, setToLocation] = useState(selectedShip.toLocation);\r\n\r\n  const validate = () => {\r\n    let d1 = dateFns.date(departure);\r\n    let d2 = dateFns.date(arrival);\r\n\r\n    if (dateFns.isBefore(d2, d1) || dateFns.isEqual(d1, d2)) {\r\n      setIsError(true);\r\n      setErrorMessage(\"Invalid Arrival Date\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const saveNewRecordHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validate()) {\r\n      return null;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    let token = authToken;\r\n    let postData = {\r\n      transportation_id: ship,\r\n      voyage: voyage,\r\n      departure: dateFns.format(new Date(departure), \"Y-M-dd H:m:s\"),\r\n      arrival: dateFns.format(new Date(arrival), \"Y-M-dd H:m:s\"),\r\n      fromLocation: fromLocation,\r\n      toLocation: toLocation,\r\n    };\r\n\r\n    API.put(`carrier/transport/voyage/update/${scheduleId}`, postData, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        if (result.data.status) {\r\n          setIsProcessing(false);\r\n\r\n          Swal.fire(\r\n            \"Transaction Completed!\",\r\n            \"Data Successfully Created!\",\r\n            \"success\"\r\n          );\r\n\r\n          schedule_context.loadSchedules();\r\n          props.toggle();\r\n        } else {\r\n          setIsProcessing(false);\r\n          Swal.fire(\"Transaction Failed!\", result.data.message, \"error\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setIsProcessing(false);\r\n        Swal.fire(\"Transaction Failed!\", \"error\");\r\n      });\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEdit(!isEdit);\r\n    if (isDisabled) {\r\n      setIsDisabled(null);\r\n    } else {\r\n      setIsDisabled(true);\r\n    }\r\n  };\r\n\r\n  const handleDepartureDateChange = () => {\r\n    setIsSelectedDeparture(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        backdrop={\"static\"}\r\n        isOpen={props.isOpen}\r\n        className=\"modal-lg\"\r\n        style={{ marginTop: \"5%\", marginLeft: modalMarginLG }}\r\n      >\r\n        <ModalHeader toggle={props.toggle}>\r\n          <FontAwesomeIcon icon={faCalendarDay} /> Update Schedule\r\n        </ModalHeader>\r\n        <form onSubmit={(e) => saveNewRecordHandler(e)}>\r\n          <ModalBody>\r\n            {isError && (\r\n              <Col md={12} className=\"text-center m-0 p-0\">\r\n                <h6>\r\n                  <Error className=\"p-0 m-0\">{errorMessage}</Error>\r\n                </h6>\r\n              </Col>\r\n            )}\r\n            <Row className=\"p-2\">\r\n              <FormControlLabel\r\n                className=\"ml-2\"\r\n                control={\r\n                  <Switch\r\n                    checked={isEdit}\r\n                    onChange={handleEdit}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Edit\"\r\n              />\r\n              <Col md={12}>\r\n                <Card>\r\n                  <CardBody>\r\n                    <Row>\r\n                      <Col md={12} className=\"mt-0 pt-0 mb-2 text-danger\">\r\n                        <h6>\r\n                          <FontAwesomeIcon icon={faInfoCircle} /> Note: Please\r\n                          fill in the required (*) fields\r\n                        </h6>\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={6}>\r\n                        <ShipNameSelect\r\n                          disabled={isDisabled}\r\n                          shipName={ship}\r\n                          setShipName={setShip}\r\n                        />\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          value={fromLocation || \"\"}\r\n                          onChange={(e) => setFromLocation(e.target.value)}\r\n                          name=\"fromLocation\"\r\n                          label=\"Origin\"\r\n                          required\r\n                          fullWidth\r\n                          disabled={isDisabled}\r\n                        />\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          value={toLocation || \"\"}\r\n                          onChange={(e) => setToLocation(e.target.value)}\r\n                          name=\"toLocation\"\r\n                          label=\"Destination\"\r\n                          required\r\n                          fullWidth\r\n                          disabled={isDisabled}\r\n                        />\r\n                      </Col>\r\n                      <Col md={6}>\r\n                        <TextField\r\n                          className=\"m-0\"\r\n                          value={voyage}\r\n                          onChange={(e) => setVoyage(e.target.value)}\r\n                          name=\"voyage\"\r\n                          label=\"Voyage Number\"\r\n                          required\r\n                          fullWidth\r\n                          disabled={isDisabled}\r\n                        />\r\n                        <DepartureDate\r\n                          pickedDate={handleDepartureDateChange}\r\n                          departureDate={departure}\r\n                          setDepartureDateChange={setDeparture}\r\n                          disabled={isDisabled}\r\n                        />\r\n                        <ArrivalDate\r\n                          isSelectedDeparture={isSelectedDeparture}\r\n                          departure={departure}\r\n                          arrivalDate={arrival}\r\n                          setArrivalDateChange={setArrival}\r\n                          disabled={isDisabled}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <div>\r\n              {isProcessing && (\r\n                <Row className=\"p-2\">\r\n                  <Col className=\"text-center\">\r\n                    <LinearProgressBarWithLabel title=\"Updating Voyage Schedule\" />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faSave} /> Save\r\n            </Button>{\" \"}\r\n            <Button\r\n              type=\"button\"\r\n              color=\"danger\"\r\n              onClick={props.toggle}\r\n              disabled={isProcessing}\r\n              style={{ minWidth: \"120px\" }}\r\n            >\r\n              <FontAwesomeIcon icon={faWindowClose} /> Cancel\r\n            </Button>\r\n          </ModalFooter>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateSchedule;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useAuth } from \"../../../context/auth\";\r\nimport API from \"../../../utils/Api\";\r\nimport { ScheduleContext } from \"../../../context/schedules\";\r\nimport { ShipContext } from \"../../../context/ship\";\r\nimport { debounce, isArray } from \"lodash\";\r\nimport { Tooltip, FormControlLabel, Switch } from \"@material-ui/core\";\r\nimport { Container, Button, Row, Col } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faArchive, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport DataTable from \"../../UI/Datatable/Datatable\";\r\nimport MenuButton from \"../../UI/Common/OptionMenuSchedulesButton\";\r\nimport NewSchedules from \"../../UI/Modals/NewSchedule\";\r\nimport UpdateSchedule from \"../../UI/Modals/UpdateSchedule\";\r\nimport Axios from \"axios\";\r\n\r\nconst Schedules = (props) => {\r\n  const dateFns = new DateFnsUtils();\r\n  const token = useAuth().authTokens;\r\n  const [scheduleData, setScheduleData] = useState([]);\r\n  const [selectedSchedule, setSelectedSchedule] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [shipOptions, setShipOptions] = useState([]);\r\n\r\n  // Modals\r\n  const [newScheduleModal, setNewScheduleModal] = useState(false);\r\n  const toggleNewScheduleModal = () => setNewScheduleModal(!newScheduleModal);\r\n  const [updateScheduleModal, setUpdateScheduleModal] = useState(false);\r\n  const toggleUpdateScheduleModal = () =>\r\n    setUpdateScheduleModal(!updateScheduleModal);\r\n\r\n  const statusButton = (index, schedule, data) => {\r\n    return (\r\n      <FormControlLabel\r\n        className=\"ml-2\"\r\n        control={\r\n          <Switch\r\n            checked={schedule.isActive ? true : false}\r\n            onChange={(e) => handleUpdateStatus(index, schedule, data)}\r\n            color={schedule.isActive ? \"primary\" : \"default\"}\r\n          />\r\n        }\r\n        label={schedule.isActive ? \"Active\" : \"Inactive\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const formatArrayData = (data) => {\r\n    if (data.length > 0) {\r\n      let formatted = [];\r\n\r\n      return data.map((value, index) => {\r\n        let schedule = value;\r\n        let ship = value.ship;\r\n\r\n        formatted = [\r\n          schedule.id,\r\n          ship.name,\r\n          schedule.fromLocation,\r\n          schedule.toLocation,\r\n          dateFns.format(new Date(schedule.departure), \"MMM/d/yyyy h:mm:ss a\"),\r\n          dateFns.format(new Date(schedule.arrival), \"MMM/d/yyyy h:mm:ss a\"),\r\n          statusButton(index, value, data),\r\n          [index, value],\r\n        ];\r\n\r\n        return formatted;\r\n      });\r\n    }\r\n  };\r\n\r\n  const formatData = (data = null) => {\r\n    if (data === null) {\r\n      return null;\r\n    }\r\n\r\n    if (isArray(data)) {\r\n      return formatArrayData(data);\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const loadSchedules = useCallback(() => {\r\n    setIsLoading(true);\r\n\r\n    let cancelToken = Axios.cancelToken;\r\n\r\n    API.get(\"carrier/transport/voyage/ships\", {\r\n      cancelToken: cancelToken,\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        let data = result.data.data;\r\n        let currentPage = result.data.current_page;\r\n        let schedules = formatData(data);     \r\n        setCurrentPage(currentPage);\r\n        setScheduleData(schedules);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((e) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const loadShips = useCallback(() => {\r\n    API.get(\"carrier/transport/ships\", {\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    }).then((result) => {\r\n      let ships = [];\r\n\r\n      if (result.data.length > 0) {\r\n        for (let s in result.data) {\r\n          let tempShipArr = {\r\n            value: result.data[s].id,\r\n            label: result.data[s].name,\r\n          };\r\n          ships.push(tempShipArr);\r\n        }\r\n      }\r\n\r\n      setShipOptions(ships);\r\n    });\r\n  }, []);\r\n\r\n  const appendSchedules = (page) => {\r\n    API.get(`carrier/transport/voyage?page=${page}`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    }).then((result) => {\r\n      let data = result.data.data;\r\n\r\n      let newSchedulesToAppend = [];\r\n      let schedules = formatData(data);\r\n\r\n      if (result.data.current_page > currentPage) {\r\n        setCurrentPage(result.data.current_page);\r\n        if (schedules !== undefined) {\r\n          newSchedulesToAppend = [...scheduleData, ...schedules];\r\n        } else {\r\n          newSchedulesToAppend = scheduleData;\r\n        }\r\n      }\r\n\r\n      setScheduleData(newSchedulesToAppend);\r\n    });\r\n  };\r\n\r\n  const debounceSearchHandler = debounce(\r\n    (queryData) => searchSchedules(queryData),\r\n    500\r\n  );\r\n\r\n  const searchSchedules = (query) => {\r\n    return API.post(\r\n      `carrier/transport/voyage/search`,\r\n      {\r\n        name: query,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: \"bearer \" + token.access_token,\r\n        },\r\n      }\r\n    ).then((result) => {\r\n      let data = result.data;\r\n      let schedules = formatData(data);\r\n      setScheduleData(schedules);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  const archiveHandler = (data) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        API.delete(`carrier/transport/voyage/delete/${data[1].id}`, {\r\n          headers: {\r\n            Authorization: \"bearer \" + token.access_token,\r\n          },\r\n        }).then((result) => {\r\n          if (result.data.status) {\r\n            Swal.fire(\"Transaction Completed\", result.data.message, \"success\");\r\n            loadSchedules();\r\n          } else {\r\n            Swal.fire(\"Transaction Completed\", result.data.message, \"error\");\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleScheduleDetails = (data) => {\r\n    setSelectedSchedule(data);\r\n    toggleUpdateScheduleModal();\r\n  };\r\n\r\n  const handleUpdateStatus = (index, schedule, data) => {\r\n    let raw = data;\r\n    let message = \"Activate this schedule?\";\r\n    let icon = \"info\";\r\n    let title = \"Activating\"\r\n    \r\n    if (schedule.isActive) {\r\n      message = \"Deactivate this schedule?\";\r\n      icon = \"warning\";\r\n      title = \"Deactivating\";\r\n    }\r\n\r\n    Swal.fire({\r\n      title: `${title} Schedule`,\r\n      text: message,\r\n      icon: icon,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        API.put(\r\n          `carrier/transport/voyage/status/${schedule.id}`,\r\n          { isActive: !schedule.isActive },\r\n          {\r\n            headers: {\r\n              Authorization: \"bearer \" + token.access_token,\r\n            },\r\n          }\r\n        ).then((result) => {\r\n          if (result.data.status) {\r\n            raw[index].isActive = !schedule.isActive;\r\n            let formattedData = formatData(raw);\r\n            setScheduleData(formattedData);\r\n          } else {\r\n            Swal.fire(\"Transaction Completed\", result.data.message, \"error\");\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    \"ID\",\r\n    \"Ship Name\",\r\n    \"Origin\",\r\n    \"Destination\",\r\n    \"Estimated Time of Departure\",\r\n    \"Estimated Time of Arrival\",\r\n    \"Status\",\r\n    {\r\n      name: \"Actions\",\r\n      options: {\r\n        customBodyRender: (value, tableMeta, updateValue) => {\r\n          return (\r\n            <div style={{ color: \"#1a1751\" }}>\r\n              <Tooltip title=\"Edit Schedule\" placement=\"top\">\r\n                <Button\r\n                  color=\"link\"\r\n                  className=\"p-1 m-0 btn\"\r\n                  onClick={() => handleScheduleDetails(value)}\r\n                >\r\n                  <FontAwesomeIcon icon={faEdit} />\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip title=\"Archive Schedule\" placement=\"top\">\r\n                <Button\r\n                  color=\"link\"\r\n                  className=\"p-1 m-0 btn text-danger\"\r\n                  onClick={() => archiveHandler(value)}\r\n                >\r\n                  <FontAwesomeIcon icon={faArchive} />\r\n                </Button>\r\n              </Tooltip>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  const options = {\r\n    fixHeader: true,\r\n    filterType: \"dropdown\",\r\n    responsive: \"vertical\",\r\n    tableBodyHeight: \"350px\",\r\n    selectableRows: \"none\",\r\n    filter: false,\r\n    viewColumns: false,\r\n    elevation: 0,\r\n    print: false,\r\n    download: false,\r\n    rowsPerPage: 5,\r\n    rowsPerPageOptions: [5, 30, 100],\r\n    onChangePage: (p) => {\r\n      if (p % 2 !== 0) {\r\n        if (p >= currentPage) {\r\n          appendSchedules(currentPage + 1);\r\n        }\r\n      }\r\n    },\r\n    onSearchClose: () => {\r\n      setIsLoading(false);\r\n      loadSchedules();\r\n    },\r\n    searchProps: {\r\n      onKeyUp: (e) => {\r\n        let queryString = e.target.value;\r\n        if (queryString.length >= 2) {\r\n          setIsLoading(true);\r\n          debounceSearchHandler(queryString);\r\n        }\r\n      },\r\n    },\r\n    // this is to disable auto search on local data\r\n    customSearch: (query, row, col) => {\r\n      return scheduleData.length > 0;\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadSchedules();\r\n    loadShips();\r\n    return () => {};\r\n  }, [loadSchedules, loadShips]);\r\n\r\n  return (\r\n    <ScheduleContext.Provider value={{ loadSchedules, selectedSchedule }}>\r\n      <ShipContext.Provider value={{ shipOptions }}>\r\n        <Container fluid=\"true\" className=\"mt-0 p-0 m-0 \">\r\n          <Row className=\"m-0 p-0 text-right\">\r\n            <Col md={12}>\r\n              <Row>\r\n                <Col md={12} className=\"m-0 p-0\">\r\n                  <MenuButton toggle={toggleNewScheduleModal} />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n            <Col md={12} className=\"pl-0 ml-0 pr-0 mr-0 text-left\">\r\n              <DataTable\r\n                title=\"Voyage Schedules\"\r\n                loadSchedules={loadSchedules}\r\n                data={scheduleData}\r\n                isLoading={isLoading}\r\n                columns={columns}\r\n                options={options}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n        {newScheduleModal && (\r\n          <NewSchedules\r\n            isOpen={newScheduleModal}\r\n            toggle={toggleNewScheduleModal}\r\n          />\r\n        )}\r\n        {updateScheduleModal && (\r\n          <UpdateSchedule\r\n            isOpen={updateScheduleModal}\r\n            toggle={toggleUpdateScheduleModal}\r\n          />\r\n        )}\r\n      </ShipContext.Provider>\r\n    </ScheduleContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Schedules;\r\n","import {\r\n  faCalendarDay,\r\n  faUsers,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\r\nimport Passengers from \"../../Dashboard/Passengers/Passengers\";\r\nimport Schedules from \"../../Dashboard/Schedules/Schedules\";\r\nimport Ships from \"../../Dashboard/Ships/Ships\";\r\nimport \"./dashboardtab.css\";\r\nimport DirectionsBoatIcon from \"@material-ui/icons/DirectionsBoat\";\r\n\r\nexport default function DashboardTab(props) {\r\n  const [activeTab, setActiveTab] = useState(\"1\");\r\n\r\n  const handleTabChange = (value) => {\r\n    setActiveTab(value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-5 pt-0 mt-0 dashboardTab\">\r\n      <Nav tabs>\r\n        <NavItem>\r\n          <NavLink\r\n            className={\r\n              activeTab === \"1\" ? \"active activeTabHeader\" : \"inactiveTab\"\r\n            }\r\n            onClick={() => handleTabChange(\"1\")}\r\n          >\r\n            <FontAwesomeIcon icon={faCalendarDay} /> Schedules\r\n          </NavLink>\r\n        </NavItem>\r\n        <NavItem>\r\n          <NavLink\r\n            className={\r\n              activeTab === \"2\" ? \"active activeTabHeader\" : \"inactiveTab\"\r\n            }\r\n            onClick={() => handleTabChange(\"2\")}\r\n          >\r\n            <FontAwesomeIcon icon={faUsers} /> Passengers\r\n          </NavLink>\r\n        </NavItem>\r\n        <NavItem>\r\n          <NavLink\r\n            className={\r\n              activeTab === \"3\" ? \"active activeTabHeader\" : \"inactiveTab\"\r\n            }\r\n            onClick={() => handleTabChange(\"3\")}\r\n          >\r\n            <DirectionsBoatIcon /> Ships\r\n          </NavLink>\r\n        </NavItem>\r\n      </Nav>\r\n      <TabContent activeTab={activeTab} className=\"bg-white pl-2 pr-2 pb-2\">\r\n        <TabPane tabId=\"1\"><Schedules /></TabPane>\r\n        <TabPane tabId=\"2\"><Passengers /></TabPane>\r\n        <TabPane tabId=\"3\"><Ships /></TabPane>\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport API from \"../../utils/Api\";\r\nimport { loadShips, loadTransportTypes } from \"../../utils/utils_options\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport { ThemeContext } from \"../../context/theme\";\r\nimport Icon from \"../../assets/icon.png\";\r\n\r\nimport ChangePasswordModal from \"../UI/Modals/ChangePassword\";\r\nimport ChangeProfileModal from \"../UI/Modals/ChangeProfile\";\r\nimport Report from \"../UI/Modals/Report\";\r\n\r\nimport {\r\n  Drawer,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  IconButton,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Collapse,\r\n} from \"@material-ui/core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCog,\r\n  faFileExcel,\r\n  faKey,\r\n  faPrint,\r\n  faUser,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\n\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"./dashboard.css\";\r\nimport Ships from \"./Ships/Ships\";\r\nimport DashboardTab from \"../UI/Tabs/DashboardTab\";\r\nimport { ProfileContext } from \"../../context/profile\";\r\nimport { OptionsContext } from \"../../context/options\";\r\n\r\nconst drawerWidth = 220;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    // backgroundColor: '#F8B828'\r\n    backgroundColor: \"#1a1751\",\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    boxShadow: \"1px 0px 10px #000\",\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    // height: '170px',\r\n    alignItems: \"center\",\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    // justifyContent: 'flex-end',\r\n    backgroundColor: \"#FFFFFF\",\r\n    color: \"#FFFFFF\",\r\n    margin: \"0px\",\r\n    padding: \"0px\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(4),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const auth_context = useAuth();\r\n  const token = auth_context.authTokens;\r\n  const user = auth_context.authTokens.user;\r\n  const classes = useStyles();\r\n  const [drawerStatus, setDrawerStatus] = useState(true);\r\n  const [userName, setUsername] = useState(user);\r\n  const [profileDetails, setProfileDetails] = useState({});\r\n  const [isManageCollapse, setIsManageCollapse] = useState(false);\r\n  const [isReportCollapse, setIsReportCollapse] = useState(false);\r\n  const [modalMarginXL, setModalMarginXL] = useState(\"20%\");\r\n  const [modalMarginLG, setModalMarginLG] = useState(\"30%\");\r\n\r\n  const [shipOptions, setShipOptions] = useState({});\r\n  const [transportOptions, setTransportOptions] = useState({});\r\n\r\n  const [changePasswordModal, setVisiblechangePasswordModal] = useState(false);\r\n  const toggleChangePasswordModal = () =>\r\n    setVisiblechangePasswordModal(!changePasswordModal);\r\n  const [changeProfileModal, setChangeProfileModal] = useState(false);\r\n  const toggleChangeProfileModal = () =>\r\n    setChangeProfileModal(!changeProfileModal);\r\n  const [passengerManifestReportModal, setPassengerManifestReportModal] =\r\n    useState(false);\r\n  const togglePassengerManifestReport = () =>\r\n    setPassengerManifestReportModal(!passengerManifestReportModal);\r\n\r\n  const handleDrawer = () => {\r\n    setDrawerStatus(!drawerStatus);\r\n    if (drawerStatus) {\r\n      setModalMarginXL(\"13%\");\r\n      setModalMarginLG(\"25%\");\r\n    } else {\r\n      setModalMarginXL(\"20%\");\r\n      setModalMarginLG(\"30%\");\r\n    }\r\n  };\r\n\r\n  const handleManageCollapse = () => {\r\n    setIsManageCollapse(!isManageCollapse);\r\n  };\r\n\r\n  const handleReportCollapse = () => {\r\n    setIsReportCollapse(!isReportCollapse);\r\n  };\r\n\r\n  const handleNavigation = (stringPath = \"/\") => {\r\n    switch (stringPath) {\r\n      case \"/\":\r\n        props.history.push(\"/\");\r\n        break;\r\n      case \"ships\":\r\n        props.history.push(\"/ships\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    sessionStorage.removeItem(\"transporttokens\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const reportHandler = (opt) => {\r\n    let reportOptions = {\r\n      manifest: 1,\r\n    };\r\n\r\n    switch (opt) {\r\n      case reportOptions.manifest:\r\n        togglePassengerManifestReport();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const getProfileDetails = () => {\r\n    API.get(`auth/carrier/me`, {\r\n      headers: {\r\n        Authorization: \"bearer \" + token.access_token,\r\n      },\r\n    }).then((result) => {\r\n      setProfileDetails(result.data);\r\n    });\r\n  };\r\n\r\n  const getShipsOptions = useCallback(() => {\r\n    loadShips(token).then((result) => {\r\n      let ships = [];\r\n\r\n      if (result.data.length > 0) {\r\n        for (let s in result.data) {\r\n          let tempShipArr = {\r\n            value: result.data[s].id,\r\n            label: result.data[s].name,\r\n          };\r\n          ships.push(tempShipArr);\r\n        }\r\n      }\r\n\r\n      setShipOptions(ships);\r\n    });\r\n  }, []);\r\n\r\n  const getTransportOptions = useCallback(() => {\r\n    loadTransportTypes(token).then((result) => {\r\n      let category = [];\r\n\r\n      if (result.data.length > 0) {\r\n        for (let s in result.data) {\r\n          let tempCategory = {\r\n            value: result.data[s].id,\r\n            label: result.data[s].name,\r\n          };\r\n          category.push(tempCategory);\r\n        }\r\n      }\r\n\r\n      setTransportOptions(category);\r\n\r\n    });\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    getProfileDetails();\r\n    getShipsOptions();\r\n    getTransportOptions();\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ modalMarginXL, modalMarginLG }}>\r\n      <ProfileContext.Provider value={{ setUsername, profileDetails, getProfileDetails }}>\r\n        <OptionsContext.Provider value={{ getShipsOptions, shipOptions, getTransportOptions, transportOptions }}>\r\n          <div className={classes.root}>\r\n            <AppBar\r\n              position=\"fixed\"\r\n              className={clsx(classes.appBar, {\r\n                [classes.appBarShift]: drawerStatus,\r\n              })}\r\n            >\r\n              <Toolbar>\r\n                <IconButton\r\n                  color=\"inherit\"\r\n                  aria-label=\"open drawer\"\r\n                  onClick={handleDrawer}\r\n                  edge=\"start\"\r\n                  className={clsx(classes.menuButton)}\r\n                  style={{ outline: \"none\" }}\r\n                >\r\n                  <MenuIcon />\r\n                </IconButton>\r\n                <Typography variant=\"h6\" noWrap>\r\n                  <div className=\"float-left\">\r\n                    <img src={Icon} width=\"33\" height=\"35\" alt=\"EMS Logo\" />\r\n                  </div>\r\n                  <div className=\"float-left\">\r\n                    <ul\r\n                      className=\"p-0 m-0 mt-2 ml-1\"\r\n                      style={{ listStyle: \"none\", lineHeight: \"0.9rem\" }}\r\n                    >\r\n                      <li style={{ fontSize: \"1.5rem\" }}>PEMS</li>\r\n                      <li>\r\n                        <small style={{ fontSize: \"0.8rem\" }}>\r\n                          Passenger e-Manifest System\r\n                        </small>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </Typography>\r\n              </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n              className={classes.drawer}\r\n              variant=\"persistent\"\r\n              anchor=\"left\"\r\n              open={drawerStatus}\r\n              classes={{\r\n                paper: classes.drawerPaper,\r\n              }}\r\n            >\r\n              <div className={classes.drawerHeader}>\r\n                <div\r\n                  className=\"container-fluid text-left mb-2\"\r\n                  style={{\r\n                    color: \"#1a1751\",\r\n                    minHeight: \"125px\",\r\n                    height: \"125px\",\r\n                  }}\r\n                >\r\n                  <div className=\"text-center mt-4 pb-2 border-bottom\">\r\n                    <AccountCircleIcon\r\n                      style={{ width: \"45px\", height: \"50px\" }}\r\n                    />\r\n                    <ul\r\n                      className=\"m-0 p-0 mt-2\"\r\n                      style={{ listStyle: \"none\", lineHeight: \"1em\" }}\r\n                    >\r\n                      <li className=\"border p-1 bg-primary text-white\">\r\n                        <strong>{userName.toUpperCase()}</strong>\r\n                      </li>\r\n                      <li className=\"mt-2\">Operator</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <List style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                <ListItem\r\n                  className=\"mt-4\"\r\n                  button\r\n                  onClick={() => handleNavigation(\"/\")}\r\n                >\r\n                  <ListItemIcon>\r\n                    <HomeIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary={\"Dashboard\"} />\r\n                </ListItem>\r\n                <ListItem button onClick={handleReportCollapse}>\r\n                  <ListItemIcon>\r\n                    <FontAwesomeIcon icon={faPrint} size=\"lg\" />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary=\"Reports\" />\r\n                  {isReportCollapse ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n                </ListItem>\r\n                <Collapse in={isReportCollapse} timeout=\"auto\" unmountOnExit>\r\n                  <List component=\"div\" disablePadding>\r\n                    <ListItem\r\n                      button\r\n                      onClick={() => reportHandler(1)}\r\n                      className={classes.nested}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <FontAwesomeIcon icon={faFileExcel} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary={\"Manifest\"} />\r\n                    </ListItem>\r\n                  </List>\r\n                </Collapse>\r\n                <ListItem button onClick={handleManageCollapse}>\r\n                  <ListItemIcon>\r\n                    <FontAwesomeIcon icon={faCog} size=\"lg\" />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary=\"Manage\" />\r\n                  {isManageCollapse ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n                </ListItem>\r\n                <Collapse in={isManageCollapse} timeout=\"auto\" unmountOnExit>\r\n                  <List component=\"div\" disablePadding>\r\n                    <ListItem\r\n                      button\r\n                      onClick={toggleChangePasswordModal}\r\n                      className={classes.nested}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <FontAwesomeIcon icon={faKey} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary={\"My Password\"} />\r\n                    </ListItem>\r\n                  </List>\r\n                  <List component=\"div\" disablePadding>\r\n                    <ListItem\r\n                      button\r\n                      onClick={toggleChangeProfileModal}\r\n                      className={classes.nested}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <FontAwesomeIcon icon={faUser} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary={\"My Profile\"} />\r\n                    </ListItem>\r\n                  </List>\r\n                </Collapse>\r\n                <ListItem button onClick={() => handleLogout()}>\r\n                  <ListItemIcon>\r\n                    <ExitToAppIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary={\"Logout\"} />\r\n                </ListItem>\r\n              </List>\r\n            </Drawer>\r\n            <main\r\n              className={clsx(classes.content, {\r\n                [classes.contentShift]: drawerStatus,\r\n              })}\r\n            >\r\n              <Switch>\r\n                <Route exact path=\"/\">\r\n                  <DashboardTab />\r\n                </Route>\r\n                <Route exact path=\"/ships\">\r\n                  <Ships />\r\n                </Route>\r\n              </Switch>\r\n\r\n              {changePasswordModal && (\r\n                <ChangePasswordModal\r\n                  isOpen={changePasswordModal}\r\n                  toggle={toggleChangePasswordModal}\r\n                />\r\n              )}\r\n\r\n              {changeProfileModal && (\r\n                <ChangeProfileModal\r\n                  isOpen={changeProfileModal}\r\n                  toggle={toggleChangeProfileModal}\r\n                />\r\n              )}\r\n\r\n              {passengerManifestReportModal && (\r\n                <Report\r\n                  isOpen={passengerManifestReportModal}\r\n                  toggle={togglePassengerManifestReport}\r\n                />\r\n              )}\r\n            </main>\r\n          </div>\r\n        </OptionsContext.Provider>\r\n      </ProfileContext.Provider>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n","import Axios from \"axios\";\r\nimport API from \"./Api\";\r\n\r\nexport const loadShips = (token) => {\r\n  let cancelToken = Axios.cancelToken;\r\n  return API.get(\"carrier/transport/ships\", {\r\n    cancelToken: cancelToken,\r\n    headers: {\r\n      Authorization: \"bearer \" + token.access_token,\r\n    },\r\n  });\r\n};\r\n\r\nexport const loadTransportTypes = (token) => {\r\n  let cancelToken = Axios.cancelToken;\r\n  return API.get(\"carrier/transport/category\", {\r\n    cancelToken: cancelToken,\r\n    headers: {\r\n      Authorization: \"bearer \" + token.access_token,\r\n    },\r\n  });\r\n};\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Error404 extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"container card\" style={{marginTop: '10%' }}>\r\n                <div className=\"row h-100\">\r\n                    <div className=\"col-sm-12 text-center\">\r\n                        <h3 className=\"text-danger  p-1 m-4\"><b>Error 404: </b> Page Not Found</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"\r\n\r\nimport PrivateRoute from '../PrivateRoute'\r\nimport { AuthContext } from \"../context/auth\"\r\n\r\nimport './App.css'\r\n\r\nimport Login from '../components/Login/Login'\r\nimport Register from '../components/Register/Register'\r\nimport Dashboard from '../components/Dashboard/Dashboard'\r\nimport Error404 from '../components/UI/Error/Error404'\r\n\r\n\r\nconst App = (props) => {\r\n  const existingTokens = JSON.parse(sessionStorage.getItem(\"transporttokens\"))\r\n  const [authTokens, setAuthTokens] = useState(existingTokens)\r\n\r\n  const setTokens = (data) => {\r\n    sessionStorage.setItem(\"transporttokens\", JSON.stringify(data))\r\n    setAuthTokens(data)\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ authTokens, setAuthTokens: setTokens }}>\r\n      <Router basename=\"/marina/module/transport\">\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n          <PrivateRoute exact path=\"/ships\" component={Dashboard} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n          <Route component={Error404} />\r\n        </Switch>\r\n      </Router>\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App ","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './containers/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}