(this.webpackJsonpustphims=this.webpackJsonpustphims||[]).push([[0],{203:function(e,a,t){e.exports=t.p+"static/media/logo.dc773f1f.jpg"},204:function(e,a,t){e.exports=t.p+"static/media/marina.3d4d22a6.png"},422:function(e,a,t){e.exports=t.p+"static/media/dto.1f15fbb3.png"},430:function(e,a,t){e.exports=t.p+"static/media/icon.c0920caa.png"},433:function(e,a,t){e.exports=t.p+"static/media/Template.93bdb522.xlsx"},455:function(e,a,t){e.exports=t(728)},461:function(e,a,t){},466:function(e,a,t){},485:function(e,a,t){},487:function(e,a,t){},726:function(e,a,t){},727:function(e,a,t){},728:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t.n(l),s=(t(460),t(461),t(6)),i=t(123),m=t(35),o=t(441),u=Object(n.createContext)();function d(){return Object(n.useContext)(u)}var p=function(e){var a=e.component,t=Object(o.a)(e,["component"]),n=d();return r.a.createElement(m.b,Object.assign({},t,{render:function(e){return function(e){return null!==e.authTokens&&!(e.authTokens.expires_in>Date.now())}(n)?r.a.createElement(a,e):r.a.createElement(m.a,{to:"/login"})}}))},E=(t(466),t(202)),b=t.n(E),f=b.a.create({baseURL:"https://passengertracer.net/apis/api/v1/"}),g=t(347),h=t(348),v=t(757),O=t(273),j=t(96),N=t.n(j),y=t(97),S=t.n(y),x=t(424),C=t.n(x),w=t(425),_=t.n(w),T=t(426),k=t.n(T),P=t(427),D=t.n(P),W=t(423),A=t.n(W),q=t(349),M=t(750),I=t(752),F=t(753),U=t(754),z=t(755),R=t(758),L=t(12),B=t(13),H=(t(485),t(203)),G=t.n(H),Y=t(204),J=t.n(Y),V=t(422),K=t.n(V),Z=t(205),Q=t(206),X=t(226),$=t(225),ee=function(e){Object(X.a)(t,e);var a=Object($.a)(t);function t(){return Object(Z.a)(this,t),a.apply(this,arguments)}return Object(Q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("span",{className:"text-danger text-center p-1"},this.props.children))}}]),t}(n.Component),ae=t(780),te=Object(g.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(2.3),height:e.spacing(2.3),float:"left",marginLeft:"7px",marginTop:"3px"},large:{width:e.spacing(7),height:e.spacing(7)}}})),ne=function(e){var a=te(),t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)("Oops! sorry something went wrong..."),g=Object(s.a)(b,2),j=g[0],y=g[1],x=d(),w=x.authTokens,T=x.setAuthTokens,P=Object(n.useState)(!1),W=Object(s.a)(P,2),H=W[0],Y=W[1];if(null!==w&&w.expires_in<Date.now())return r.a.createElement(m.a,{to:"/"});return r.a.createElement(M.a,{style:{width:"959px",marginTop:"5%"}},r.a.createElement("a",{href:"https://passengertracer.net/",rel:"noopener noreferrer",className:"btn m-0 p-0 mb-1 text-white"},r.a.createElement(A.a,{style:{fontSize:"0.9em"}})," Go Back to Portal"),r.a.createElement(I.a,{className:"bg-primary p-0 m-0",style:{borderRadius:"0px",border:"none",opacity:"0.9"}},r.a.createElement(F.a,{className:"p-0 m-0"},r.a.createElement(U.a,{xs:6,className:"text-center text-white p-2"},r.a.createElement("img",{className:"mt-5",src:J.a,width:"90",height:"110",alt:"Marina Logo"}),r.a.createElement("a",{href:"https://marina.gov.ph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement("h3",{className:"mt-4"},"Maritime Industry Authority")),r.a.createElement("div",{className:"text-center pl-5 pr-5 ml-0"},"Follow us on: ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.facebook.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white mr-1",style:{textDecoration:"none"}},r.a.createElement(C.a,{className:a.large})),r.a.createElement("a",{href:"https://twitter.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(_.a,{className:a.large})),r.a.createElement("a",{href:"https://www.instagram.com/dotrmarinaph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(k.a,{className:a.large})),r.a.createElement("a",{href:"https://www.youtube.com/channel/UCK9SPcPFhiWLBUXAzlQqsxg",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(D.a,{className:a.large}))),r.a.createElement("div",{style:{fontSize:"0.9rem",marginTop:"25%",marginLeft:"10%"}},r.a.createElement("span",{className:"float-left"},"Powered By: "),r.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/ustpdigitaltransformation",rel:"noopener noreferrer",className:"text-white",style:{textDecoration:"none"}},r.a.createElement(ae.a,{src:K.a,className:a.small}),r.a.createElement("span",{className:"float-left ml-1"},"USTP - Digital Transformation Office")))),r.a.createElement(U.a,{xs:6,className:"p-0 m-0"},r.a.createElement(I.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(U.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-2",src:G.a,style:{width:"8rem",height:"10rem"},alt:"Passenger eTracer Logo"}),r.a.createElement("h5",null,"Transport Module")),r.a.createElement(U.a,{xs:12},r.a.createElement(z.a,{onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector("input[name=username]").value,t=document.querySelector("input[name=password]").value;""!==a&&""!==t?(i(!0),f.post("auth/carrier/login",{username:a,password:t}).then((function(e){i(!1),200===e.status?!1===e.data.status?(y(e.data.error),E(!0)):T(e.data):254===e.status?(y(e.data.message),E(!0)):E(!0)})).catch((function(e){i(!1),E(!0)}))):(y("Please enter a username and password"),E(!0))}(e)},autoComplete:"off"},r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},p&&r.a.createElement(ee,null,j)),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:H?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return Y(!H)}},H?r.a.createElement(N.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(R.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:c,fullWidth:!0},r.a.createElement("span",null,"LOGIN"),r.a.createElement(L.a,{className:"pl-1",icon:B.s})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"register",variant:"contained",color:"primary",className:"pt-1 btn",disabled:c},r.a.createElement(L.a,{className:"pr-1",icon:B.w}),r.a.createElement("span",null,"REGISTER HERE"))))))))))))},re=(t(487),t(20)),le=t.n(re),ce=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],p=o[1],E=Object(n.useState)("Oops! sorry something went wrong..."),f=Object(s.a)(E,2),g=f[0],j=f[1],y=d().authTokens,x=Object(n.useState)(!1),C=Object(s.a)(x,2),w=C[0],_=C[1],T=Object(n.useState)(!1),k=Object(s.a)(T,2),P=k[0],D=k[1];if(null!==y&&y.expires_in<Date.now())return r.a.createElement(m.a,{to:"/"});return r.a.createElement(M.a,{className:"rounded",style:{width:"762px",marginTop:"2%"}},r.a.createElement(I.a,{className:"bg-primary p-0 m-0 rounded",style:{border:"none",opacity:"0.88"}},r.a.createElement(F.a,{className:"p-0 m-0"},r.a.createElement(U.a,{xs:12,className:"p-0 m-0"},r.a.createElement(I.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(U.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-1",src:J.a,style:{width:"4rem",height:"4.5rem"},alt:"MARINA Logo"}),r.a.createElement("img",{className:"mt-1",src:G.a,style:{width:"5rem",height:"6rem"},alt:"Passenger eTracer Logo"})),r.a.createElement(U.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("h4",null,r.a.createElement(L.a,{className:"pr-1",icon:B.a})," Register New Company")),r.a.createElement(U.a,{xs:{size:10,offset:1}},r.a.createElement(z.a,{onSubmit:function(a){return function(a){a.preventDefault();var t=document.querySelector("input[name=company]").value,n=document.querySelector("input[name=mobile]").value,r=document.querySelector("input[name=address]").value,l=document.querySelector("input[name=username]").value,s=document.querySelector("input[name=password]").value,i=document.querySelector("input[name=repassword]").value;if(""!==l&&""!==s){if(s!==i)return j("Password doesn't match"),p(!0),null;c(!0);var m={carrier_name:t,carrier_contact:n,carrier_address:r,username:l,password:s};b.a.post("https://passengertracer.net/apis/api/account/register",m).then((function(a){(c(!1),200===a.status)?0===a.data.error?(j(a.data.message),p(!0)):le.a.fire("Transaction Completed!","Account Successfully Registered!","success").then((function(){e.history.push("/")})):254===a.status?(j(a.data.message),p(!0)):p(!0)})).catch((function(e){c(!1),p(!0)}))}else j("Please enter a username and password"),p(!0)}(a)},autoComplete:"off"},r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},u&&r.a.createElement(ee,null,g)),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"company",placeholder:"Company Name",label:"Company Name",fullWidth:!0,required:!0})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"mobile",placeholder:"Contact Number",label:"Contact Number",fullWidth:!0,required:!0})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"address",placeholder:"Address",label:"Address",fullWidth:!0,required:!0})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:w?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return _(!w)}},w?r.a.createElement(N.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(h.a,{type:P?"text":"password",name:"repassword",placeholder:"Re-type Password",label:"Re-type Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return D(!P)}},P?r.a.createElement(N.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement(U.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},l?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(R.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:l,fullWidth:!0},r.a.createElement("span",null,"Register"),r.a.createElement(L.a,{className:"pl-1",icon:B.f})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"login",variant:"contained",color:"primary",className:"pt-1 btn",disabled:l},r.a.createElement("span",null,"LOGIN HERE"),r.a.createElement(L.a,{className:"pl-1",icon:B.s}))))))))))))},se=t(159),ie=t(277),me=Object(n.createContext)();var oe=t(430),ue=t.n(oe),de=t(137),pe=Object(n.createContext)();function Ee(){return Object(n.useContext)(pe)}var be=Object(n.createContext)();function fe(){return Object(n.useContext)(be)}var ge=t(136),he=t(389),ve=t(776),Oe=t(431),je=t.n(Oe),Ne=t(761),ye=function(e){return r.a.createElement("div",{className:"p-0 m-0 mt-2"},e.isLoading&&r.a.createElement(Ne.a,{style:{marginLeft:"48%",marginTop:"18%",position:"absolute",zIndex:"1000"}}),r.a.createElement(je.a,{title:e.title,data:e.data,columns:e.columns,options:e.options}))},Se=t(75),xe=t(779),Ce=t(771),we=t(772),_e=t(773),Te=t(774),ke=t(775),Pe=t(40),De=t(777),We=t(433),Ae=t.n(We),qe=t(396),Me=function(e){var a=fe().shipOptions,t=Object(n.useState)(""),l=Object(s.a)(t,2),c=l[0],i=l[1],m=function(a){e.setShipName(a),function(a){e.setShipName(a),i(a),e.getShipDetails&&e.getShipDetails(a)}(a)};return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select a Ship",name:"shipName",value:e.shipName||c,onChange:function(e){return m(e.target.value)},fullWidth:!0,required:!0,disabled:e.disabled||!1},a.map((function(e){return r.a.createElement(qe.a,{key:e.value,value:e.value},e.label)}))))},Ie=t(766),Fe=t(269),Ue=t(103);function ze(e){return r.a.createElement(Fe.a,{display:"flex",alignItems:"center"},r.a.createElement(Fe.a,{width:"100%",mr:1},r.a.createElement(Ie.a,Object.assign({variant:"determinate"},e))),r.a.createElement(Fe.a,{minWidth:35},r.a.createElement(Ue.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Re=Object(g.a)({root:{width:"100%"}}),Le=function(e){var a=Re(),t=Object(n.useState)(0),l=Object(s.a)(t,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){return e<89&&e<100?e+Math.floor(10*Math.random())+1:99}))}),800);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(Ue.a,null,e.title),r.a.createElement(ze,{value:c}))},Be=function(e){var a=d().authTokens.access_token,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],m=Object(n.useState)(null),o=Object(s.a)(m,2),u=o[0],p=o[1],E=Object(n.useState)(null),b=Object(s.a)(E,2),g=b[0],v=b[1],O=Object(n.useState)(null),j=Object(s.a)(O,2),N=j[0],y=j[1],S=Object(n.useState)(""),x=Object(s.a)(S,2),C=x[0],w=x[1],_=Object(n.useState)(""),T=Object(s.a)(_,2),k=T[0],P=T[1],D=Object(n.useState)(0),W=Object(s.a)(D,2),A=W[0],q=W[1],M=Object(n.useState)(""),z=Object(s.a)(M,2),R=z[0],H=z[1],G=new Se.a;return r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-lg",style:{marginTop:"7%",marginLeft:"30%"}},r.a.createElement(Ce.a,{style:{lineHeight:"2"}},"Import Passenger Manifest ",r.a.createElement("br",null)),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),i(!0);var n=a,r=new FormData;r.append("profileFile",u),r.append("departure",G.format(g,"Y-M-dd H:m:s")),r.append("arrival",G.format(N,"Y-M-dd H:m:s")),r.append("transport_no",C),r.append("ship_name",k),r.append("transport_type",A),r.append("route",R),f.post("store/import/profiles",r,{headers:{Authorization:"bearer "+n,"Content-Type":"multipart/form-data"}}).then((function(a){a.data.status?(i(!1),p(null),v(null),y(null),w(""),q(""),H(""),le.a.fire("Transaction Completed!","Data Successfully Imported!","success"),e.loadPassenger&&e.loadPassenger(),e.toggle()):(i(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","Failed to Import Data!","error")}))}(t)},encType:"multipart/form-data",id:"excelFile"},r.a.createElement(we.a,null,r.a.createElement(F.a,{className:"p-2"},r.a.createElement("div",{className:"col-md-6 p-2"},r.a.createElement("h5",{className:"text-primary ml-2"},r.a.createElement(L.a,{icon:B.e})," Travel Dates"),r.a.createElement(I.a,{className:"border-0"},r.a.createElement(_e.a,{className:"p-2"},r.a.createElement("div",null,r.a.createElement(Pe.a,{utils:Se.a},r.a.createElement(De.a,{value:g,onChange:v,label:"ETD(Est. Time of Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0}))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(Pe.a,{utils:Se.a},r.a.createElement(De.a,{value:N,onChange:y,label:"ETA(Est. Time of Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0})))))),r.a.createElement("div",{className:"col-md-6 p-2"},r.a.createElement("h5",{className:"text-primary"},r.a.createElement(L.a,{icon:B.a})," Transport Details"),r.a.createElement(I.a,{className:"border-0"},r.a.createElement(_e.a,{className:"p-1 m-1"},r.a.createElement("div",null,r.a.createElement(Me,{getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(H(a.routes),q(a.transportation_category_id))}))},setShipName:P})),r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{value:C,onChange:function(e){return w(e.target.value)},label:"Voyage Number",fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{label:"Voyage Route",value:R,onChange:function(e){return H(e.target.value)},fullWidth:!0,required:!0,disabled:!0}))))),r.a.createElement("div",{className:"col-md-12 pt-2"},r.a.createElement("h5",{className:"text-success"},r.a.createElement(L.a,{icon:B.k})," Import Excel File:"," ",r.a.createElement("a",{href:Ae.a,title:"Download Passenger Manifest Template",download:"Passenger-Manifest-Template.xlsx"},r.a.createElement("span",{style:{fontSize:"0.9rem"}},r.a.createElement(L.a,{icon:B.j})," Download this template")),r.a.createElement("br",null)),r.a.createElement(I.a,null,r.a.createElement(_e.a,{className:"p-1 m-0"},r.a.createElement("div",{className:"m-0"},r.a.createElement(Te.a,{accept:".xlsx,.xls",id:"raised-button-file",type:"file",onChange:function(e){return p(e.target.files[0])},disabled:c,required:!0})))))),r.a.createElement("div",null,c&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{className:"text-center"},r.a.createElement(Le,{title:"Importing Passenger Manifest"}))))),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{type:"submit",color:"primary",disabled:c,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.l})," Import")," ",r.a.createElement(ve.a,{color:"danger",onClick:e.toggle,disabled:c,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.y})," Cancel")))))},He=function(e){var a=fe().transportOptions,t=Object(n.useState)(e.transportType||""),l=Object(s.a)(t,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Transport Type",name:"transportType",value:e.transportType||c,onChange:function(a){return t=a.target.value,i(t),void e.setTransportType(t);var t},fullWidth:!0,required:!0},a.map((function(e){return r.a.createElement(qe.a,{key:e.value,value:e.value},e.label)}))))},Ge=function(e){var a=d().authTokens.access_token,t=fe(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],m=c[1],o=Object(n.useState)(null),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(null),N=Object(s.a)(j,2),y=N[0],S=N[1];return r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(Ce.a,null,r.a.createElement(L.a,{icon:B.r})," New Ship"),r.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault(),m(!0);var r=a,l={name:p,routes:v,transportation_category_id:y};f.post("store/ships/store",l,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(m(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),t.loadShips(),e.loadShips&&e.loadShips(),e.toggle()):(m(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){m(!1),le.a.fire("Transaction Failed!","error")}))}(n)}},r.a.createElement(we.a,null,r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(_e.a,null,r.a.createElement(h.a,{className:"m-0",onChange:function(e){return E(e.target.value)},name:"shipName",label:"Ship Name",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",onChange:function(e){return O(e.target.value)},name:"voyageRoute",label:"Route",required:!0,fullWidth:!0}),r.a.createElement(He,{setTransportType:S}))))),r.a.createElement("div",null,i&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{className:"text-center"},r.a.createElement(Le,{title:"Creating New Ship Record"}))))),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{type:"submit",color:"primary",disabled:i,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.q})," Save")," ",r.a.createElement(ve.a,{color:"danger",onClick:e.toggle,disabled:i,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.y})," Cancel")))))},Ye=t(393),Je=t(768),Ve=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Gender",name:"gender",value:e.gender||l,onChange:function(a){return t=a.target.value,e.setGender(t.toUpperCase()),void c(t.toUpperCase());var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"M",label:"Male"},{value:"F",label:"Female"}].map((function(e){return r.a.createElement(qe.a,{key:e.value,value:e.value},e.label)}))))},Ke=function(e){var a=d().authTokens.access_token,t=Ee().selectedProfile,l=Ee(),c=(Ee().passengerData,Object(n.useState)(!1)),i=Object(s.a)(c,2),m=i[0],o=i[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],b=p[1],g=Object(n.useState)(!0),v=Object(s.a)(g,2),O=v[0],j=v[1],N=Object(n.useState)(""),y=Object(s.a)(N,2),S=y[0],x=y[1],C=Object(n.useState)(""),w=Object(s.a)(C,2),_=w[0],T=w[1],k=Object(n.useState)(""),P=Object(s.a)(k,2),D=P[0],W=P[1],A=Object(n.useState)(""),q=Object(s.a)(A,2),z=q[0],R=q[1],H=Object(n.useState)(""),G=Object(s.a)(H,2),Y=G[0],J=G[1],V=Object(n.useState)(""),K=Object(s.a)(V,2),Z=K[0],Q=K[1],X=Object(n.useState)(""),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(s.a)(te,2),re=ne[0],ce=ne[1],se=Object(n.useState)(""),ie=Object(s.a)(se,2),me=ie[0],oe=ie[1],ue=Object(n.useState)(""),de=Object(s.a)(ue,2),pe=de[0],be=de[1],fe=Object(n.useState)(""),ge=Object(s.a)(fe,2),he=ge[0],Oe=ge[1],je=Object(n.useState)(""),Ne=Object(s.a)(je,2),ye=Ne[0],Se=Ne[1],xe=Object(n.useState)(""),Ce=Object(s.a)(xe,2),we=Ce[0],Te=Ce[1];Object(n.useEffect)((function(){var e=t[1].profile;return x(t),T(e.first_name.toUpperCase()),W(e.last_name.toUpperCase()),R(e.gender),J(e.age),Q(t[1].temperature),ae(e.email),ce(e.mobile),e.relatives.length>0&&(oe(e.relatives[0].name),be(e.relatives[0].contact)),Se(e.address.specific_address),Oe(e.address.zipcode),t[1].companions.length>0&&Te(t[1].companions[0].name),function(){}}),[t]);return r.a.createElement(M.a,{fluid:!0,className:"pt-2"},r.a.createElement(Ye.a,{className:"ml-2",control:r.a.createElement(Je.a,{checked:E,onChange:function(){b(!E),j(!O||null)},color:"primary"}),label:"Edit"}),r.a.createElement(U.a,{xs:12,className:"mt-3"},r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.u})," Personal Details"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1 mt-3"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"first_name",label:"First Name",value:_,onChange:function(e){return T(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{name:"last_name",label:"Last Name",value:D,onChange:function(e){return W(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"number",name:"age",label:"Age",value:Y,onChange:function(e){return J(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(Ve,{gender:z,disabled:O,setGender:R})),r.a.createElement("div",{className:"mb-4"},r.a.createElement(h.a,{type:"number",inputProps:{min:"20.0",max:"50.0",step:"0.1"},name:"bodyTemperature",label:"Body Temperature",value:Z||"",onChange:function(e){return Q(e.target.value)},fullWidth:!0,required:!0,disabled:O}))))))),r.a.createElement(U.a,{xs:4,className:"p-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.p})," Contact Details"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",value:re||"",onChange:function(e){return ce(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",value:ee||"",onChange:function(e){return ae(e.target.value)},fullWidth:!0,disabled:O})))))),r.a.createElement("h6",{className:"text-primary mt-2 ml-1"},r.a.createElement(L.a,{icon:B.n})," Address"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{name:"zipcode",label:"Zipcode",value:he||"",onChange:function(e){return Oe(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{label:"Complete Address",name:"complete_address",value:ye,onChange:function(e){return Se(e.target.value)},fullWidth:!0,required:!0,disabled:O}))))))),r.a.createElement(U.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.x})," Companion Details"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",value:we,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return Te(e.target.value)},fullWidth:!0,disabled:O})))))),r.a.createElement("h6",{className:"text-primary mt-3"},r.a.createElement(L.a,{icon:B.o})," Nearest Relative"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{label:"Name",name:"relativeName",value:me,onChange:function(e){return oe(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",value:pe,onChange:function(e){return be(e.target.value)},fullWidth:!0,required:!0,disabled:O})))))))),!m&&r.a.createElement("div",null,E&&r.a.createElement(F.a,{className:"mt-3 ml-1"},r.a.createElement(ve.a,{type:"button",onClick:function(){return function(){e.setIsProcessing(!0),o(!0);var n,r=a,c=S[1];n="object"===typeof t[1].vehicle_details?t[1].vehicle_details:JSON.parse(t[1].vehicle_details);var s={first_name:_,last_name:D,gender:z,age:Y,email:ee,mobile:re,zipcode:parseInt(he),specific_address:ye,temp:Z,temperature:Z,barangay:c.profile.address.barangay,person_type:c.profile.person_type,origin:c.fromLocation,destination:c.toLocation,arrival:c.fromDate,departure:c.toDate,transport_type:c.mode_of_travel_id,transport_no:n.transport_no,ship_name:n.transport_vehicle,travel_id:c.id,accomodation_type:c.accommodation_type,previous_travel:c.previous_place_travel,parking_space_no:c.parking_space_no,seat_no:c.seat_no,route:c.route,companion_name:we,relative_name:me,relative_contact:pe};f.put("carrier/update/".concat(c.profile_id),s,{headers:{Authorization:"bearer "+r}}).then((function(a){a.data.status?(e.setIsProcessing(!1),o(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success"),l.loadPassengers(),e.toggle()):(e.setIsProcessing(!1),o(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),o(!1),le.a.fire("Transaction Failed!","error")}))}()},color:"primary",disabled:O,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.q})," Save")))))},Ze=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:e.modalMargin}},r.a.createElement(Ce.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(L.a,{icon:B.v})," Passenger Profile"),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(we.a,{className:"pt-0"},r.a.createElement(F.a,null,r.a.createElement(Ke,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{className:"text-center"},r.a.createElement(Le,{title:"Updating Passenger Profile"}))))))))},Qe=function(e){return r.a.createElement("div",null,r.a.createElement(Pe.a,{utils:Se.a},r.a.createElement(De.a,{value:e.departureDate||null,onChange:e.setDepartureDateChange,name:"departureDate",label:"ETD (Est. Time Departure)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1,disabled:e.disabled})))},Xe=function(e){return r.a.createElement("div",null,r.a.createElement(Pe.a,{utils:Se.a},r.a.createElement(De.a,{value:e.arrivalDate,onChange:e.setArrivalDateChange||null,label:"ETA (Est. Time Arrival)",format:"MMM/d/yyyy h:mm:ss a",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1,disabled:e.disabled})))},$e=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(h.a,{select:!0,label:"Select Accommodation type",name:"accommodationType",value:e.accommodationType||l,onChange:function(a){return t=a.target.value,c(t),void(e.setAccommodationType&&e.setAccommodationType(t));var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"1st",label:"1st Class"},{value:"2nd",label:"2nd Class"},{value:"3rd",label:"3rd Class"}].map((function(e){return r.a.createElement(qe.a,{key:e.value,value:e.value},e.label)}))))},ea=function(e){var a=d().authTokens.access_token,t=Ee().selectedProfile,l=Ee(),c=(Ee().passengerData,new Se.a),i=Object(n.useState)(!1),m=Object(s.a)(i,2),o=m[0],u=m[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],g=E[1],v=Object(n.useState)(!0),O=Object(s.a)(v,2),j=O[0],N=O[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),x=S[0],C=S[1],w=Object(n.useState)(""),_=Object(s.a)(w,2),T=_[0],k=_[1],P=Object(n.useState)(""),D=Object(s.a)(P,2),W=D[0],A=D[1],q=Object(n.useState)(""),z=Object(s.a)(q,2),R=z[0],H=z[1],G=Object(n.useState)(""),Y=Object(s.a)(G,2),J=Y[0],V=Y[1],K=Object(n.useState)(0),Z=Object(s.a)(K,2),Q=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),re=Object(s.a)(ne,2),ce=re[0],se=re[1],ie=Object(n.useState)(null),me=Object(s.a)(ie,2),oe=me[0],ue=me[1],de=Object(n.useState)(""),pe=Object(s.a)(de,2),be=pe[0],fe=pe[1],ge=Object(n.useState)(""),he=Object(s.a)(ge,2),Oe=he[0],je=he[1],Ne=Object(n.useState)(""),ye=Object(s.a)(Ne,2),xe=ye[0],Ce=ye[1],we=Object(n.useState)(""),Te=Object(s.a)(we,2),ke=Te[0],Pe=Te[1];Object(n.useEffect)((function(){var e;return e="object"===typeof t[1].vehicle_details?t[1].vehicle_details:JSON.parse(t[1].vehicle_details),C(t),k(t[1].fromLocation),A(t[1].toLocation),se(c.format(new Date(t[1].fromDate),"MMM/d/yyyy h:mm:ss a")),ue(c.format(new Date(t[1].toDate),"MMM/d/yyyy h:mm:ss a")),H(t[1].previous_place_travel),V(e.transport_vehicle),X(t[1].mode_of_travel_id),Ce(e.transport_no),fe(t[1].seat_no),je(t[1].parking_space_no),Pe(t[1].accommodation_type),te(t[1].route.toUpperCase()),function(){}}),[]);return r.a.createElement(M.a,{fluid:!0,className:"pt-2"},r.a.createElement(Ye.a,{className:"ml-2",control:r.a.createElement(Je.a,{checked:b,onChange:function(){g(!b),N(!j||null)},color:"primary"}),label:"Edit"}),r.a.createElement(U.a,{md:12,className:"mt-3"},r.a.createElement(F.a,null,r.a.createElement(U.a,{md:12,className:"text-left mt-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.a})," Transport Details"),r.a.createElement(I.a,{className:"p-0",style:{border:"none"}},r.a.createElement(_e.a,{className:"m-0 p-0"},r.a.createElement(U.a,{md:12,className:"m-0 p-0"},r.a.createElement(I.a,{className:"m-0 p-0"},r.a.createElement(_e.a,{className:"m-0 p-0 pl-2 pr-2 pb-2 pt-2"},r.a.createElement(F.a,null,r.a.createElement(U.a,{md:4},r.a.createElement(Me,{shipName:J,setShipName:V,disabled:j,getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(te(a.routes),X(a.transportation_category_id))}))}}),r.a.createElement(h.a,{className:"m-0 p-0 mt-1",onChange:function(e){return Ce(e.target.value)},value:xe,name:"transportNumber",label:"Voyage Number",fullWidth:!0,required:!0,disabled:j})),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{className:"mb-1",name:"voyageRoute",label:"Voyage Route",value:ae,onChange:function(e){return te(e.target.value.toUpperCase())},fullWidth:!0,required:!0,disabled:j}),r.a.createElement($e,{setAccommodationType:Pe,accommodationType:ke,disabled:j})),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{className:"m-0 p-0 mb-1",value:be||"",onChange:function(e){return fe(e.target.value)},name:"seat_number",label:"Seat/Bunk Number",fullWidth:!0,required:!0,disabled:j}),r.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",value:Oe||"",helperText:"( if with service vehicle )",onChange:function(e){return je(e.target.value)},fullWidth:!0,disabled:j}))))))))),r.a.createElement(U.a,{md:12,className:"text-left mt-2"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.r})," Travel Details"),r.a.createElement(I.a,{className:"p-0",style:{border:"none"}},r.a.createElement(_e.a,{className:"m-0 p-0"},r.a.createElement(U.a,{md:12,className:"m-0 p-0"},r.a.createElement(I.a,{className:"m-0 p-0 pb-2"},r.a.createElement(_e.a,{className:"m-0 p-0 pl-2 pr-2 pb-2 pt-2"},r.a.createElement(F.a,null,r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",value:T||"",onChange:function(e){return k(e.target.value)},fullWidth:!0,required:!0,disabled:j}),r.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",value:W||"",onChange:function(e){return A(e.target.value)},fullWidth:!0,required:!0,disabled:j})),r.a.createElement(U.a,{md:4},r.a.createElement("div",null,r.a.createElement(Qe,{departureDate:ce,setDepartureDateChange:se,disabled:j})),r.a.createElement("div",null,r.a.createElement(Xe,{arrivalDate:oe,setArrivalDateChange:ue,disabled:j}))),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",value:R||"",onChange:function(e){return H(e.target.value)},fullWidth:!0,required:!0,disabled:j})))))))))),!o&&r.a.createElement("div",null,b&&r.a.createElement(F.a,{className:"mt-3 ml-1"},r.a.createElement(ve.a,{type:"button",onClick:function(){return function(){e.setIsProcessing(!0),u(!0);var t=a,n=x[1],r={first_name:n.profile.first_name,last_name:n.profile.last_name,gender:n.profile.gender,age:n.profile.age,email:n.profile.email,mobile:n.profile.mobile,zipcode:n.profile.address.zipcode,specific_address:n.profile.address.specific_address,temp:n.bodyTemperature,barangay:n.profile.address.barangay,person_type:n.profile.person_type,origin:T,destination:W,arrival:c.format(new Date(oe),"Y-M-dd H:m:s"),departure:c.format(new Date(ce),"Y-M-dd H:m:s"),transport_type:Q,transport_no:xe,ship_name:J,travel_id:n.id,accommodation_type:ke,previous_travel:R,parking_space_no:Oe,seat_no:be,route:ae,companion_name:n.companions,relative_name:n.profile.relatives[0].name,relative_contact:n.profile.relatives[0].contact};f.put("carrier/update/".concat(n.profile.id),r,{headers:{Authorization:"bearer "+t}}).then((function(a){a.data.status?(e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success"),l.loadPassengers(),e.toggle()):(e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),u(!1),le.a.fire("Transaction Failed!","error")}))}()},color:"primary",disabled:j,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.q})," Save")))))},aa=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],i=Ee().selectedProfile,m=Object(n.useState)(""),o=Object(s.a)(m,2),u=o[0],d=o[1],p=Object(n.useState)(""),E=Object(s.a)(p,2),b=E[0],f=E[1];return Object(n.useEffect)((function(){d(i[2].first_name),f(i[2].last_name)}),[i]),r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"5%",marginLeft:e.modalMargin}},r.a.createElement(Ce.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(L.a,{icon:B.v})," Transport Details: ",r.a.createElement("span",{className:"text-success"},"".concat(u.toUpperCase()," ").concat(b.toUpperCase()))),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(we.a,{className:"pt-0"},r.a.createElement(F.a,null,r.a.createElement(ea,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{className:"text-center"},r.a.createElement(Le,{title:"Updating Transport Details"}))))))))},ta=function(e){var a=d().authTokens,t=Ee(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],m=c[1],o=Object(n.useState)(!0),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)(!1),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(""),N=Object(s.a)(j,2),y=N[0],S=N[1],x=Object(n.useState)(""),C=Object(s.a)(x,2),w=C[0],_=C[1],T=Object(n.useState)(""),k=Object(s.a)(T,2),P=k[0],D=k[1],W=Object(n.useState)(""),A=Object(s.a)(W,2),q=A[0],R=A[1],H=Object(n.useState)(""),G=Object(s.a)(H,2),Y=G[0],J=G[1],V=Object(n.useState)(""),K=Object(s.a)(V,2),Z=K[0],Q=K[1],X=Object(n.useState)(""),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(s.a)(te,2),re=ne[0],ce=ne[1],se=Object(n.useState)(""),ie=Object(s.a)(se,2),me=ie[0],oe=ie[1],ue=Object(n.useState)(""),de=Object(s.a)(ue,2),pe=de[0],be=de[1],fe=Object(n.useState)(""),ge=Object(s.a)(fe,2),he=ge[0],Oe=ge[1],je=Object(n.useState)(""),Ne=Object(s.a)(je,2),ye=Ne[0],Se=Ne[1],xe=Object(n.useState)(""),Ce=Object(s.a)(xe,2),we=Ce[0],Te=Ce[1],ke=Object(n.useState)(""),Pe=Object(s.a)(ke,2),De=Pe[0],We=Pe[1],Ae=Object(n.useState)(""),qe=Object(s.a)(Ae,2),Ie=qe[0],Fe=qe[1],Ue=Object(n.useState)(""),ze=Object(s.a)(Ue,2),Re=ze[0],Le=ze[1],Be=Object(n.useState)(""),He=Object(s.a)(Be,2),Ge=He[0],Ye=He[1],Je=Object(n.useState)(""),Ke=Object(s.a)(Je,2),Ze=Ke[0],ea=Ke[1],aa=Object(n.useState)(null),ta=Object(s.a)(aa,2),na=ta[0],ra=ta[1],la=Object(n.useState)(null),ca=Object(s.a)(la,2),sa=ca[0],ia=ca[1],ma=Object(n.useState)(""),oa=Object(s.a)(ma,2),ua=oa[0],da=oa[1],pa=Object(n.useState)(""),Ea=Object(s.a)(pa,2),ba=Ea[0],fa=Ea[1],ga=Object(n.useState)(""),ha=Object(s.a)(ga,2),va=ha[0],Oa=ha[1],ja=Object(n.useState)(""),Na=Object(s.a)(ja,2),ya=Na[0],Sa=Na[1],xa=function(n){if(n.preventDefault(),p)return E(!1),O(!0),null;e.setIsProcessing(!0),m(!0);var r={first_name:y,last_name:w,gender:P,age:q,email:Z,mobile:ee,zipcode:parseInt(pe),specific_address:he,temp:Y,barangay:"",origin:we,destination:De,arrival:sa,departure:na,transport_type:Ge,transport_no:va,ship_name:Re,accomodation_type:ya,previous_travel:Ie,parking_space_no:ba,seat_no:ua,route:Ze,companion_name:ye,relative_name:re,relative_contact:me};f.post("carrier/add-profile",r,{headers:{Authorization:"bearer "+a.access_token}}).then((function(a){a.data.status?(e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Completed!","Data Successfully Updated!","success").then((function(){t.loadPassengers(),e.toggle()}))):(e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),m(!1),le.a.fire("Transaction Failed!","error")}))};return r.a.createElement(M.a,{fluid:!0,className:"pt-2"},r.a.createElement(U.a,{xs:12,className:"mt-3"},r.a.createElement(z.a,{onSubmit:function(e){return xa(e)}},r.a.createElement(F.a,null,p&&r.a.createElement(M.a,{fluid:!0},r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.u})," Personal Details"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1 mt-3"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"first_name",label:"First Name",value:y,onChange:function(e){return S(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{name:"last_name",label:"Last Name",value:w,onChange:function(e){return _(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"number",name:"age",label:"Age",value:q,onChange:function(e){return R(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(Ve,{gender:P,setGender:D})),r.a.createElement("div",{className:"mb-4"},r.a.createElement(h.a,{type:"number",inputProps:{min:"20.0",max:"50.0",step:"0.1"},name:"bodyTemperature",label:"Body Temperature",value:Y||"",onChange:function(e){return J(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(U.a,{xs:4,className:"p-0"},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.p})," Contact Details"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(h.a,{name:"mobile",type:"number",label:"Mobile Number",value:ee||"",onChange:function(e){return ae(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(h.a,{type:"email",name:"email",label:"Email Address",value:Z,onChange:function(e){return Q(e.target.value)},fullWidth:!0})))))),r.a.createElement("h6",{className:"text-primary mt-2 ml-1"},r.a.createElement(L.a,{icon:B.n})," Address"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{type:"number",name:"zipcode",label:"Zipcode",value:pe,onChange:function(e){return be(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{label:"Complete Address",name:"complete_address",value:he,onChange:function(e){return Oe(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(U.a,{xs:4},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.x})," Companion Details"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(h.a,{label:"Child Companion",name:"childCompanion",value:ye,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return Se(e.target.value)},fullWidth:!0})))))),r.a.createElement("h6",{className:"text-primary mt-3"},r.a.createElement(L.a,{icon:B.o})," Nearest Relative"),r.a.createElement(F.a,null,r.a.createElement(U.a,{xs:12},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(h.a,{label:"Name",name:"relativeName",value:re,onChange:function(e){return ce(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(h.a,{type:"number",label:"Contact Number",name:"relativeContact",value:me,onChange:function(e){return oe(e.target.value)},fullWidth:!0,required:!0}))))))))),v&&r.a.createElement(M.a,{fluid:!0},r.a.createElement(F.a,null,r.a.createElement(U.a,{md:12},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.a})," Transport Details")),r.a.createElement(U.a,{md:4},r.a.createElement(Me,{shipName:Re,setShipName:Le,getShipDetails:function(e){f.get("carrier/transport/ship/".concat(e),{headers:{Authorization:"bearer "+a}}).then((function(e){var a=e.data;null!=a&&(ea(a.routes),Ye(a.transportation_category_id))}))}}),r.a.createElement(h.a,{className:"m-0 p-0 mt-1",onChange:function(e){return Oa(e.target.value)},value:va,name:"transportNumber",label:"Voyage Number",fullWidth:!0,required:!0})),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{className:"mb-1",name:"voyageRoute",label:"Voyage Route",value:Ze,onChange:function(e){return ea(e.target.value.toUpperCase())},fullWidth:!0,disabled:!0}),r.a.createElement($e,{setAccommodationType:Sa,accommodationType:ya})),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{className:"m-0 p-0 mb-1",value:ua,onChange:function(e){return da(e.target.value)},name:"seat_number",label:"Seat/Bunk Number",fullWidth:!0,required:!0}),r.a.createElement(h.a,{name:"parking_space_no",label:"Parking Space Number",value:ba,helperText:"( if with service vehicle )",onChange:function(e){return fa(e.target.value)},fullWidth:!0})),r.a.createElement(U.a,{md:12},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(L.a,{icon:B.r})," Travel Details")),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{label:"Port of Embarkation",name:"origin",value:we||"",onChange:function(e){return Te(e.target.value)},fullWidth:!0,required:!0}),r.a.createElement(h.a,{label:"Port of Dis-embarkation",name:"destination",value:De||"",onChange:function(e){return We(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement(U.a,{md:4},r.a.createElement("div",null,r.a.createElement(Qe,{departureDate:na,setDepartureDateChange:ra})),r.a.createElement("div",null,r.a.createElement(Xe,{arrivalDate:sa,setArrivalDateChange:ia}))),r.a.createElement(U.a,{md:4},r.a.createElement(h.a,{label:"Place of Travel History",name:"travelHistory",helperText:"( within 14 Days )",value:Ie||"",onChange:function(e){return Fe(e.target.value)},fullWidth:!0,required:!0}))))),p&&r.a.createElement(F.a,{className:"mt-3 mr-1 text-right d-flex"},r.a.createElement(ve.a,{className:"ml-auto",type:"submit",color:"primary",style:{minWidth:"120px"}},"Next"," ",r.a.createElement(L.a,{icon:B.d,className:"mt-1 ml-1"}))),v&&r.a.createElement("div",null,!i&&r.a.createElement(F.a,{className:"mt-3 mr-1 text-right d-flex"},r.a.createElement(ve.a,{className:"ml-auto mr-1",type:"button",onClick:function(){return E(!0),void O(!1)},color:"primary",style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.c,className:"mt-1 ml-1"})," ","Back"),r.a.createElement(ve.a,{type:"submit",color:"primary",style:{minWidth:"120px"}},"Save ",r.a.createElement(L.a,{icon:B.q,className:"mt-1 ml-1"})))))))},na=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:e.modalMargin}},r.a.createElement(Ce.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(L.a,{icon:B.v})," Passenger Profile"),r.a.createElement(we.a,{className:"pt-0"},r.a.createElement(F.a,null,r.a.createElement(ta,{setIsProcessing:c,toggle:e.toggle})),r.a.createElement("div",null,l&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{className:"text-center"},r.a.createElement(Le,{title:"Create New Passenger Profile"})))))))},ra=function(e){var a=d().authTokens,t=Object(n.useContext)(me).modalMargin,l=Object(n.useState)([]),c=Object(s.a)(l,2),i=c[0],m=c[1],o=Object(n.useState)(),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)({}),g=Object(s.a)(b,2),h=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),N=j[0],y=j[1],S=Object(n.useState)([]),x=Object(s.a)(S,2),C=x[0],w=x[1],_=Object(n.useState)([]),T=Object(s.a)(_,2),k=T[0],P=T[1],D=Object(n.useState)(!1),W=Object(s.a)(D,2),A=W[0],I=W[1],z=function(){return I(!A)},R=Object(n.useState)(!1),H=Object(s.a)(R,2),G=H[0],Y=H[1],J=function(){return Y(!G)},V=Object(n.useState)(!1),K=Object(s.a)(V,2),Z=K[0],Q=K[1],X=function(){return Q(!Z)},$=Object(n.useState)(!1),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=function(){return te(!ae)},re=Object(n.useState)(!1),le=Object(s.a)(re,2),ce=le[0],se=le[1],ie=function(){return se(!ce)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(ge.isArray)(e)?Ee(e):ue(e)},ue=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],void 0),i=l[1];c=i.profile,a[t]=[c.id,"".concat(c.first_name.toUpperCase()," ").concat(c.last_name.toUpperCase()),c.age,"F"===c.gender.toUpperCase()?"FEMALE":"MALE",c.email,null===c.mobile?"N/A":c.mobile,[t,i,c]],t++}return a},Ee=function(e){if(e.length>0){return e.map((function(e,a){var t,n=e;return t=n.profile,[t.id,"".concat(t.first_name.toUpperCase()," ").concat(t.last_name.toUpperCase()),t.age,"F"===t.gender.toUpperCase()?"FEMALE":"MALE",t.email,null===t.mobile?"N/A":t.mobile,[a,n,t]]}))}},fe=Object(n.useCallback)((function(){y(!0),f.get("carrier/trace-profiles",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=e.data.current_page;if(Object.keys(a).length>0){var n=oe(a);E(t),m(n)}y(!1)})).catch((function(e){y(!1)}))}),[]),Oe=Object(n.useCallback)((function(){f.get("carrier/transport/ships",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}w(a)}))}),[]),je=Object(n.useCallback)((function(){f.get("carrier/transport/category",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}P(a)}))}),[]),Ne=Object(ge.debounce)((function(e){return Se(e)}),500),Se=function(e){return f.post("carrier/search",{_text:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=oe(a);m(t),y(!1)}))},xe=["Ref #","Name","Age","Gender","Email","Contact",{name:"Actions",options:{customBodyRender:function(e,a,t){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(he.a,{title:"Profile Details",placement:"top"},r.a.createElement(ve.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return v(e),void X()}},r.a.createElement(L.a,{icon:B.u}))),r.a.createElement(he.a,{title:"Transport Details",placement:"top"},r.a.createElement(ve.a,{color:"link",className:"p-1 m-0 btn text-primary",onClick:function(){return v(e),void ne()}},r.a.createElement(L.a,{icon:B.r}))))}}}],Ce={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"420px",selectableRows:"none",print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=p&&(t=p+1,f.get("carrier/trace-profiles?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=oe(a);e.data.current_page>p&&(E(e.data.current_page),t=void 0!==n?[].concat(Object(de.a)(i),Object(de.a)(n)):i),m(t)})))},onSearchClose:function(){y(!1),fe()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(y(!0),Ne(a))}},customSearch:function(e,a,t){return i.length>0}};return Object(n.useEffect)((function(){return fe(),Oe(),je(),function(){}}),[fe,Oe,je]),r.a.createElement(pe.Provider,{value:{passengerData:i,loadPassengers:fe,selectedProfile:h}},r.a.createElement(be.Provider,{value:{shipOptions:C,loadShips:Oe,transportOptions:k}},r.a.createElement(M.a,{fluid:"true",className:"mt-4 p-0 m-0"},r.a.createElement(F.a,{className:"m-0 p-0"},r.a.createElement(U.a,{md:12,className:"ml-0 pl-0"},r.a.createElement(q.a,{onClick:function(){return z()},className:"mt-4 buttonSameWidth",variant:"contained"},r.a.createElement(L.a,{icon:B.i,className:"mr-1"}),"New Manifest"),r.a.createElement(q.a,{onClick:function(){return J()},className:"mt-4 ml-1 buttonSameWidth",variant:"contained"},r.a.createElement(L.a,{icon:B.w,className:"mr-1"}),"New Passenger"),r.a.createElement(q.a,{onClick:function(){return ie()},className:"mt-4 ml-1 buttonSameWidth",variant:"contained"},r.a.createElement(L.a,{icon:B.r,className:"mr-1"}),"New Ship")),r.a.createElement(U.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(ye,{title:"Passengers",loadPassengers:fe,data:i,isLoading:N,columns:xe,options:Ce})))),r.a.createElement(Be,{isOpen:A,loadPassengers:fe,toggle:z}),Z&&r.a.createElement(Ze,{isOpen:Z,toggle:X,modalMargin:t}),ae&&r.a.createElement(aa,{isOpen:ae,toggle:ne,modalMargin:t}),G&&r.a.createElement(na,{isOpen:G,toggle:J,modalMargin:t,loadPassengers:fe}),ce&&r.a.createElement(Ge,{isOpen:ce,toggle:ie})))},la=function(e){var a=(new Se.a).format(new Date,"Y");return r.a.createElement("div",null,r.a.createElement("footer",{className:"m-0 p-0 ml-1",style:{bottom:"0",left:"0",position:"fixed"}},r.a.createElement("small",null,"Copyright \xa9 ",a,". "),r.a.createElement("small",null,"All rights reserved")))},ca=t(135),sa=function(e){var a=d().authTokens,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],m=Object(n.useState)(!1),o=Object(s.a)(m,2),u=o[0],p=o[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),g=b[0],j=b[1],y=Object(n.useState)(!1),x=Object(s.a)(y,2),C=x[0],w=x[1],_=Object(n.useState)(!1),T=Object(s.a)(_,2),k=T[0],P=T[1],D=Object(n.useState)(!1),W=Object(s.a)(D,2),A=W[0],q=W[1],M=Object(n.useState)("Invalid Input"),z=Object(s.a)(M,2),R=z[0],H=z[1],G=Object(n.useState)(!1),Y=Object(s.a)(G,2),J=Y[0],V=Y[1],K=Object(n.useState)(""),Z=Object(s.a)(K,2),Q=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1];return r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginLeft:"40%",marginTop:"7%",color:"#1a1751"}},r.a.createElement(Ce.a,null,r.a.createElement(L.a,{icon:B.m})," Change Password ",r.a.createElement("br",null)),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var n=a.access_token;if(J&&H("Minimum password length is 6"),k&&H("Password doesn't match"),k||J)q(!0);else{q(!1),i(!0);var r={password:ae,new_password:Q};f.post("auth/carrier/update-password",r,{headers:{Authorization:"bearer "+n}}).then((function(a){i(!1),a.data.status?(le.a.fire("Transaction Completed!","Password Successfully Updated!","success"),e.toggle()):(H(a.data.message),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),le.a.fire("Transaction Failed!","Failed to Update Password!","error")}))}}(t)}},r.a.createElement(we.a,null,A&&r.a.createElement("div",{className:"text-left card p-1 bg-danger"},r.a.createElement("span",{className:"text-white ml-2"},r.a.createElement(L.a,{icon:B.t})," ",R)),r.a.createElement(F.a,{className:"p-2 pt-0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(F.a,null,r.a.createElement("div",{className:"col-md-12 p-1"},r.a.createElement(I.a,{className:"p-1"},r.a.createElement(_e.a,{className:"p-1 m-1"},r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(h.a,{name:"old_password",label:"Old Password",type:C?"text":"password",onChange:function(e){return te(e.target.value)},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return w(!C)}},C?r.a.createElement(N.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement("div",null,r.a.createElement(h.a,{type:u?"text":"password",name:"new_password",label:"New Password",onChange:function(e){return a=e.target.value,X(a),q(!1),void(a.replace(/\s+/g,"").length>=6?(V(!1),P(a!==Q)):V(!0));var a},error:J,fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return p(!u)}},u?r.a.createElement(N.a,null):r.a.createElement(S.a,null)))}})),r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(h.a,{error:k,type:g?"text":"password",name:"confirm_password",label:"Confirm Password",onChange:function(e){return a=e.target.value,q(!1),void P(a!==Q);var a},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(O.a,{onClick:function(){return j(!g)}},g?r.a.createElement(N.a,null):r.a.createElement(S.a,null)))}}))))))),c&&r.a.createElement(U.a,{md:12},r.a.createElement(ca.a,{className:"p-2 m-2 mt-3"},r.a.createElement(Le,{title:"Updating Password"}))))),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{type:"submit",color:"primary",disabled:c||A,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.q})," Save")," ",r.a.createElement(ve.a,{color:"danger",onClick:e.toggle,disabled:c,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.y})," Close")))))},ia=t(760),ma=t(398),oa=t(76),ua=t(736),da=t(740),pa=t(767),Ea=t(395),ba=t(759),fa=t(434),ga=t.n(fa),ha=t(435),va=t.n(ha),Oa=t(436),ja=t.n(Oa),Na=t(440),ya=t.n(Na),Sa=t(439),xa=t.n(Sa),Ca=t(438),wa=t.n(Ca),_a=t(437),Ta=t.n(_a),ka=t(3),Pa=(t(726),function(e){var a=d().authTokens.access_token,t=fe().selectedShip,l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],m=c[1],o=Object(n.useState)(null),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(null),N=Object(s.a)(j,2),y=N[0],S=N[1],x=Object(n.useState)(null),C=Object(s.a)(x,2),w=C[0],_=C[1];return Object(n.useEffect)((function(){return E(t[0].id),O(t[0].name),S(t[0].routes),_(t[0].transportation_category_id),function(){}}),[t]),r.a.createElement("div",null,r.a.createElement(xe.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginTop:"10%"}},r.a.createElement(Ce.a,null,r.a.createElement(L.a,{icon:B.r})," Update Ship"),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),m(!0);var n=a,r={name:v,routes:y,transportation_category_id:w};f.put("carrier/transport/update/".concat(p),r,{headers:{Authorization:"bearer "+n}}).then((function(a){a.data.status?(m(!1),le.a.fire("Transaction Completed!","Data Successfully Created!","success"),e.loadShips&&e.loadShips(),e.toggle()):(m(!1),le.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){m(!1),le.a.fire("Transaction Failed!","error")}))}(t)}},r.a.createElement(we.a,null,r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{md:12},r.a.createElement(I.a,null,r.a.createElement(_e.a,null,r.a.createElement(h.a,{className:"m-0",value:v||"",onChange:function(e){return O(e.target.value)},name:"shipName",label:"Ship Name",required:!0,fullWidth:!0}),r.a.createElement(h.a,{className:"m-0 mt-1 mb-1",value:y||"",onChange:function(e){return S(e.target.value)},name:"voyageRoute",label:"Route",required:!0,fullWidth:!0}),r.a.createElement(He,{transportType:w,setTransportType:_}))))),r.a.createElement("div",null,i&&r.a.createElement(F.a,{className:"p-2"},r.a.createElement(U.a,{className:"text-center"},r.a.createElement(Le,{title:"Updating Ship Record"}))))),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{type:"submit",color:"primary",disabled:i,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.q})," Save")," ",r.a.createElement(ve.a,{color:"danger",onClick:e.toggle,disabled:i,style:{minWidth:"120px"}},r.a.createElement(L.a,{icon:B.y})," Cancel")))))}),Da=(t(727),function(e){var a=d().authTokens,t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],i=l[1],m=Object(n.useState)({}),o=Object(s.a)(m,2),u=o[0],p=o[1],E=Object(n.useState)(),b=Object(s.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),j=O[0],N=O[1],y=Object(n.useState)([]),S=Object(s.a)(y,2),x=S[0],C=S[1],w=Object(n.useState)(!1),_=Object(s.a)(w,2),T=_[0],k=_[1],P=function(){return k(!T)},D=Object(n.useState)(!1),W=Object(s.a)(D,2),A=W[0],I=W[1],z=function(){return I(!A)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?null:Object(ge.isArray)(e)?G(e):H(e)},H=function(e){for(var a=[],t=0,n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),c=(l[0],l[1]);a[t]=[c.id,c.name,c.routes,[c]],t++}return a},G=function(e){if(e.length>0)return e.map((function(e,a){return[e.id,e.name,e.routes,[e]]}))},Y=Object(n.useCallback)((function(){N(!0),f.get("carrier/transport",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=e.data.current_page;if(Object.keys(a).length>0){var n=R(a);h(t),i(n)}N(!1)})).catch((function(e){N(!1)}))}),[]),J=Object(n.useCallback)((function(){f.get("carrier/transport/category",{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=[];if(e.data.length>0)for(var t in e.data){var n={value:e.data[t].id,label:e.data[t].name};a.push(n)}C(a)}))}),[]),V=Object(ge.debounce)((function(e){return K(e)}),500),K=function(e){return f.post("carrier/transport/search",{name:e},{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data,t=R(a);i(t),N(!1)}))},Z=["ID","Name","Route",{name:"Actions",options:{customBodyRender:function(e,t,n){return r.a.createElement("div",{style:{color:"#1a1751"}},r.a.createElement(he.a,{title:"Update Ship Details",placement:"top"},r.a.createElement(ve.a,{color:"link",className:"p-1 m-0 btn",onClick:function(){return function(e){p(e),z()}(e)}},r.a.createElement(L.a,{icon:B.h}))),r.a.createElement(he.a,{title:"Archive Ship",placement:"top"},r.a.createElement(ve.a,{color:"link",className:"p-1 m-0 btn text-danger",onClick:function(){return t=e,void le.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.isConfirmed&&f.delete("carrier/transport/delete/".concat(t[0].id),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){e.data.status?(le.a.fire("Transaction Completed",e.data.message,"success"),Y()):le.a.fire("Transaction Completed",e.data.message,"error")}))}));var t}},r.a.createElement(L.a,{icon:B.b}))))}}}],Q={fixHeader:!0,filterType:"dropdown",responsive:"vertical",tableBodyHeight:"420px",selectableRows:"none",print:!1,download:!1,rowsPerPage:5,rowsPerPageOptions:[5,30,100],onChangePage:function(e){var t;e%2!==0&&e>=g&&(t=g+1,f.get("carrier/transport?page=".concat(t),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){var a=e.data.data,t=[],n=R(a);e.data.current_page>g&&(h(e.data.current_page),t=void 0!==n?[].concat(Object(de.a)(c),Object(de.a)(n)):c),i(t)})))},onSearchClose:function(){N(!1),Y()},searchProps:{onKeyUp:function(e){var a=e.target.value;a.length>=2&&(N(!0),V(a))}},customSearch:function(e,a,t){return c.length>0}};return Object(n.useEffect)((function(){return Y(),J(),function(){}}),[Y,J]),r.a.createElement(be.Provider,{value:{shipsData:c,selectedShip:u,transportOptions:x}},r.a.createElement(M.a,{fluid:"true",className:"mt-4 p-0 m-0"},r.a.createElement(F.a,{className:"m-0 p-0"},r.a.createElement(U.a,{md:12,className:"pl-0 ml-0"},r.a.createElement(q.a,{onClick:function(){return P()},className:"mt-4 buttonSameWidth",variant:"contained"},r.a.createElement(L.a,{icon:B.r,className:"mr-1"}),"New Ship")),r.a.createElement(U.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(ye,{title:"Ships",loadShips:Y,data:c,isLoading:j,columns:Z,options:Q})))),T&&r.a.createElement(Ge,{isOpen:T,toggle:P,loadShips:Y}),A&&r.a.createElement(Pa,{isOpen:A,toggle:z,loadShips:Y}))}),Wa=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#1a1751"},appBarShift:{width:"calc(100% - ".concat(220,"px)"),marginLeft:220,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:220,flexShrink:0},drawerPaper:{width:220,boxShadow:"1px 0px 10px #000"},drawerHeader:Object(ie.a)(Object(ie.a)({display:"flex",alignItems:"center"},e.mixins.toolbar),{},{backgroundColor:"#FFFFFF",color:"#FFFFFF",margin:"0px",padding:"0px"}),content:{flexGrow:1,padding:e.spacing(4),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},large:{width:e.spacing(10),height:e.spacing(10)},nested:{paddingLeft:e.spacing(4)}}}));function Aa(e){var a=d().authTokens,t=Wa(),l=Object(n.useState)(!0),c=Object(s.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],b=p[1],f=Object(n.useState)("20%"),g=Object(s.a)(f,2),h=g[0],v=g[1],j=Object(n.useState)(!1),N=Object(s.a)(j,2),y=N[0],S=N[1],x=function(){return S(!y)},C=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";switch(a){case"/":e.history.push("/");break;case"ships":e.history.push("/ships")}};return r.a.createElement(me.Provider,{value:{modalMargin:h}},r.a.createElement("div",{className:t.root},r.a.createElement(ia.a,{position:"fixed",className:Object(ka.default)(t.appBar,Object(se.a)({},t.appBarShift,i))},r.a.createElement(ma.a,null,r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!i),v(i?"13%":"20%")},edge:"start",className:Object(ka.default)(t.menuButton),style:{outline:"none"}},r.a.createElement(ga.a,null)),r.a.createElement(Ue.a,{variant:"h6",noWrap:!0},r.a.createElement("div",{className:"float-left"},r.a.createElement("img",{src:ue.a,width:"33",height:"35",alt:"EMS Logo"})),r.a.createElement("div",{className:"float-left"},r.a.createElement("ul",{className:"p-0 m-0 mt-2 ml-1",style:{listStyle:"none",lineHeight:"0.9rem"}},r.a.createElement("li",{style:{fontSize:"1.5rem"}},"PEMS"),r.a.createElement("li",null,r.a.createElement("small",{style:{fontSize:"0.8rem"}},"Passenger e-Manifest System"))))))),r.a.createElement(oa.a,{className:t.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("div",{className:"container-fluid text-left mb-2",style:{color:"#1a1751",minHeight:"125px",height:"125px"}},r.a.createElement("div",{className:"text-center mt-4 pb-2 border-bottom"},r.a.createElement(va.a,{style:{width:"45px",height:"50px"}}),r.a.createElement("ul",{className:"m-0 p-0 mt-2",style:{listStyle:"none",lineHeight:"1em"}},r.a.createElement("li",{className:"border p-1 bg-primary text-white"},r.a.createElement("strong",null,a.user.toUpperCase())),r.a.createElement("li",{className:"mt-2"},"Operator"))))),r.a.createElement(ua.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(da.a,{className:"mt-4",button:!0,onClick:function(){return C("/")}},r.a.createElement(pa.a,null,r.a.createElement(ja.a,null)),r.a.createElement(Ea.a,{primary:"Dashboard"})),r.a.createElement(da.a,{button:!0,onClick:function(e){return function(e){e.preventDefault(),x()}(e)}},r.a.createElement(pa.a,null,r.a.createElement(Ta.a,null)),r.a.createElement(Ea.a,{primary:"My Account"})),r.a.createElement(da.a,{button:!0,onClick:function(){b(!E)}},r.a.createElement(pa.a,null,r.a.createElement(L.a,{icon:B.g,size:"lg"})),r.a.createElement(Ea.a,{primary:"Manage"}),E?r.a.createElement(wa.a,null):r.a.createElement(xa.a,null)),r.a.createElement(ba.a,{in:E,timeout:"auto",unmountOnExit:!0},r.a.createElement(ua.a,{component:"div",disablePadding:!0},r.a.createElement(da.a,{button:!0,onClick:function(){return C("ships")},className:t.nested},r.a.createElement(pa.a,null,r.a.createElement(L.a,{icon:B.r})),r.a.createElement(Ea.a,{primary:"Ships"})))),r.a.createElement(da.a,{button:!0,onClick:function(){return sessionStorage.removeItem("pemtokens"),void window.location.reload()}},r.a.createElement(pa.a,null,r.a.createElement(ya.a,null)),r.a.createElement(Ea.a,{primary:"Logout"})),r.a.createElement(la,null))),r.a.createElement("main",{className:Object(ka.default)(t.content,Object(se.a)({},t.contentShift,i))},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(ra,null)),r.a.createElement(m.b,{exact:!0,path:"/ships"},r.a.createElement(Da,null))),y&&r.a.createElement(sa,{isOpen:y,toggle:x}))))}var qa=function(e){Object(X.a)(t,e);var a=Object($.a)(t);function t(){return Object(Z.a)(this,t),a.apply(this,arguments)}return Object(Q.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container card",style:{marginTop:"10%"}},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement("h3",{className:"text-danger  p-1 m-4"},r.a.createElement("b",null,"Error 404: ")," Page Not Found"))))}}]),t}(n.Component),Ma=function(e){var a=JSON.parse(sessionStorage.getItem("pemtokens")),t=Object(n.useState)(a),l=Object(s.a)(t,2),c=l[0],o=l[1];return r.a.createElement(u.Provider,{value:{authTokens:c,setAuthTokens:function(e){sessionStorage.setItem("pemtokens",JSON.stringify(e)),o(e)}}},r.a.createElement(i.a,{basename:"/marina/module/transport"},r.a.createElement(m.d,null,r.a.createElement(p,{exact:!0,path:"/",component:Aa}),r.a.createElement(p,{exact:!0,path:"/ships",component:Aa}),r.a.createElement(m.b,{exact:!0,path:"/login",component:ne}),r.a.createElement(m.b,{exact:!0,path:"/register",component:ce}),r.a.createElement(m.b,{component:qa}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ma,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[455,1,2]]]);
//# sourceMappingURL=main.d2730be0.chunk.js.map