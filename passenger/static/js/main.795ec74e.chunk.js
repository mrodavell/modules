(this.webpackJsonpustphims=this.webpackJsonpustphims||[]).push([[0],{181:function(e,a,t){},206:function(e,a,t){e.exports=t.p+"static/media/logo.dc773f1f.jpg"},207:function(e,a,t){e.exports=t.p+"static/media/marina.3d4d22a6.png"},421:function(e,a,t){e.exports=t.p+"static/media/dto.1f15fbb3.png"},429:function(e,a,t){e.exports=t.p+"static/media/icon.c0920caa.png"},430:function(e,a,t){e.exports=t.p+"static/media/img_card.9baaba41.jpg"},432:function(e,a,t){e.exports=t.p+"static/media/ship.c9ae8cdc.svg"},454:function(e,a,t){e.exports=t(726)},460:function(e,a,t){},465:function(e,a,t){},484:function(e,a,t){},486:function(e,a,t){},487:function(e,a,t){},725:function(e,a,t){},726:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t.n(l),s=(t(459),t(460),t(6)),i=t(126),m=t(36),o=t(440),u=Object(n.createContext)();function d(){return Object(n.useContext)(u)}var p=function(e){var a=e.component,t=Object(o.a)(e,["component"]),n=d();return r.a.createElement(m.b,Object.assign({},t,{render:function(e){return function(e){return null!==e.authTokens&&!(e.authTokens.expires_in>Date.now())}(n)?r.a.createElement(a,e):r.a.createElement(m.a,{to:"/login"})}}))},E=(t(465),t(420)),h=t.n(E).a.create({baseURL:"https://passengertracer.net/apis/api/v1/"}),b=t(345),f=t(346),g=t(756),v=t(274),N=t(95),O=t.n(N),j=t(96),x=t.n(j),y=t(423),S=t.n(y),w=t(424),C=t.n(w),k=t(425),_=t.n(k),L=t(426),P=t.n(L),W=t(422),T=t.n(W),D=t(347),A=t(749),M=t(751),z=t(752),I=t(753),q=t(754),F=t(757),H=t(12),U=t(13),B=(t(484),t(206)),R=t.n(B),Y=t(207),G=t.n(Y),V=t(421),X=t.n(V),J=t(208),Z=t(209),K=t(229),Q=t(228),$=function(e){Object(K.a)(t,e);var a=Object(Q.a)(t);function t(){return Object(J.a)(this,t),a.apply(this,arguments)}return Object(Z.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("span",{className:"text-danger text-center p-1"},this.props.children))}}]),t}(n.Component),ee=t(778),ae=Object(b.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(2.3),height:e.spacing(2.3),float:"left",marginLeft:"7px",marginTop:"3px"},large:{width:e.spacing(7),height:e.spacing(7)}}})),te=function(e){var a=ae(),t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)("Invalid User Credentials"),N=Object(s.a)(b,2),j=N[0],y=N[1],w=d(),k=w.authTokens,L=w.setAuthTokens,W=Object(n.useState)(!1),B=Object(s.a)(W,2),Y=B[0],V=B[1];if(null!==k&&k.expires_in<Date.now())return r.a.createElement(m.a,{to:"/"});return r.a.createElement(A.a,{style:{width:"959px",marginTop:"5%"}},r.a.createElement("a",{href:"https://passengertracer.net/",rel:"noopener noreferrer",className:"btn m-0 p-0 mb-1 text-white"},r.a.createElement(T.a,{style:{fontSize:"0.9em"}})," Go Back to Portal"),r.a.createElement(M.a,{className:"bg-primary p-0 m-0",style:{borderRadius:"0px",border:"none",opacity:"0.9"}},r.a.createElement(z.a,{className:"p-0 m-0"},r.a.createElement(I.a,{xs:6,className:"text-center text-white p-2"},r.a.createElement("img",{className:"mt-5",src:G.a,width:"90",height:"110",alt:"Marina Logo"}),r.a.createElement("a",{href:"https://marina.gov.ph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement("h3",{className:"mt-4"},"Maritime Industry Authority")),r.a.createElement("div",{className:"text-center pl-5 pr-5 ml-0"},"Follow us on: ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.facebook.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white mr-1",style:{textDecoration:"none"}},r.a.createElement(S.a,{className:a.large})),r.a.createElement("a",{href:"https://twitter.com/DOTrMARINAPH",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(C.a,{className:a.large})),r.a.createElement("a",{href:"https://www.instagram.com/dotrmarinaph/",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(_.a,{className:a.large})),r.a.createElement("a",{href:"https://www.youtube.com/channel/UCK9SPcPFhiWLBUXAzlQqsxg",rel:"noopener noreferrer",target:"_blanks",className:"text-white ml-1 mr-1",style:{textDecoration:"none"}},r.a.createElement(P.a,{className:a.large}))),r.a.createElement("div",{style:{fontSize:"0.9rem",marginTop:"25%",marginLeft:"10%"}},r.a.createElement("span",{className:"float-left"},"Powered By: "),r.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/ustpdigitaltransformation",rel:"noopener noreferrer",className:"text-white",style:{textDecoration:"none"}},r.a.createElement(ee.a,{src:X.a,className:a.small}),r.a.createElement("span",{className:"float-left ml-1"},"USTP - Digital Transformation Office")))),r.a.createElement(I.a,{xs:6,className:"p-0 m-0"},r.a.createElement(M.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(I.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-2",src:R.a,style:{width:"8rem",height:"10rem"},alt:"Passenger eTracer Logo"}),r.a.createElement("h5",null,"Passengers Module")),r.a.createElement(I.a,{xs:12},r.a.createElement(q.a,{onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector("input[name=username]").value,t=document.querySelector("input[name=password]").value;""!==a&&""!==t?(i(!0),h.post("auth/profile/login",{username:a,password:t}).then((function(e){i(!1),200===e.status?!1===e.data.status?(y(e.data.error),E(!0)):L(e.data):254===e.status?(y(e.data.message),E(!0)):E(!0)})).catch((function(e){i(!1),E(!0)}))):(y("Please enter a username and password"),E(!0))}(e)},autoComplete:"off"},r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},p&&r.a.createElement($,null,j)),r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{name:"username",placeholder:"Username",label:"Username",fullWidth:!0,required:!0})),r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{type:Y?"text":"password",name:"password",placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},r.a.createElement(v.a,{onClick:function(){return V(!Y)}},Y?r.a.createElement(O.a,null):r.a.createElement(x.a,null)))}})),r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-4"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(F.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:c,fullWidth:!0},r.a.createElement("span",null,"LOGIN"),r.a.createElement(H.a,{className:"pl-1",icon:U.o})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"register",variant:"contained",color:"primary",className:"pt-1 btn",disabled:c},r.a.createElement(H.a,{className:"pr-1",icon:U.s}),r.a.createElement("span",null,"REGISTER HERE"))))))))))))},ne=t(758),re=(t(486),t(348)),le=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(f.a,{select:!0,label:"Select Gender",name:"gender",value:e.gender||l,onChange:function(a){return t=a.target.value,e.setGender(t.toUpperCase()),void c(t.toUpperCase());var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"M",label:"Male"},{value:"F",label:"Female"}].map((function(e){return r.a.createElement(re.a,{key:e.value,value:e.value},e.label)}))))},ce=t(35),se=t.n(ce),ie=function(e){var a=d().authTokens,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)("Oops! sorry something went wrong..."),N=Object(s.a)(b,2),j=N[0],y=N[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),C=w[0],k=w[1],_=Object(n.useState)(!1),L=Object(s.a)(_,2),P=L[0],W=L[1],T=Object(n.useState)(""),B=Object(s.a)(T,2),Y=B[0],V=B[1],X=Object(n.useState)(""),J=Object(s.a)(X,2),Z=J[0],K=J[1],Q=Object(n.useState)(""),ee=Object(s.a)(Q,2),ae=ee[0],te=ee[1],re=Object(n.useState)(""),ce=Object(s.a)(re,2),ie=ce[0],me=ce[1],oe=Object(n.useState)(""),ue=Object(s.a)(oe,2),de=ue[0],pe=ue[1],Ee=Object(n.useState)(""),he=Object(s.a)(Ee,2),be=he[0],fe=he[1],ge=Object(n.useState)(""),ve=Object(s.a)(ge,2),Ne=ve[0],Oe=ve[1],je=Object(n.useState)(""),xe=Object(s.a)(je,2),ye=xe[0],Se=xe[1],we=Object(n.useState)(""),Ce=Object(s.a)(we,2),ke=Ce[0],_e=Ce[1],Le=Object(n.useState)(""),Pe=Object(s.a)(Le,2),We=Pe[0],Te=Pe[1],De=Object(n.useState)(""),Ae=Object(s.a)(De,2),Me=Ae[0],ze=Ae[1],Ie=Object(n.useState)(""),qe=Object(s.a)(Ie,2),Fe=qe[0],He=qe[1],Ue=Object(n.useState)(!0),Be=Object(s.a)(Ue,2),Re=Be[0],Ye=Be[1],Ge=Object(n.useState)(!1),Ve=Object(s.a)(Ge,2),Xe=Ve[0],Je=Ve[1],Ze=Object(n.useState)(!1),Ke=Object(s.a)(Ze,2),Qe=Ke[0],$e=Ke[1],ea=Object(n.useState)(!1),aa=Object(s.a)(ea,2),ta=aa[0],na=aa[1],ra=Object(n.useState)(!1),la=Object(s.a)(ra,2),ca=la[0],sa=la[1];if(null!==a&&a.expires_in<Date.now())return r.a.createElement(m.a,{to:"/"});var ia=function(e){switch(E(!1),i(!1),Ye(!1),Je(!1),$e(!1),na(!1),e){case 1:Ye(!0);break;case 2:Je(!0);break;case 3:$e(!0);break;case 4:na(!0);break;default:Ye(!0)}};return r.a.createElement(A.a,{className:"rounded",style:{width:"768px",marginTop:"2%"}},r.a.createElement(M.a,{className:"p-0 m-0 rounded",style:{border:"none",opacity:"0.88"}},r.a.createElement(z.a,{className:"p-0 m-0"},r.a.createElement(I.a,{xs:12,className:"p-0 m-0"},r.a.createElement(M.a,{className:"p-0 m-0",style:{borderRadius:"0px"}},r.a.createElement(I.a,{xs:12,className:"mt-4 text-center"},r.a.createElement("img",{className:"mt-1",src:G.a,style:{width:"4rem",height:"4.5rem"},alt:"MARINA Logo"}),r.a.createElement("img",{className:"mt-1",src:R.a,style:{width:"5rem",height:"6rem"},alt:"Passenger eTracer Logo"})),r.a.createElement(I.a,{md:12,className:"mt-2 text-center mb-1"},r.a.createElement("h4",null,r.a.createElement(H.a,{className:"pr-1",icon:U.q})," ","Passenger Registration")),p&&r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2 text-center"},p&&r.a.createElement($,null,j)),Re&&r.a.createElement("div",null,r.a.createElement(I.a,{xs:12,className:"mt-2 text-center mb-2"},r.a.createElement("h5",null,"STEP 1: Email Validation"),r.a.createElement(I.a,{md:{size:10,offset:1},className:"text-justify pl-4 pr-4 mt-4"},r.a.createElement("h6",null,"Use your official email address. This email address will receive notifications and account recovery information."))),r.a.createElement(I.a,{xs:{size:10,offset:1}},r.a.createElement(q.a,{onSubmit:function(e){return function(e){e.preventDefault(),""!==Y?(i(!0),h.post("profile/email",{email:Y}).then((function(e){i(!1),200===e.status?0===e.data.error?(y(e.data.message),E(!0)):(V(Y),ia(2)):254===e.status?(y(e.data.message),E(!0)):E(!0)})).catch((function(e){i(!1),E(!0)}))):(y("Please enter a valid email"),E(!0))}(e)},autoComplete:"off"},r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{type:"email",name:"email",placeholder:"Email",label:"Email",value:Y||"",onChange:function(e){return a=e.target.value,V(a),void E(!1);var a},fullWidth:!0,required:!0})),r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mt-3 mb-5"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(F.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",onChange:function(){return E(!1)},disabled:c,fullWidth:!0},r.a.createElement("span",null,"Validate Email"),r.a.createElement(H.a,{className:"pl-1",icon:U.i})),r.a.createElement("div",{className:"text-center m-0 p-0 mt-2"},r.a.createElement("span",null,"or")),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"login",variant:"contained",color:"primary",className:"pt-1 btn",disabled:c},r.a.createElement(H.a,{className:"pr-1",icon:U.o}),r.a.createElement("span",null,"LOGIN HERE")))))))),Xe&&r.a.createElement("div",null,r.a.createElement(I.a,{xs:12,className:"mt-2 text-center mb-2"},r.a.createElement("h5",null,"STEP 2: Code Validation"),r.a.createElement(I.a,{md:{size:10,offset:1},className:"text-justify pl-4 pr-4 mt-4"},r.a.createElement("h6",null,"We've sent you an email. The system has sent an email validation code to your given email address. Copy the code given and paste it in the input field."))),r.a.createElement(I.a,{xs:{size:10,offset:1}},r.a.createElement(q.a,{onSubmit:function(e){return function(e){e.preventDefault(),""!==Z?(i(!0),h.post("profile/check-code",{_email:Y,_code:Z}).then((function(e){i(!1),200===e.status?0===e.data.error?(y(e.data.message),E(!0)):(sa(!0),K(Z),ia(3)):254===e.status?(y(e.data.message),E(!0)):E(!0)})).catch((function(e){i(!1),E(!0)}))):(y("Please enter the valid code"),E(!0))}(e)},autoComplete:"off"},r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{type:"text",name:"code",value:Z||"",onChange:function(e){return a=e.target.value,K(a),void E(!1);var a},placeholder:"Code",label:"Code",fullWidth:!0,required:!0})),r.a.createElement(I.a,{xs:12,className:"mt-4 mb-3"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(F.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",className:"pt-1",disabled:c,fullWidth:!0},r.a.createElement("span",null,"Validate Code"),r.a.createElement(H.a,{className:"pl-1",icon:U.f})),r.a.createElement("div",{className:"mt-3 pb-4 mb-5"},r.a.createElement("div",{className:"text-center mt-1 float-left"},r.a.createElement(D.a,{type:"button",variant:"contained",onClick:function(){return ia(1)},className:"btn btn-primary"},r.a.createElement(H.a,{icon:U.b,className:"mr-1 text-white"})," ",r.a.createElement("span",{className:"text-white"},"Back"))),r.a.createElement("div",{className:"text-center mt-1 float-right  text-white"},r.a.createElement(D.a,{type:"button",variant:"contained",className:"btn btn-primary",disabled:!ca,onClick:function(){return ia(3)}},r.a.createElement("span",{className:"text-white"},"Next"),r.a.createElement(H.a,{icon:U.c,className:"ml-1 text-white"}))))))))),Qe&&r.a.createElement("div",null,r.a.createElement(I.a,{xs:12,className:"mt-1 text-center mb-2"},r.a.createElement("h5",null,"STEP 3: Personal Details")),r.a.createElement(I.a,{xs:12},r.a.createElement(q.a,{onSubmit:function(e){return function(e){e.preventDefault(),ia(4)}(e)},autoComplete:"off"},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(M.a,{className:"ml-5 mr-5"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement("div",null,r.a.createElement(f.a,{name:"first_name",label:"First Name",value:be,onChange:function(e){return fe(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"last_name",label:"Last Name",value:Ne,onChange:function(e){return Oe(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",name:"age",label:"Age",value:ke,onChange:function(e){return _e(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(le,{gender:ye,setGender:Se})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"mobile",type:"number",label:"Mobile Number",value:We||"",onChange:function(e){return Te(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"email",name:"email",label:"Email Address",value:Y,fullWidth:!0,disabled:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"zipcode",label:"Zipcode",value:Me||"",onChange:function(e){return ze(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{label:"Complete Address",name:"complete_address",value:Fe,onChange:function(e){return He(e.target.value)},fullWidth:!0,required:!0}))))))),r.a.createElement(I.a,{xs:12,className:"mt-2"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"100px"}},r.a.createElement(F.a,{className:"mt-4",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement("div",{className:"text-center mt-1 float-left"},r.a.createElement(D.a,{type:"button",variant:"contained",onClick:function(){return ia(2)},className:"btn btn-primary"},r.a.createElement(H.a,{icon:U.b,className:"mr-1 text-white"})," ",r.a.createElement("span",{className:"text-white"},"Back"))),r.a.createElement("div",{className:"text-center mt-1 mb-2 float-right  text-white"},r.a.createElement(D.a,{type:"submit",variant:"contained",className:"btn btn-primary"},r.a.createElement("span",{className:"text-white"},"Next"),r.a.createElement(H.a,{icon:U.c,className:"ml-1 text-white"}))))))))),ta&&r.a.createElement("div",null,r.a.createElement(I.a,{md:{size:10,offset:1}},r.a.createElement(q.a,{onSubmit:function(e){return e.preventDefault()},autoComplete:"off"},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12,className:"mt-1 text-center mb-2"},r.a.createElement("h5",null,"STEP 5: Account Details")),r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{name:"username",placeholder:"Username",value:ae,onChange:function(e){return te(e.target.value)},label:"Username",fullWidth:!0,required:!0})),r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{type:C?"text":"password",name:"password",value:ie,onChange:function(e){return me(e.target.value)},placeholder:"Password",label:"Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},r.a.createElement(v.a,{onClick:function(){return k(!C)}},C?r.a.createElement(O.a,null):r.a.createElement(x.a,null)))}})),r.a.createElement(I.a,{xs:12,className:"pl-4 pr-4 mb-2"},r.a.createElement(f.a,{type:P?"text":"password",name:"repassword",value:de,onChange:function(e){return pe(e.target.value)},placeholder:"Re-type Password",label:"Re-type Password",fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},r.a.createElement(v.a,{onClick:function(){return W(!P)}},P?r.a.createElement(O.a,null):r.a.createElement(x.a,null)))}})))),r.a.createElement(I.a,{xs:12,className:"pl-3 pr-3 mt-2 mb-2 pb-2"},c?r.a.createElement("div",{className:"text-center mt-1",style:{minHeight:"50px"}},r.a.createElement(F.a,{className:"mt-1",style:{width:"2rem",height:"2rem"},color:"primary"}),r.a.createElement("br",null),r.a.createElement("span",{className:"mt-1"},"Processing...")):r.a.createElement("div",null,r.a.createElement("div",{className:"text-center mt-1 float-left"},r.a.createElement(D.a,{type:"button",variant:"contained",onClick:function(){return ia(3)},className:"btn btn-primary"},r.a.createElement(H.a,{icon:U.b,className:"mr-1 text-white"})," ",r.a.createElement("span",{className:"text-white"},"Back"))),r.a.createElement("div",{className:"text-center mt-1 float-right  text-white"},r.a.createElement(D.a,{type:"submit",variant:"contained",className:"btn btn-primary",onClick:function(){return function(){if(ie.replace(/\s+/,"").length<=0||""===ie||""===ae)return E(!0),y("Please enter valid username and password"),null;if(ie!==de)return E(!0),y("Password doesn't match"),null;i(!0);var a={username:ae,password:ie,email:Y,first_name:be,last_name:Ne,age:ke,gender:ye,mobile:We,specific_address:Fe,zipcode:Me};h.post("profile/register",a).then((function(a){(i(!1),200===a.status)?0===a.data.error?(y(a.data.message),E(!0)):a.data.status?se.a.fire("Transaction Completed!","Personal Record Registered!","success").then((function(){e.history.push("/")})):(y(a.data.message),E(!0)):254===a.status?(y(a.data.message),E(!0)):E(!0)})).catch((function(e){i(!1),E(!0)}))}()}},r.a.createElement("span",{className:"text-white"},"Submit"),r.a.createElement(H.a,{icon:U.e,className:"ml-1 text-white"}))))))))))))))},me=t(163),oe=t(278),ue=Object(n.createContext)();function de(){return Object(n.useContext)(ue)}var pe=Object(n.createContext)();function Ee(){return Object(n.useContext)(pe)}var he=Object(n.createContext)();function be(){return Object(n.useContext)(he)}var fe=t(429),ge=t.n(fe),ve=t(41),Ne=t(759),Oe=t(104),je=t(118),xe=(t(181),Object(n.createContext)());function ye(){return Object(n.useContext)(xe)}var Se=Object(n.createContext)();function we(){return Object(n.useContext)(Se)}var Ce=Object(n.createContext)();function ke(){return Object(n.useContext)(Ce)}var _e=t(760),Le=t(763),Pe=t(762),We=t(761),Te=t(430),De=t.n(Te),Ae=t(349),Me=Object(b.a)((function(e){return{arrow:{color:e.palette.common.black},tooltip:{backgroundColor:e.palette.common.black}}}));function ze(e){var a=Me();return r.a.createElement(Ae.a,Object.assign({placement:"top",arrow:!0,classes:a},e))}function Ie(e){return r.a.createElement("div",null,r.a.createElement(ze,{title:e.content},r.a.createElement(Oe.a,{noWrap:!0,variant:"h6",component:"h5"},e.content)))}var qe=t(60),Fe=t.n(qe),He=t(136),Ue=t.n(He),Be=Object(b.a)({root:{maxWidth:250,maxHeight:220,margin:10}});function Re(e){var a=Be();return r.a.createElement(Ne.a,{className:a.root},r.a.createElement(_e.a,null,r.a.createElement(We.a,{component:"img",alt:e.carrier_name.toUpperCase(),height:"100",image:De.a,title:e.carrier_name.toUpperCase()}),r.a.createElement(Pe.a,{className:"m-0 p-1 bg-primary text-white"},r.a.createElement(Ie,{content:e.carrier_name.toUpperCase()},r.a.createElement(Oe.a,{noWrap:!0,variant:"h6",component:"h5"},e.carrier_name.toUpperCase())))),r.a.createElement(Le.a,{className:"mb-1 p-0 d-block"},r.a.createElement(z.a,{className:"m-0"},r.a.createElement(I.a,{md:12,className:"p-0"},r.a.createElement(D.a,{className:"btnLeftContent p-2 pt-1 pl-3",style:{minWidth:"100%"},size:"small",color:"primary",onClick:function(){return e.handleSelectedCarrier(e.carrier)}},r.a.createElement(Fe.a,{className:"mr-1",fontSize:"small"})," Ships")),r.a.createElement(I.a,{md:12,className:"p-0"},r.a.createElement(D.a,{className:"btnLeftContent p-2 pt-1 pl-3",style:{minWidth:"100%"},size:"small",color:"primary",onClick:function(){return e.handleCarrierSchedules(e.carrier)}},r.a.createElement(Ue.a,{className:"mr-1",fontSize:"small"})," Schedules")))))}var Ye=t(764),Ge=t(270);function Ve(e){return r.a.createElement(Ge.a,{display:"flex",alignItems:"center"},r.a.createElement(Ge.a,{width:"100%",mr:1},r.a.createElement(Ye.a,Object.assign({variant:"determinate"},e))),r.a.createElement(Ge.a,{minWidth:35},r.a.createElement(Oe.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Xe=Object(b.a)({root:{width:"100%"}}),Je=function(e){var a=Xe(),t=Object(n.useState)(0),l=Object(s.a)(t,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){return e<89&&e<100?e+Math.floor(10*Math.random())+1:99}))}),800);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(Oe.a,null,e.title),r.a.createElement(Ve,{value:c}))},Ze=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",backgroundColor:e.palette.background.paper}}}));function Ke(e){var a=d().authTokens,t=ye(),l=be(),c=we(),s=ke(),i=Ze();return Object(n.useEffect)((function(){return s.setIsShipsLoading(!0),function(){}}),[]),r.a.createElement("div",{className:i.root},r.a.createElement(z.a,{className:"ml-1",style:{minWidth:"100%",overflowY:"hidden",overflowX:"hidden",justifyContent:0===l.carriersList.length?"center":"flex-start"}},l.carriersList.length>0&&r.a.createElement(z.a,{style:{minHeight:"450px",minWidth:"100%",marginLeft:"35px",width:"100%",maxHeight:"450px",paddingRight:"30px",boxSizing:"content-box",overflowY:"scroll"}},l.carriersList.map((function(e){return r.a.createElement(Re,{carrier_name:e.carrier_name,key:e.id,carrier:e,handleSelectedCarrier:function(e){return function(e){t.setView("ships"),l.setSelectedCarrier(e),l.setCarrierName(e.carrier_name),s.setShipsList([]),s.setDefaultShips([]),h.get("carrier/ships/".concat(e.id),{headers:{Authorization:"bearer "+a.access_token}}).then((function(e){s.setShipsList(e.data),s.setDefaultShips(e.data),s.setIsShipsLoading(!1)}))}(e)},handleCarrierSchedules:function(e){return c.handleCarrierScheduleList(e)}})}))),0===l.carriersList.length&&r.a.createElement("div",{className:"text-center col-12",style:{justifyContent:"center",color:"#ccc"}},l.isLoadingCarriers&&r.a.createElement(Je,{title:"Loading Shipping Lines..."}),!l.isLoadingCarriers&&r.a.createElement(Oe.a,{variant:"h5"},"No Shipping Lines Found"))))}var Qe=t(444),$e=t(161),ea=t.n($e),aa=Object(b.a)((function(e){return{root:{padding:"2px 2px",display:"flex",alignItems:"center",width:400,float:"right",marginBottom:"10px"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function ta(){var e=aa(),a=be();return r.a.createElement(je.a,{component:"form",className:e.root},r.a.createElement(Qe.a,{onChange:function(e){return function(e){var t;if(""===e)t=a.defaultList;else{var n=new RegExp(e,"i");t=a.carriersList.filter((function(e){return n.test(e.carrier_name)}))}a.setCarriersList(t)}(e.target.value)},className:e.input,placeholder:"Search Shipping Lines",inputProps:{"aria-label":"search shipping lines"}}),r.a.createElement(v.a,{type:"submit",className:e.iconButton,"aria-label":"search"},r.a.createElement(ea.a,null)))}var na=t(432),ra=t.n(na),la=Object(b.a)({root:{minWidth:250,maxWidth:200,maxHeight:200,margin:15}});function ca(e){var a=la();return r.a.createElement(Ne.a,{className:a.root},r.a.createElement(_e.a,null,r.a.createElement(We.a,{component:"img",alt:"Ships Blue",height:"100",image:ra.a,title:e.ship.toUpperCase()}),r.a.createElement(Pe.a,{className:"m-0 p-1 bg-primary text-white"},r.a.createElement(Oe.a,{noWrap:!0,variant:"h6",component:"h5",fontSize:"small"},r.a.createElement(H.a,{className:"mr-1",icon:U.a}),e.ship.toUpperCase()))),r.a.createElement(Le.a,{className:"text-center m-0 p-0",style:{justifyContent:"center"}},r.a.createElement(D.a,{size:"small",color:"primary",className:"ml-2 mr-2 pt-2 pb-2",style:{minWidth:"100%"},onClick:function(){return e.handleSelectedShipSchedule(e.ships)}},r.a.createElement(Ue.a,{className:"mr-1",fontSize:"small"})," Schedules")))}var sa=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",backgroundColor:e.palette.background.paper}}}));function ia(e){var a=sa(),t=ke(),n=we();return r.a.createElement("div",{className:a.root},r.a.createElement(z.a,{className:"ml-1",style:{minWidth:"100%",overflowY:"hidden",overflowX:"hidden",justifyContent:0===t.shipsList.length?"center":"space-evenly"}},t.shipsList.length>0&&r.a.createElement(z.a,{style:{minHeight:"450px",minWidth:"100%",marginLeft:"80px",width:"100%",maxHeight:"450px",paddingRight:"30px",boxSizing:"content-box",overflowY:"scroll"}},t.shipsList.map((function(e){return r.a.createElement(ca,{ship:e.name,key:e.id,ships:e,handleSelectedShipSchedule:function(e){return n.handleShipScheduleList(e)}})}))),0===t.shipsList.length&&r.a.createElement("div",{className:"text-center col-12",style:{color:"#ccc"}},t.isShipsLoading&&r.a.createElement(Je,{title:"Loading Ships..."}),!t.isShipsLoading&&r.a.createElement(Oe.a,{variant:"h5"},"No Ships Found"))))}var ma=Object(b.a)((function(e){return{root:{padding:"2px 2px",display:"flex",alignItems:"center",width:400,float:"right",marginBottom:"10px"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function oa(){var e=ma(),a=ke();return r.a.createElement(je.a,{component:"form",className:e.root},r.a.createElement(Qe.a,{onChange:function(e){return function(e){var t;if(""===e)t=a.defaultShips;else{var n=new RegExp(e,"i");t=a.shipsList.filter((function(e){return n.test(e.name)}))}a.setShipsList(t)}(e.target.value)},className:e.input,placeholder:"Search Ships",inputProps:{"aria-label":"search ships"}}),r.a.createElement(v.a,{type:"submit",className:e.iconButton,"aria-label":"search"},r.a.createElement(ea.a,null)))}t(487);var ua=Object(b.a)({root:{minWidth:250,maxWidth:200,maxHeight:210,margin:15,marginBottom:0}});function da(e){var a=ua(),t=new ve.a,n=t.format(new Date(e.schedule.departure),"h:mm a"),l=t.format(new Date(e.schedule.departure),"MMMM d"),c=we();return r.a.createElement(Ne.a,{className:a.root},r.a.createElement(_e.a,null,r.a.createElement(je.a,{elevation:0,style:{minHeight:50}},r.a.createElement(Oe.a,{className:"bgMonth text-white p-3",noWrap:!0,variant:"h4",component:"h4",fontWeight:"bold"},l)),r.a.createElement(Pe.a,{className:"m-1 p-1"},r.a.createElement(Oe.a,{noWrap:!0,variant:"h5",component:"h5",fontWeight:"bold"},n),r.a.createElement(Oe.a,{noWrap:!0,fontWeight:"bold",fontSize:"small"},r.a.createElement(H.a,{icon:U.a,className:"mr-1"})," ",e.schedule.ship.name),r.a.createElement(Oe.a,{fontWeight:"bold",fontSize:"small"},e.schedule.ship.routes.toUpperCase()))),r.a.createElement(Le.a,{className:"text-center m-0 p-0",style:{justifyContent:"center"}},r.a.createElement(D.a,{style:{minWidth:"100%"},size:"small",color:"primary",onClick:function(){return c.handlePreboarding(e.schedule)},fontSize:"35px"},r.a.createElement(Ue.a,{className:"mr-1",fontSize:"small"})," PRE-BOARD")))}var pa=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",backgroundColor:e.palette.background.paper}}}));function Ea(e){var a=pa(),t=we();return r.a.createElement("div",{className:a.root},r.a.createElement(z.a,{className:"ml-1",style:{minWidth:"100%",overflowY:"hidden",overflowX:"hidden",justifyContent:0===t.carrierScheduleList.length?"center":"flex-start"}},t.carrierScheduleList.length>0&&r.a.createElement(z.a,{style:{minHeight:"450px",minWidth:"100%",marginLeft:"35px",width:"100%",maxHeight:"450px",paddingRight:"30px",boxSizing:"content-box",overflowY:"scroll"}},t.carrierScheduleList.map((function(e){return r.a.createElement(da,{schedule:e,key:e.id})}))),0===t.carrierScheduleList.length&&r.a.createElement("div",{className:"text-center col-12",style:{color:"#ccc"}},t.isScheduleLoading&&r.a.createElement(Je,{title:"Loading Schedules..."}),!t.isScheduleLoading&&r.a.createElement(Oe.a,{variant:"h5"},"No Schedules Found"))))}var ha=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",backgroundColor:e.palette.background.paper}}}));function ba(e){var a=ha(),t=we();return r.a.createElement("div",{className:a.root},r.a.createElement(z.a,{className:"ml-1",style:{minWidth:"100%",overflowY:"hidden",overflowX:"hidden",justifyContent:0===t.shipScheduleList.length?"center":"flex-start"}},t.shipScheduleList.length>0&&r.a.createElement(z.a,{style:{minHeight:"450px",minWidth:"100%",marginLeft:"35px",width:"100%",maxHeight:"450px",paddingRight:"30px",boxSizing:"content-box",overflowY:"scroll"}},t.shipScheduleList.map((function(e){return r.a.createElement(da,{schedule:e,key:e.id})}))),0===t.shipScheduleList.length&&r.a.createElement("div",{className:"text-center col-12",style:{color:"#ccc"}},t.isScheduleLoading&&r.a.createElement(Je,{title:"Loading Schedules..."}),!t.isScheduleLoading&&r.a.createElement("h3",null,"No Schedules Found"))))}var fa=t(53),ga=t(776),va=function(e){var a=Object(n.useState)(null),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{className:"mb-2"},r.a.createElement(fa.a,{utils:ve.a},r.a.createElement(ga.a,{value:l,onChange:function(a,t){return function(a){c(a),e.filterDate&&e.filterDate(a)}(a)},label:"Filter Dates",format:"MMMM d, yyyy",required:!0,disablePast:!0,clearable:!0,hideTabs:!0,showTodayButton:!0,fullWidth:!0,helperText:"",error:!1})))},Na=t(777),Oa=t(770),ja=t(771),xa=t(351),ya=t(769),Sa=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(f.a,{select:!0,label:"Select Accommodation type",name:"accommodationType",value:e.accommodationType||l,onChange:function(a){return t=a.target.value,c(t),void(e.setAccommodationType&&e.setAccommodationType(t));var t},fullWidth:!0,required:!0,disabled:e.disabled},[{value:"1st",label:"1st Class"},{value:"2nd",label:"2nd Class"},{value:"3rd",label:"3rd Class"}].map((function(e){return r.a.createElement(re.a,{key:e.value,value:e.value},e.label)}))))},wa=function(e){var a=new ve.a,t=d().authTokens,l=Ee(),c=we(),i=Object(n.useState)(!1),m=Object(s.a)(i,2),o=m[0],u=m[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],g=E[1],v=Object(n.useState)(!0),N=Object(s.a)(v,2),O=N[0],j=N[1],x=Object(n.useState)("1"),y=Object(s.a)(x,2),S=y[0],w=y[1],C=Object(n.useState)(""),k=Object(s.a)(C,2),_=k[0],L=k[1],P=Object(n.useState)(""),W=Object(s.a)(P,2),T=W[0],F=W[1],B=Object(n.useState)(""),R=Object(s.a)(B,2),Y=R[0],G=R[1],V=Object(n.useState)(""),X=Object(s.a)(V,2),J=X[0],Z=X[1],K=Object(n.useState)(""),Q=Object(s.a)(K,2),$=Q[0],ee=Q[1],ae=Object(n.useState)(""),te=Object(s.a)(ae,2),re=te[0],ce=te[1],ie=Object(n.useState)(""),me=Object(s.a)(ie,2),oe=me[0],ue=me[1],de=Object(n.useState)(""),pe=Object(s.a)(de,2),he=pe[0],be=pe[1],fe=Object(n.useState)(""),ge=Object(s.a)(fe,2),Ne=ge[0],je=ge[1],xe=Object(n.useState)(""),ye=Object(s.a)(xe,2),Se=ye[0],Ce=ye[1],ke=Object(n.useState)(""),_e=Object(s.a)(ke,2),Le=_e[0],Pe=_e[1],We=Object(n.useState)(""),Te=Object(s.a)(We,2),De=Te[0],Ae=Te[1],Me=Object(n.useState)(""),ze=Object(s.a)(Me,2),Ie=ze[0],qe=ze[1],Fe=Object(n.useState)(""),He=Object(s.a)(Fe,2),Ue=He[0],Be=He[1],Re=Object(n.useState)(""),Ye=Object(s.a)(Re,2),Ge=Ye[0],Ve=Ye[1],Xe=function(){g(!b),j(!O||null)},Je=function(e){w(e)};return Object(n.useEffect)((function(){var e=l.userData;return L(e.first_name),F(e.last_name),Z(e.age),G(e.gender),ce(e.mobile),ee(e.email),ue(e.address.zipcode),be(e.address.specific_address),function(){}}),[]),r.a.createElement(A.a,{fluid:!0,className:"pt-2"},"1"===S&&r.a.createElement("div",null,r.a.createElement(Oe.a,{className:"ml-2 d-inline"},r.a.createElement(H.a,{icon:U.j})," Click next if details are correct or"),r.a.createElement(xa.a,{className:"m-0 d-inline",control:r.a.createElement(ya.a,{checked:b,onChange:Xe,color:"primary"}),labelPlacement:"start",label:"Edit"}),r.a.createElement(q.a,{onSubmit:function(e){return function(e){e.preventDefault(),Xe();var a={first_name:_,last_name:T,gender:Y,age:J,email:$,mobile:re,zipcode:parseInt(oe),specific_address:he};h.post("auth/profile/update",a,{headers:{Authorization:"bearer "+t.access_token}}).then((function(e){e.data.status&&(Xe(),l.getUserDetails())}))}(e)},autoComplete:"off"},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(M.a,{className:"ml-2 mr-2"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6},r.a.createElement("div",null,r.a.createElement(f.a,{name:"first_name",label:"First Name",value:_,onChange:function(e){return L(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"last_name",label:"Last Name",value:T,onChange:function(e){return F(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",name:"age",label:"Age",value:J,onChange:function(e){return Z(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(le,{gender:Y,setGender:G,disabled:O}))),r.a.createElement(I.a,{md:6},r.a.createElement("div",null,r.a.createElement(f.a,{name:"mobile",type:"number",label:"Mobile Number",value:re||"",onChange:function(e){return ce(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"email",name:"email",label:"Email Address",onChange:function(e){return ee(e.target.value)},value:$,fullWidth:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"zipcode",label:"Zipcode",value:oe||"",onChange:function(e){return ue(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{label:"Complete Address",name:"complete_address",value:he,onChange:function(e){return be(e.target.value)},fullWidth:!0,required:!0,disabled:O})))))))))),b&&r.a.createElement(z.a,{className:"mt-3 ml-2"},r.a.createElement(D.a,{type:"submit",disabled:O,style:{minWidth:"120px"},className:"bg-primary text-white"},r.a.createElement(H.a,{icon:U.m,className:"mr-1"}),"Save")),!o&&r.a.createElement("div",null,!b&&r.a.createElement(z.a,{className:"mt-3 ml-2"},r.a.createElement(D.a,{type:"button",style:{minWidth:"120px"},className:"bg-primary text-white",onClick:function(){return Je("2")}},"Next"," ",r.a.createElement(H.a,{icon:U.c,className:"ml-1"})))))),"2"===S&&r.a.createElement("div",null,r.a.createElement(q.a,{onSubmit:function(n){return function(n){n.preventDefault(),u(!0),e.setIsProcessing(!0);var r={first_name:_,last_name:T,gender:Y,age:J,email:$,mobile:re,zipcode:parseInt(oe),specific_address:he,origin:c.selectedSchedule.fromLocation,destination:c.selectedSchedule.toLocation,previous_travel:De,departure:a.format(new Date(c.selectedSchedule.departure),"Y-M-dd H:m:s"),arrival:a.format(new Date(c.selectedSchedule.arrival),"Y-M-dd H:m:s"),accommodation_type:Ge,transport_no:c.selectedSchedule.voyage,route:c.selectedSchedule.ship.routes,transport_type:c.selectedSchedule.ship.transportation_category_id,seat_no:Ie,parking_space_no:Ue,ship_name:c.selectedSchedule.ship.id,companion:Ne,relative_name:Se,relative_contact:Le};h.post("auth/profile/pre-board",r,{headers:{Authorization:"bearer "+t.access_token}}).then((function(a){a.data.status?se.a.fire("Transaction Completed!","Pre-boarding Completed","success"):se.a.fire("Transaction Failed!","Pre-boarding Incomplete","error"),e.toggle(),u(!1),e.setIsProcessing(!1)})).catch((function(a){se.a.fire("Transaction Failed!","Pre-boarding Incomplete","error"),u(!1),e.setIsProcessing(!1)}))}(n)},autoComplete:"off"},r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:6},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(H.a,{icon:U.t})," Companion Details"),r.a.createElement(M.a,{className:"p-1"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(f.a,{label:"Child Companion",name:"childCompanion",value:Ne,helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return je(e.target.value)},fullWidth:!0}),r.a.createElement(f.a,{label:"Previous Place Travelled",name:"travelHistory",value:De,onChange:function(e){return Ae(e.target.value)},fullWidth:!0,required:!0}))))),r.a.createElement(I.a,{xs:6},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(H.a,{icon:U.l})," Nearest Relative"),r.a.createElement(M.a,{className:"p-1 pt-0 pb-0"},r.a.createElement(ne.a,{className:"p-1 pb-2 pl-3 pr-3"},r.a.createElement("div",null,r.a.createElement(f.a,{label:"Name",name:"relativeName",value:Se,onChange:function(e){return Ce(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",label:"Contact Number",name:"relativeContact",value:Le,onChange:function(e){return Pe(e.target.value)},fullWidth:!0,required:!0}))))),r.a.createElement(I.a,{xs:12},r.a.createElement("h6",{className:"text-primary mt-2"},r.a.createElement(H.a,{icon:U.n})," Addtional Transport Details"),r.a.createElement(z.a,null,r.a.createElement(I.a,{md:12},r.a.createElement(M.a,{className:"p-1"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6,className:"pr-4"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(Sa,{setAccommodationType:Ve}),r.a.createElement(f.a,{label:"Seat Number",name:"seatNumber",value:Ie,onChange:function(e){return qe(e.target.value)},fullWidth:!0,required:!0}))),r.a.createElement(I.a,{md:6,className:"pl-4 pr-4"},r.a.createElement("div",{className:"mt-2 mb-2 ml-1"},r.a.createElement(f.a,{label:"Parking Number (Optional)",name:"parkingNumber",value:Ue,onChange:function(e){return Be(e.target.value)},fullWidth:!0})))))))))),!o&&r.a.createElement("div",{className:"d-inline"},r.a.createElement(z.a,{className:"mt-3 p-0"},r.a.createElement(D.a,{type:"button",style:{minWidth:"120px"},className:"bg-primary text-white mr-1 ml-3",onClick:function(){return Je("1")}},r.a.createElement(H.a,{icon:U.b,className:"mr-1"}),"Back"," "),r.a.createElement(D.a,{type:"submit",style:{minWidth:"120px"},className:"bg-primary text-white"},"Save",r.a.createElement(H.a,{icon:U.e,className:"ml-1"}))))))))},Ca=function(e){var a=new ve.a,t=de(),l=we(),c=Object(n.useState)(!1),i=Object(s.a)(c,2),m=i[0],o=i[1],u=a.format(new Date(l.selectedSchedule.departure),"MMMM d, yyyy hh:ii:ss a");return r.a.createElement("div",null,r.a.createElement(Na.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:t.modalMarginLG}},r.a.createElement(Oa.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(Fe.a,null)," ",l.selectedSchedule.ship.name," ","Pre-boarding"),r.a.createElement(ja.a,{className:"pt-0"},r.a.createElement(z.a,null,r.a.createElement(Oe.a,{variant:"h6",className:"mr-1 ml-4 mt-2"},r.a.createElement(H.a,{icon:U.g,className:"mr-1"}),"Schedule: ",u),r.a.createElement(wa,{setIsProcessing:o,toggle:e.toggle})),r.a.createElement("div",null,m&&r.a.createElement(z.a,{className:"p-2"},r.a.createElement(I.a,{className:"text-center"},r.a.createElement(Je,{title:"Registering Pre-boarding Details"})))))))},ka=function(e){var a=new ve.a,t=be(),l=ye(),c=d().authTokens,i=Object(n.useState)(!0),m=Object(s.a)(i,2),o=m[0],u=m[1],p=Object(n.useState)(!0),E=Object(s.a)(p,2),b=E[0],f=E[1],g=Object(n.useState)([]),v=Object(s.a)(g,2),N=v[0],O=v[1],j=Object(n.useState)([]),x=Object(s.a)(j,2),y=x[0],S=x[1],w=Object(n.useState)(""),C=Object(s.a)(w,2),k=C[0],_=C[1],L=Object(n.useState)([]),P=Object(s.a)(L,2),W=P[0],T=P[1],M=Object(n.useState)([]),q=Object(s.a)(M,2),F=q[0],B=q[1],R=Object(n.useState)([]),Y=Object(s.a)(R,2),G=Y[0],V=Y[1],X=Object(n.useState)([]),J=Object(s.a)(X,2),Z=J[0],K=J[1],Q=Object(n.useState)(""),$=Object(s.a)(Q,2),ee=$[0],ae=$[1],te=Object(n.useState)(!1),re=Object(s.a)(te,2),le=re[0],ce=re[1],se=function(){return ce(!le)};return r.a.createElement(Se.Provider,{value:{isScheduleLoading:b,setIsScheduleLoading:f,carrierScheduleList:W,setCarrierScheduleList:T,handleCarrierScheduleList:function(e){l.setView("carrier-schedules"),t.setCarrierName(e.carrier_name),T([]),B([]),f(!0),h.get("carrier/transport/voyage/scheduled-carrier/".concat(e.id),{headers:{Authorization:"bearer "+c.access_token}}).then((function(e){T(e.data),B(e.data),f(!1)}))},shipScheduleList:G,setShipScheduleList:V,handleShipScheduleList:function(e){l.setView("ship-schedules"),V([]),K([]),f(!0),h.get("carrier/transport/voyage/scheduled-ships/".concat(e.id),{headers:{Authorization:"bearer "+c.access_token}}).then((function(e){V(e.data),K(e.data),f(!1)}))},selectedSchedule:ee,setSelectedSchedule:ae,handlePreboarding:function(e){ae(e),se()}}},r.a.createElement(Ce.Provider,{value:{isShipsLoading:o,setIsShipsLoading:u,shipsList:N,setShipsList:O,defaultShips:y,setDefaultShips:S,selectedShip:k,setSelectedShip:_}},r.a.createElement(A.a,{fluid:"true",className:"mt-5 p-0 m-0 d-block"},r.a.createElement(z.a,{className:"m-0 p-0"},"carrier"===l.view&&r.a.createElement(I.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(Ne.a,null,r.a.createElement(ne.a,null,r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6},r.a.createElement("h4",{className:"text-primary mt-2"},r.a.createElement(Fe.a,null)," Shipping Lines")),r.a.createElement(I.a,{md:6,className:"text-right"},r.a.createElement(ta,null)),r.a.createElement(I.a,{md:12},r.a.createElement("div",{className:"p-2 text-center"},r.a.createElement(Ke,null))))))),"ships"===l.view&&r.a.createElement(I.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(Ne.a,null,r.a.createElement(ne.a,null,r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6},r.a.createElement(Oe.a,{variant:"h5",className:"ml-2"},r.a.createElement(D.a,{onClick:function(){return l.setView("carrier")}},r.a.createElement(H.a,{icon:U.b,className:"mr-1"})," ","Back"),r.a.createElement(Fe.a,null)," ",t.carrierName.toUpperCase())),r.a.createElement(I.a,{md:6,className:"text-right"},r.a.createElement(oa,null)),r.a.createElement(I.a,{md:12},r.a.createElement("div",{className:"p-2 text-center"},r.a.createElement(ia,null))))))),"carrier-schedules"===l.view&&r.a.createElement(I.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(Ne.a,null,r.a.createElement(ne.a,null,r.a.createElement(z.a,null,r.a.createElement(I.a,{md:8},r.a.createElement(Oe.a,{variant:"h5",className:"ml-2"},r.a.createElement(D.a,{onClick:function(){return l.setView("carrier")}},r.a.createElement(H.a,{icon:U.b,className:"mr-1"})," ","Back"),r.a.createElement(Fe.a,null)," ",t.carrierName.toUpperCase())),r.a.createElement(I.a,{md:4},r.a.createElement(va,{filterDate:function(e){return function(e){var t=F.filter((function(t){return a.isSameDay(a.date(t.departure),a.date(e))}));T(t),f(!1)}(e)}})),r.a.createElement(I.a,{md:12},r.a.createElement("div",{className:"p-2 text-center"},r.a.createElement(Ea,null))))))),"ship-schedules"===l.view&&r.a.createElement(I.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(Ne.a,null,r.a.createElement(ne.a,null,r.a.createElement(z.a,null,r.a.createElement(I.a,{md:8},r.a.createElement(Oe.a,{variant:"h5",className:"ml-2"},r.a.createElement(D.a,{onClick:function(){return l.setView("ships")}},r.a.createElement(H.a,{icon:U.b,className:"mr-1"})," ","Back"),r.a.createElement(Fe.a,null)," ",t.carrierName.toUpperCase())),r.a.createElement(I.a,{md:4},r.a.createElement(va,{filterDate:function(e){return function(e){var t=Z.filter((function(t){return a.isSameDay(a.date(t.departure),a.date(e))}));V(t),f(!1)}(e)}})),r.a.createElement(I.a,{md:12},r.a.createElement(je.a,{className:"p-2 text-center"},r.a.createElement(ba,null))))))))),le&&r.a.createElement(Ca,{toggle:se,isOpen:le})))},_a=t(774),La=Object(n.createContext)();function Pa(){return Object(n.useContext)(La)}var Wa=t(433),Ta=t.n(Wa),Da=t(768),Aa=function(e){return r.a.createElement("div",{className:"p-0 m-0 mt-2"},e.isLoading&&r.a.createElement(Da.a,{style:{marginLeft:"48%",marginTop:"18%",position:"absolute",zIndex:"1000"}}),r.a.createElement(Ta.a,{title:e.title,data:e.data,columns:e.columns,options:e.options}))},Ma=t(434),za=function(e){var a=new ve.a,t=d().authTokens,l=Ee(),c=Pa(),i=Object(n.useState)(!1),m=Object(s.a)(i,2),o=m[0],u=m[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],g=E[1],v=Object(n.useState)(!0),N=Object(s.a)(v,2),O=N[0],j=N[1],x=Object(n.useState)("1"),y=Object(s.a)(x,2),S=y[0],w=y[1],C=Object(n.useState)(""),k=Object(s.a)(C,2),_=k[0],L=k[1],P=Object(n.useState)(""),W=Object(s.a)(P,2),T=W[0],F=W[1],B=Object(n.useState)(""),R=Object(s.a)(B,2),Y=R[0],G=R[1],V=Object(n.useState)(""),X=Object(s.a)(V,2),J=X[0],Z=X[1],K=Object(n.useState)(""),Q=Object(s.a)(K,2),$=Q[0],ee=Q[1],ae=Object(n.useState)(""),te=Object(s.a)(ae,2),re=te[0],ce=te[1],ie=Object(n.useState)(""),me=Object(s.a)(ie,2),oe=me[0],ue=me[1],de=Object(n.useState)(""),pe=Object(s.a)(de,2),he=pe[0],be=pe[1],fe=Object(n.useState)(""),ge=Object(s.a)(fe,2),Ne=ge[0],je=ge[1],xe=Object(n.useState)(""),ye=Object(s.a)(xe,2),Se=ye[0],we=ye[1],Ce=Object(n.useState)(""),ke=Object(s.a)(Ce,2),_e=ke[0],Le=ke[1],Pe=Object(n.useState)(""),We=Object(s.a)(Pe,2),Te=We[0],De=We[1],Ae=Object(n.useState)(""),Me=Object(s.a)(Ae,2),ze=Me[0],Ie=Me[1],qe=Object(n.useState)(""),Fe=Object(s.a)(qe,2),He=Fe[0],Ue=Fe[1],Be=Object(n.useState)(""),Re=Object(s.a)(Be,2),Ye=Re[0],Ge=Re[1],Ve=Object(n.useState)(""),Xe=Object(s.a)(Ve,2),Je=Xe[0],Ze=Xe[1],Ke=function(){g(!b),j(!O||null)},Qe=function(e){w(e)};return Object(n.useEffect)((function(){var e=l.userData,a=c.selectedTravel,t=c.selectedTravel.profile.relatives;return L(a.id),F(e.first_name),G(e.last_name),ee(e.age),Z(e.gender),ue(e.mobile),ce(e.email),be(e.address.zipcode),je(e.address.specific_address),we(a.companions[0].name),Ie(a.previous_place_travel),Ge(a.parking_space_no),Ze(a.accommodation_type),Ue(a.seat_no),Le(t[t.length-1].name),De(t[t.length-1].contact),function(){}}),[]),r.a.createElement(A.a,{fluid:!0,className:"pt-2"},"1"===S&&r.a.createElement("div",null,r.a.createElement(Oe.a,{className:"ml-2 d-inline"},r.a.createElement(H.a,{icon:U.j})," Click next if details are correct or"),r.a.createElement(xa.a,{className:"m-0 d-inline",control:r.a.createElement(ya.a,{checked:b,onChange:Ke,color:"primary"}),labelPlacement:"start",label:"Edit"}),r.a.createElement(q.a,{onSubmit:function(e){return function(e){e.preventDefault(),Ke();var a={first_name:T,last_name:Y,gender:J,age:$,email:re,mobile:oe,zipcode:parseInt(he),specific_address:Ne};h.post("auth/profile/update",a,{headers:{Authorization:"bearer "+t.access_token}}).then((function(e){e.data.status&&(Ke(),l.getUserDetails())}))}(e)},autoComplete:"off"},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(M.a,{className:"ml-2 mr-2"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6},r.a.createElement("div",null,r.a.createElement(f.a,{name:"first_name",label:"First Name",value:T,onChange:function(e){return F(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"last_name",label:"Last Name",value:Y,onChange:function(e){return G(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",name:"age",label:"Age",value:$,onChange:function(e){return ee(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(le,{gender:J,setGender:Z,disabled:O}))),r.a.createElement(I.a,{md:6},r.a.createElement("div",null,r.a.createElement(f.a,{name:"mobile",type:"number",label:"Mobile Number",value:oe||"",onChange:function(e){return ue(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"email",name:"email",label:"Email Address",onChange:function(e){return ce(e.target.value)},value:re,fullWidth:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"zipcode",label:"Zipcode",value:he||"",onChange:function(e){return be(e.target.value)},fullWidth:!0,required:!0,disabled:O})),r.a.createElement("div",null,r.a.createElement(f.a,{label:"Complete Address",name:"complete_address",value:Ne,onChange:function(e){return je(e.target.value)},fullWidth:!0,required:!0,disabled:O})))))))))),b&&r.a.createElement(z.a,{className:"mt-3 ml-2"},r.a.createElement(D.a,{type:"submit",disabled:O,style:{minWidth:"120px"},className:"bg-primary text-white"},r.a.createElement(H.a,{icon:U.m,className:"mr-1"}),"Save")),!o&&r.a.createElement("div",null,!b&&r.a.createElement(z.a,{className:"mt-3 ml-2"},r.a.createElement(D.a,{type:"button",style:{minWidth:"120px"},className:"bg-primary text-white",onClick:function(){return Qe("2")}},"Next"," ",r.a.createElement(H.a,{icon:U.c,className:"ml-1"})))))),"2"===S&&r.a.createElement("div",null,r.a.createElement(q.a,{onSubmit:function(n){return function(n){n.preventDefault(),u(!0),e.setIsProcessing(!0);var r={first_name:T,last_name:Y,gender:J,age:$,email:re,mobile:oe,zipcode:parseInt(he),specific_address:Ne,origin:c.selectedTravel.fromLocation,destination:c.selectedTravel.toLocation,previous_travel:ze,departure:a.format(new Date(c.selectedTravel.fromDate),"Y-M-dd H:m:s"),arrival:a.format(new Date(c.selectedTravel.toDate),"Y-M-dd H:m:s"),accommodation_type:Je,travel_id:c.selectedTravel.id,transport_no:parseInt(c.selectedTravel.vehicle_details.transport_no),route:c.selectedTravel.ships[0].routes,transport_type:c.selectedTravel.ships[0].transportation_category_id,seat_no:He,parking_space_no:Ye,ship_name:c.selectedTravel.ships[0].id,companion_name:Se,relative_name:_e,relative_contact:Te};h.put("auth/profile/update-boarding/".concat(_),r,{headers:{Authorization:"bearer "+t.access_token}}).then((function(a){var t;t=a.data.status?se.a.fire("Transaction Completed!","Pre-boarding Updated","success"):se.a.fire("Transaction Failed!","Pre-boarding Update Failed","error"),c.getTravelHistory(),u(!1),e.setIsProcessing(!1),t.then((function(){e.toggle()}))})).catch((function(a){se.a.fire("Transaction Failed!","Pre-boarding Update Failed","error"),u(!1),e.setIsProcessing(!1)}))}(n)},autoComplete:"off"},r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:6},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(H.a,{icon:U.t})," Companion Details"),r.a.createElement(M.a,{className:"p-1"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(f.a,{label:"Child Companion",name:"childCompanion",value:Se||"",helperText:"Use comma (,) as separator for multiple child",onChange:function(e){return we(e.target.value)},fullWidth:!0}),r.a.createElement(f.a,{label:"Previous Place Travelled",name:"travelHistory",value:ze,onChange:function(e){return Ie(e.target.value)},fullWidth:!0,required:!0}))))),r.a.createElement(I.a,{xs:6},r.a.createElement("h6",{className:"text-primary"},r.a.createElement(H.a,{icon:U.l})," Nearest Relative"),r.a.createElement(M.a,{className:"p-1 pt-0 pb-0"},r.a.createElement(ne.a,{className:"p-1 pb-2 pl-3 pr-3"},r.a.createElement("div",null,r.a.createElement(f.a,{label:"Name",name:"relativeName",value:_e||"",onChange:function(e){return Le(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",label:"Contact Number",name:"relativeContact",value:Te||"",onChange:function(e){return De(e.target.value)},fullWidth:!0,required:!0}))))),r.a.createElement(I.a,{xs:12},r.a.createElement("h6",{className:"text-primary mt-2"},r.a.createElement(H.a,{icon:U.n})," Addtional Transport Details"),r.a.createElement(z.a,null,r.a.createElement(I.a,{md:12},r.a.createElement(M.a,{className:"p-1"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6,className:"pr-4"},r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(Sa,{accommodationType:Je,setAccommodationType:Ze}),r.a.createElement(f.a,{label:"Seat Number",name:"seatNumber",value:He,onChange:function(e){return Ue(e.target.value)},fullWidth:!0,required:!0}))),r.a.createElement(I.a,{md:6,className:"pl-4 pr-4"},r.a.createElement("div",{className:"mt-2 mb-2 ml-1"},r.a.createElement(f.a,{label:"Parking Number (Optional)",name:"parkingNumber",value:Ye||"",onChange:function(e){return Ge(e.target.value)},fullWidth:!0})))))))))),!o&&r.a.createElement("div",{className:"d-inline"},r.a.createElement(z.a,{className:"mt-3 p-0"},r.a.createElement(D.a,{type:"button",style:{minWidth:"120px"},className:"bg-primary text-white mr-1 ml-3",onClick:function(){return Qe("1")}},r.a.createElement(H.a,{icon:U.b,className:"mr-1"}),"Back"," "),r.a.createElement(D.a,{type:"submit",style:{minWidth:"120px"},className:"bg-primary text-white"},"Save",r.a.createElement(H.a,{icon:U.e,className:"ml-1"}))))))))},Ia=function(e){var a=new ve.a,t=de(),l=Pa(),c=Object(n.useState)(!1),i=Object(s.a)(c,2),m=i[0],o=i[1],u=a.format(new Date(l.selectedTravel.fromDate),"MMMM d, yyyy hh:ii:ss a");return r.a.createElement("div",null,r.a.createElement(Na.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-xl",style:{marginTop:"6%",marginLeft:t.modalMarginLG}},r.a.createElement(Oa.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(Fe.a,null)," ",l.selectedTravel.ships.name," ","Pre-boarding Details"),r.a.createElement(ja.a,{className:"pt-0"},r.a.createElement(z.a,null,r.a.createElement(Oe.a,{variant:"h6",className:"mr-1 ml-4 mt-2"},r.a.createElement(H.a,{icon:U.g,className:"mr-1"}),"Schedule: ",u),r.a.createElement(za,{setIsProcessing:o,toggle:e.toggle})),r.a.createElement("div",null,m&&r.a.createElement(z.a,{className:"p-2"},r.a.createElement(I.a,{className:"text-center"},r.a.createElement(Je,{title:"Updating Pre-boarding Details"})))))))},qa=function(e){var a=new ve.a,t=(be(),ye(),d().authTokens),l=Object(n.useState)(!0),c=Object(s.a)(l,2),i=c[0],m=c[1],o=Object(n.useState)([]),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)([]),f=Object(s.a)(b,2),g=f[0],v=f[1],N=Object(n.useState)(!1),O=Object(s.a)(N,2),j=O[0],x=O[1],y=function(){return x(!j)},S=function(e){return Object(Ma.isArray)(e)?0===e.length?[]:null!==e&&e.length>0?e.map((function(t,n){return[a.format(new Date(t.fromDate),"MMMM d, yyyy"),a.format(new Date(t.fromDate),"hh:ii:ss a"),t.ships[0].name,t.fromLocation,t.toLocation,r.a.createElement(Oe.a,{variant:"button",className:"pending"===t.status.toLowerCase()?"text-danger":"text-success"},"pending"===t.status.toLowerCase()?"PRE-BOARDED":"BOARDED"),[t,t.status.toLowerCase(),e,n]]})):void 0:[]},w=function(){h.get("auth/profile/history",{headers:{Authorization:"bearer "+t.access_token}}).then((function(e){if(200===e.status){var a=e.data;E(S(a)),m(!1)}})).catch((function(e){m(!1)}))},C=["Departure Date","Time","Ship Name","Origin","Destination","Status",{name:"Actions",options:{customBodyRender:function(e,a,n){return"pending"===e[1]?r.a.createElement("div",{style:{color:"#1a1751",justifyContent:"center"}},r.a.createElement(Ae.a,{title:"View Details",placement:"top"},r.a.createElement(_a.a,{color:"link",className:"p-1 m-0 btn text-primary",onClick:function(){return v(e[0]),void y()}},r.a.createElement(H.a,{icon:U.r}))),r.a.createElement(Ae.a,{title:"Cancel Pre-boarding",placement:"top"},r.a.createElement(_a.a,{color:"link",className:"p-1 m-0 btn text-danger",onClick:function(){return function(e){var a=e;se.a.fire({title:"Cancel Pre-boarding?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.isConfirmed&&h.delete("auth/profile/delete/".concat(a[0].id),{headers:{Authorization:"bearer "+t.access_token}}).then((function(e){if(e.data.status){se.a.fire("Pre-boarding Cancelled",e.data.message,"success"),a[2].splice(a[3],1);var t=S(a[2]);E(t)}else se.a.fire("Transaction Failed",e.data.message,"error")}))}))}(e)}},r.a.createElement(H.a,{icon:U.d})))):r.a.createElement(Oe.a,{variant:"button",className:"text-success"},"Completed")}}}];return Object(n.useEffect)((function(){return w(),function(){}}),[]),r.a.createElement(La.Provider,{value:{selectedTravel:g,setSelectedTravel:v,getTravelHistory:w}},r.a.createElement(A.a,{fluid:"true",className:"mt-5 p-0 m-0"},r.a.createElement(z.a,{className:"m-0 p-0"},r.a.createElement(I.a,{md:12,className:"pl-0 ml-0 pr-0 mr-0"},r.a.createElement(M.a,null,r.a.createElement(ne.a,null,r.a.createElement(Oe.a,{variant:"h6",className:"text-primary"},r.a.createElement(Fe.a,null)," Travels"),i&&r.a.createElement("div",{className:"mt-3"},r.a.createElement(Je,{title:"Loading Travels..."})),!i&&0===p.length&&r.a.createElement("div",{className:"text-center",style:{color:"#ccc"}},r.a.createElement(Oe.a,{variant:"h5"},"No Travel Data Found")),!i&&p.length>0&&r.a.createElement("div",null,r.a.createElement(Aa,{data:p,isLoading:i,columns:C,options:{filterType:"dropdown",tableBodyHeight:"350px",responsive:"standard",selectableRows:"none",print:!1,download:!1,viewColumns:!1,textLabels:{body:{noMatch:"No records found"}}}})))))),j&&r.a.createElement(Ia,{isOpen:j,toggle:y})))},Fa=function(e){var a=(new ve.a).format(new Date,"Y");return r.a.createElement("div",null,r.a.createElement("footer",{className:"m-0 p-0 ml-1",style:{bottom:"0",left:"0",position:"fixed"}},r.a.createElement("small",null,"Copyright \xa9 ",a,". "),r.a.createElement("small",null,"All rights reserved")))},Ha=t(775),Ua=function(e){var a=d().authTokens,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1],m=Object(n.useState)(!1),o=Object(s.a)(m,2),u=o[0],p=o[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),N=b[0],j=b[1],y=Object(n.useState)(!1),S=Object(s.a)(y,2),w=S[0],C=S[1],k=Object(n.useState)(!1),_=Object(s.a)(k,2),L=_[0],P=_[1],W=Object(n.useState)(!1),T=Object(s.a)(W,2),D=T[0],A=T[1],q=Object(n.useState)("Invalid Input"),F=Object(s.a)(q,2),B=F[0],R=F[1],Y=Object(n.useState)(!1),G=Object(s.a)(Y,2),V=G[0],X=G[1],J=Object(n.useState)(""),Z=Object(s.a)(J,2),K=Z[0],Q=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1];return r.a.createElement("div",null,r.a.createElement(Na.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-md",style:{marginLeft:"40%",marginTop:"7%",color:"#1a1751"}},r.a.createElement(Oa.a,null,r.a.createElement(H.a,{icon:U.k})," Change Password ",r.a.createElement("br",null)),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var n=a.access_token;if(V&&R("Minimum password length is 6"),L&&R("Password doesn't match"),L||V)A(!0);else{A(!1),i(!0);var r={password:ae,new_password:K};h.post("auth/carrier/update-password",r,{headers:{Authorization:"bearer "+n}}).then((function(a){i(!1),a.data.status?(se.a.fire("Transaction Completed!","Password Successfully Updated!","success"),e.toggle()):(R(a.data.message),se.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(e){i(!1),se.a.fire("Transaction Failed!","Failed to Update Password!","error")}))}}(t)}},r.a.createElement(ja.a,null,D&&r.a.createElement("div",{className:"text-left card p-1 bg-danger"},r.a.createElement("span",{className:"text-white ml-2"},r.a.createElement(H.a,{icon:U.p})," ",B)),r.a.createElement(z.a,{className:"p-2 pt-0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(z.a,null,r.a.createElement("div",{className:"col-md-12 p-1"},r.a.createElement(M.a,{className:"p-1"},r.a.createElement(ne.a,{className:"p-1 m-1"},r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(f.a,{name:"old_password",label:"Old Password",type:w?"text":"password",onChange:function(e){return te(e.target.value)},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},r.a.createElement(v.a,{onClick:function(){return C(!w)}},w?r.a.createElement(O.a,null):r.a.createElement(x.a,null)))}})),r.a.createElement("div",null,r.a.createElement(f.a,{type:u?"text":"password",name:"new_password",label:"New Password",onChange:function(e){return a=e.target.value,Q(a),A(!1),void(a.replace(/\s+/g,"").length>=6?(X(!1),P(a!==K)):X(!0));var a},error:V,fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},r.a.createElement(v.a,{onClick:function(){return p(!u)}},u?r.a.createElement(O.a,null):r.a.createElement(x.a,null)))}})),r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement(f.a,{error:L,type:N?"text":"password",name:"confirm_password",label:"Confirm Password",onChange:function(e){return a=e.target.value,A(!1),void P(a!==K);var a},fullWidth:!0,required:!0,InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},r.a.createElement(v.a,{onClick:function(){return j(!N)}},N?r.a.createElement(O.a,null):r.a.createElement(x.a,null)))}}))))))),c&&r.a.createElement(I.a,{md:12},r.a.createElement(je.a,{className:"p-2 m-2 mt-3"},r.a.createElement(Je,{title:"Updating Password"}))))),r.a.createElement(Ha.a,null,r.a.createElement(_a.a,{type:"submit",disabled:c||D,style:{minWidth:"120px"},className:"text-white bg-primary"},r.a.createElement(H.a,{icon:U.m})," Save")," ",r.a.createElement(_a.a,{color:"danger",onClick:e.toggle,disabled:c,style:{minWidth:"120px"}},r.a.createElement(H.a,{icon:U.u})," Close")))))},Ba=function(e){var a=d().authTokens,t=Ee(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],m=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),p=u[0],E=u[1],b=Object(n.useState)(!0),g=Object(s.a)(b,2),v=g[0],N=g[1],O=Object(n.useState)(""),j=Object(s.a)(O,2),x=j[0],y=j[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),C=w[0],k=w[1],_=Object(n.useState)(""),L=Object(s.a)(_,2),P=L[0],W=L[1],T=Object(n.useState)(""),F=Object(s.a)(T,2),B=F[0],R=F[1],Y=Object(n.useState)(""),G=Object(s.a)(Y,2),V=G[0],X=G[1],J=Object(n.useState)(""),Z=Object(s.a)(J,2),K=Z[0],Q=Z[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],re=Object(n.useState)(""),ce=Object(s.a)(re,2),ie=ce[0],me=ce[1];return Object(n.useEffect)((function(){var e=t.userData;return y(e.first_name),k(e.last_name),R(e.age),W(e.gender),Q(e.mobile),X(e.email),te(e.address.zipcode),me(e.address.specific_address),function(){}}),[]),r.a.createElement(A.a,{fluid:!0,className:"pt-2"},r.a.createElement(xa.a,{className:"m-0",control:r.a.createElement(ya.a,{checked:p,onChange:function(){E(!p),N(!v||null)},color:"primary"}),label:"Edit"}),r.a.createElement(q.a,{onSubmit:function(n){return function(n){n.preventDefault(),e.setIsProcessing(!0),m(!0);var r={first_name:x,last_name:C,gender:P,age:B,email:V,mobile:K,zipcode:parseInt(ae),specific_address:ie};h.post("auth/profile/update",r,{headers:{Authorization:"bearer "+a.access_token}}).then((function(a){a.data.status?(e.setIsProcessing(!1),m(!1),se.a.fire("Transaction Completed!",a.data.message,"success"),t.getUserDetails(),e.toggle()):(e.setIsProcessing(!1),m(!1),se.a.fire("Transaction Failed!",a.data.message,"error"))})).catch((function(a){e.setIsProcessing(!1),m(!1),se.a.fire("Transaction Failed!","error")}))}(n)},autoComplete:"off"},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(z.a,null,r.a.createElement(I.a,{xs:12},r.a.createElement(M.a,{className:"ml-2 mr-2"},r.a.createElement(ne.a,{className:"pt-1"},r.a.createElement(z.a,null,r.a.createElement(I.a,{md:6},r.a.createElement("div",null,r.a.createElement(f.a,{name:"first_name",label:"First Name",value:x,onChange:function(e){return y(e.target.value)},fullWidth:!0,required:!0,disabled:v})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"last_name",label:"Last Name",value:C,onChange:function(e){return k(e.target.value)},fullWidth:!0,required:!0,disabled:v})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",name:"age",label:"Age",value:B,onChange:function(e){return R(e.target.value)},fullWidth:!0,required:!0,disabled:v})),r.a.createElement("div",null,r.a.createElement(le,{gender:P,setGender:W,disabled:v}))),r.a.createElement(I.a,{md:6},r.a.createElement("div",null,r.a.createElement(f.a,{name:"mobile",type:"number",label:"Mobile Number",value:K||"",onChange:function(e){return Q(e.target.value)},fullWidth:!0,required:!0,disabled:v})),r.a.createElement("div",null,r.a.createElement(f.a,{type:"email",name:"email",label:"Email Address",onChange:function(e){return X(e.target.value)},value:V,fullWidth:!0,disabled:v})),r.a.createElement("div",null,r.a.createElement(f.a,{name:"zipcode",label:"Zipcode",value:ae||"",onChange:function(e){return te(e.target.value)},fullWidth:!0,required:!0,disabled:v})),r.a.createElement("div",null,r.a.createElement(f.a,{label:"Complete Address",name:"complete_address",value:ie,onChange:function(e){return me(e.target.value)},fullWidth:!0,required:!0,disabled:v})))))))))),!i&&r.a.createElement("div",null,p&&r.a.createElement(z.a,{className:"mt-3 ml-2"},r.a.createElement(D.a,{type:"submit",disabled:v,style:{minWidth:"120px"},className:"bg-primary text-white"},r.a.createElement(H.a,{icon:U.m,className:"mr-1"})," Save")))))},Ra=function(e){var a=de(),t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(Na.a,{backdrop:"static",isOpen:e.isOpen,toggle:e.toggle,className:"modal-lg",style:{marginTop:"6%",marginLeft:a.modalMargin}},r.a.createElement(Oa.a,{style:{lineHeight:"2"},toggle:e.toggle},r.a.createElement(H.a,{icon:U.h})," My Profile"),r.a.createElement(ja.a,{className:"pt-0"},r.a.createElement(z.a,null,r.a.createElement(Ba,{setIsProcessing:i,toggle:e.toggle})),r.a.createElement("div",null,c&&r.a.createElement(z.a,{className:"p-2"},r.a.createElement(I.a,{className:"text-center"},r.a.createElement(Je,{title:"Updating Profile"})))))))},Ya=t(772),Ga=t(350),Va=t(76),Xa=t(734),Ja=t(736),Za=t(773),Ka=t(399),Qa=t(435),$a=t.n(Qa),et=t(436),at=t.n(et),tt=t(437),nt=t.n(tt),rt=t(439),lt=t.n(rt),ct=t(438),st=t.n(ct),it=t(3),mt=(t(725),Object(b.a)((function(e){return{root:{display:"flex",justifyContent:"center"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#1a1751"},appBarShift:{width:"calc(100% - ".concat(220,"px)"),marginLeft:220,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:220,flexShrink:0},drawerPaper:{width:220,boxShadow:"1px 0px 10px #000"},drawerHeader:Object(oe.a)(Object(oe.a)({display:"flex",alignItems:"center"},e.mixins.toolbar),{},{backgroundColor:"#FFFFFF",color:"#FFFFFF",margin:"0px",padding:"0px"}),content:{flexGrow:1,padding:e.spacing(4),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},large:{width:e.spacing(10),height:e.spacing(10)},nested:{paddingLeft:e.spacing(4)}}})));function ot(e){var a=d().authTokens,t=mt(),l=Object(n.useState)("carrier"),c=Object(s.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(""),p=Object(s.a)(u,2),E=p[0],b=p[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),N=g[0],O=g[1],j=Object(n.useState)([]),x=Object(s.a)(j,2),y=x[0],S=x[1],w=Object(n.useState)(""),C=Object(s.a)(w,2),k=C[0],_=C[1],L=Object(n.useState)(""),P=Object(s.a)(L,2),W=P[0],T=P[1],D=Object(n.useState)(!0),A=Object(s.a)(D,2),M=A[0],z=A[1],I=Object(n.useState)(!0),q=Object(s.a)(I,2),F=q[0],B=q[1],R=Object(n.useState)("20%"),Y=Object(s.a)(R,2),G=Y[0],V=Y[1],X=Object(n.useState)("30%"),J=Object(s.a)(X,2),Z=J[0],K=J[1],Q=Object(n.useState)(!1),$=Object(s.a)(Q,2),ee=$[0],ae=$[1],te=function(){return ae(!ee)},ne=Object(n.useState)(!1),re=Object(s.a)(ne,2),le=re[0],ce=re[1],se=function(){return ce(!le)},ie=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";switch(a){case"/":e.history.push("/");break;case"travels":e.history.push("/travels"),o("carrier")}},oe=function(){h.get("auth/profile/me",{headers:{Authorization:"bearer"+a.access_token}}).then((function(e){b(e.data)}))},de=Object(n.useCallback)((function(){h.get("retrieve/carriers",{headers:{Authorization:"bearer"+a.access_token}}).then((function(e){S(e.data),O(e.data),z(!1)}))}),[]);return Object(n.useEffect)((function(){return oe(),de(),function(){}}),[]),r.a.createElement(ue.Provider,{value:{modalMargin:Z,modalMarginLG:G}},r.a.createElement(xe.Provider,{value:{view:i,setView:o}},r.a.createElement(pe.Provider,{value:{userData:E,setUserdata:b,getUserDetails:oe}},r.a.createElement(he.Provider,{value:{isLoadingCarriers:M,setIsLoadingCarriers:z,carriersList:y,setCarriersList:S,defaultList:N,selectedCarrier:W,setSelectedCarrier:T,carrierName:k,setCarrierName:_}},r.a.createElement("div",{className:t.root},r.a.createElement(Ya.a,{position:"fixed",className:Object(it.default)(t.appBar,Object(me.a)({},t.appBarShift,F))},r.a.createElement(Ga.a,null,r.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",onClick:function(){B(!F),F?(V("13%"),K("20%")):(V("20%"),K("30%"))},edge:"start",className:Object(it.default)(t.menuButton),style:{outline:"none"}},r.a.createElement($a.a,null)),r.a.createElement(Oe.a,{variant:"h6",noWrap:!0},r.a.createElement("div",{className:"float-left"},r.a.createElement("img",{src:ge.a,width:"33",height:"35",alt:"EMS Logo"})),r.a.createElement("div",{className:"float-left"},r.a.createElement("ul",{className:"p-0 m-0 mt-2 ml-1",style:{listStyle:"none",lineHeight:"0.9rem"}},r.a.createElement("li",{style:{fontSize:"1.5rem"}},"PEMS"),r.a.createElement("li",null,r.a.createElement("small",{style:{fontSize:"0.8rem"}},"Passenger e-Manifest System"))))))),r.a.createElement(Va.a,{className:t.drawer,variant:"persistent",anchor:"left",open:F,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("div",{className:"container-fluid text-left mb-2",style:{color:"#1a1751",minHeight:"125px",height:"125px"}},r.a.createElement("div",{className:"text-center mt-4 pb-2 border-bottom"},r.a.createElement(at.a,{style:{width:"45px",height:"50px"}}),r.a.createElement("ul",{className:"m-0 p-0 mt-2",style:{listStyle:"none",lineHeight:"1em"}},r.a.createElement("li",{className:"border p-1 bg-primary text-white"},r.a.createElement("strong",null,a.user.toUpperCase())),r.a.createElement("li",{className:"mt-2"},"Passenger"))))),r.a.createElement(Xa.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Ja.a,{className:"mt-4",button:!0,onClick:function(){return ie("/")}},r.a.createElement(Za.a,null,r.a.createElement(nt.a,null)),r.a.createElement(Ka.a,{primary:"Dashboard"})),r.a.createElement(Ja.a,{button:!0,onClick:function(e){return function(e){e.preventDefault(),te()}(e)}},r.a.createElement(Za.a,null,r.a.createElement(H.a,{icon:U.k})),r.a.createElement(Ka.a,{primary:"My Account"})),r.a.createElement(Ja.a,{button:!0,onClick:function(e){return se()}},r.a.createElement(Za.a,null,r.a.createElement(st.a,null)),r.a.createElement(Ka.a,{primary:"My Profile"})),r.a.createElement(Ja.a,{button:!0,onClick:function(){return ie("travels")}},r.a.createElement(Za.a,null,r.a.createElement(Fe.a,null)),r.a.createElement(Ka.a,{primary:"My Travels"})),r.a.createElement(Ja.a,{button:!0,onClick:function(){return sessionStorage.removeItem("passengertokens"),void window.location.reload()}},r.a.createElement(Za.a,null,r.a.createElement(lt.a,null)),r.a.createElement(Ka.a,{primary:"Logout"})),r.a.createElement(Fa,null))),r.a.createElement("main",{className:Object(it.default)(t.content,Object(me.a)({},t.contentShift,F))},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(ka,null)),r.a.createElement(m.b,{exact:!0,path:"/travels"},r.a.createElement(qa,null))),ee&&r.a.createElement(Ua,{isOpen:ee,toggle:te}),le&&r.a.createElement(Ra,{isOpen:le,toggle:se})))))))}var ut=function(e){Object(K.a)(t,e);var a=Object(Q.a)(t);function t(){return Object(J.a)(this,t),a.apply(this,arguments)}return Object(Z.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container card",style:{marginTop:"10%"}},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement("h3",{className:"text-danger  p-1 m-4"},r.a.createElement("b",null,"Error 404: ")," Page Not Found"))))}}]),t}(n.Component),dt=function(e){var a=JSON.parse(sessionStorage.getItem("passengertokens")),t=Object(n.useState)(a),l=Object(s.a)(t,2),c=l[0],o=l[1];return r.a.createElement(u.Provider,{value:{authTokens:c,setAuthTokens:function(e){sessionStorage.setItem("passengertokens",JSON.stringify(e)),o(e)}}},r.a.createElement(i.a,{basename:"/marina/module/passenger"},r.a.createElement(m.d,null,r.a.createElement(p,{exact:!0,path:"/",component:ot}),r.a.createElement(p,{exact:!0,path:"/travels",component:ot}),r.a.createElement(m.b,{exact:!0,path:"/login",component:te}),r.a.createElement(m.b,{exact:!0,path:"/register",component:ie}),r.a.createElement(m.b,{component:ut}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[454,1,2]]]);
//# sourceMappingURL=main.795ec74e.chunk.js.map